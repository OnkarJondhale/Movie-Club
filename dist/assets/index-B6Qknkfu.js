(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function L0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xh={exports:{}},wa={},Zh={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function M0(){if(bm)return Ne;bm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function V(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,H={};function $(D,B,te){this.props=D,this.context=B,this.refs=H,this.updater=te||z}$.prototype.isReactComponent={},$.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ie(){}ie.prototype=$.prototype;function ne(D,B,te){this.props=D,this.context=B,this.refs=H,this.updater=te||z}var Z=ne.prototype=new ie;Z.constructor=ne,W(Z,$.prototype),Z.isPureReactComponent=!0;var oe=Array.isArray,De=Object.prototype.hasOwnProperty,Ee={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(D,B,te){var pe,_e={},Re=null,we=null;if(B!=null)for(pe in B.ref!==void 0&&(we=B.ref),B.key!==void 0&&(Re=""+B.key),B)De.call(B,pe)&&!k.hasOwnProperty(pe)&&(_e[pe]=B[pe]);var ke=arguments.length-2;if(ke===1)_e.children=te;else if(1<ke){for(var $e=Array(ke),Et=0;Et<ke;Et++)$e[Et]=arguments[Et+2];_e.children=$e}if(D&&D.defaultProps)for(pe in ke=D.defaultProps,ke)_e[pe]===void 0&&(_e[pe]=ke[pe]);return{$$typeof:r,type:D,key:Re,ref:we,props:_e,_owner:Ee.current}}function I(D,B){return{$$typeof:r,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return B[te]})}var O=/\/+/g;function A(D,B){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):B.toString(36)}function ze(D,B,te,pe,_e){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(Re){case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case r:case e:we=!0}}if(we)return we=D,_e=_e(we),D=pe===""?"."+A(we,0):pe,oe(_e)?(te="",D!=null&&(te=D.replace(O,"$&/")+"/"),ze(_e,B,te,"",function(Et){return Et})):_e!=null&&(C(_e)&&(_e=I(_e,te+(!_e.key||we&&we.key===_e.key?"":(""+_e.key).replace(O,"$&/")+"/")+D)),B.push(_e)),1;if(we=0,pe=pe===""?".":pe+":",oe(D))for(var ke=0;ke<D.length;ke++){Re=D[ke];var $e=pe+A(Re,ke);we+=ze(Re,B,te,$e,_e)}else if($e=V(D),typeof $e=="function")for(D=$e.call(D),ke=0;!(Re=D.next()).done;)Re=Re.value,$e=pe+A(Re,ke++),we+=ze(Re,B,te,$e,_e);else if(Re==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return we}function Qe(D,B,te){if(D==null)return D;var pe=[],_e=0;return ze(D,pe,"","",function(Re){return B.call(te,Re,_e++)}),pe}function Ye(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var Pe={current:null},J={transition:null},ce={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:J,ReactCurrentOwner:Ee};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Qe,forEach:function(D,B,te){Qe(D,function(){B.apply(this,arguments)},te)},count:function(D){var B=0;return Qe(D,function(){B++}),B},toArray:function(D){return Qe(D,function(B){return B})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ne.Component=$,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=ne,Ne.StrictMode=s,Ne.Suspense=g,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ne.act=re,Ne.cloneElement=function(D,B,te){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var pe=W({},D.props),_e=D.key,Re=D.ref,we=D._owner;if(B!=null){if(B.ref!==void 0&&(Re=B.ref,we=Ee.current),B.key!==void 0&&(_e=""+B.key),D.type&&D.type.defaultProps)var ke=D.type.defaultProps;for($e in B)De.call(B,$e)&&!k.hasOwnProperty($e)&&(pe[$e]=B[$e]===void 0&&ke!==void 0?ke[$e]:B[$e])}var $e=arguments.length-2;if($e===1)pe.children=te;else if(1<$e){ke=Array($e);for(var Et=0;Et<$e;Et++)ke[Et]=arguments[Et+2];pe.children=ke}return{$$typeof:r,type:D.type,key:_e,ref:Re,props:pe,_owner:we}},Ne.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:u,_context:D},D.Consumer=D},Ne.createElement=T,Ne.createFactory=function(D){var B=T.bind(null,D);return B.type=D,B},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:f,render:D}},Ne.isValidElement=C,Ne.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:Ye}},Ne.memo=function(D,B){return{$$typeof:_,type:D,compare:B===void 0?null:B}},Ne.startTransition=function(D){var B=J.transition;J.transition={};try{D()}finally{J.transition=B}},Ne.unstable_act=re,Ne.useCallback=function(D,B){return Pe.current.useCallback(D,B)},Ne.useContext=function(D){return Pe.current.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D){return Pe.current.useDeferredValue(D)},Ne.useEffect=function(D,B){return Pe.current.useEffect(D,B)},Ne.useId=function(){return Pe.current.useId()},Ne.useImperativeHandle=function(D,B,te){return Pe.current.useImperativeHandle(D,B,te)},Ne.useInsertionEffect=function(D,B){return Pe.current.useInsertionEffect(D,B)},Ne.useLayoutEffect=function(D,B){return Pe.current.useLayoutEffect(D,B)},Ne.useMemo=function(D,B){return Pe.current.useMemo(D,B)},Ne.useReducer=function(D,B,te){return Pe.current.useReducer(D,B,te)},Ne.useRef=function(D){return Pe.current.useRef(D)},Ne.useState=function(D){return Pe.current.useState(D)},Ne.useSyncExternalStore=function(D,B,te){return Pe.current.useSyncExternalStore(D,B,te)},Ne.useTransition=function(){return Pe.current.useTransition()},Ne.version="18.3.1",Ne}var Om;function jd(){return Om||(Om=1,Zh.exports=M0()),Zh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function U0(){if(Vm)return wa;Vm=1;var r=jd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,_){var w,R={},V=null,z=null;_!==void 0&&(V=""+_),g.key!==void 0&&(V=""+g.key),g.ref!==void 0&&(z=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(R[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)R[w]===void 0&&(R[w]=g[w]);return{$$typeof:e,type:f,key:V,ref:z,props:R,_owner:o.current}}return wa.Fragment=t,wa.jsx=h,wa.jsxs=h,wa}var Lm;function F0(){return Lm||(Lm=1,Xh.exports=U0()),Xh.exports}var x=F0(),mu={},ed={exports:{}},Zt={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function j0(){return Mm||(Mm=1,function(r){function e(J,ce){var re=J.length;J.push(ce);e:for(;0<re;){var D=re-1>>>1,B=J[D];if(0<o(B,ce))J[D]=ce,J[re]=B,re=D;else break e}}function t(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ce=J[0],re=J.pop();if(re!==ce){J[0]=re;e:for(var D=0,B=J.length,te=B>>>1;D<te;){var pe=2*(D+1)-1,_e=J[pe],Re=pe+1,we=J[Re];if(0>o(_e,re))Re<B&&0>o(we,_e)?(J[D]=we,J[Re]=re,D=Re):(J[D]=_e,J[pe]=re,D=pe);else if(Re<B&&0>o(we,re))J[D]=we,J[Re]=re,D=Re;else break e}}return ce}function o(J,ce){var re=J.sortIndex-ce.sortIndex;return re!==0?re:J.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],_=[],w=1,R=null,V=3,z=!1,W=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(J){for(var ce=t(_);ce!==null;){if(ce.callback===null)s(_);else if(ce.startTime<=J)s(_),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(_)}}function oe(J){if(H=!1,Z(J),!W)if(t(g)!==null)W=!0,Ye(De);else{var ce=t(_);ce!==null&&Pe(oe,ce.startTime-J)}}function De(J,ce){W=!1,H&&(H=!1,ie(T),T=-1),z=!0;var re=V;try{for(Z(ce),R=t(g);R!==null&&(!(R.expirationTime>ce)||J&&!N());){var D=R.callback;if(typeof D=="function"){R.callback=null,V=R.priorityLevel;var B=D(R.expirationTime<=ce);ce=r.unstable_now(),typeof B=="function"?R.callback=B:R===t(g)&&s(g),Z(ce)}else s(g);R=t(g)}if(R!==null)var te=!0;else{var pe=t(_);pe!==null&&Pe(oe,pe.startTime-ce),te=!1}return te}finally{R=null,V=re,z=!1}}var Ee=!1,k=null,T=-1,I=5,C=-1;function N(){return!(r.unstable_now()-C<I)}function O(){if(k!==null){var J=r.unstable_now();C=J;var ce=!0;try{ce=k(!0,J)}finally{ce?A():(Ee=!1,k=null)}}else Ee=!1}var A;if(typeof ne=="function")A=function(){ne(O)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,Qe=ze.port2;ze.port1.onmessage=O,A=function(){Qe.postMessage(null)}}else A=function(){$(O,0)};function Ye(J){k=J,Ee||(Ee=!0,A())}function Pe(J,ce){T=$(function(){J(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){W||z||(W=!0,Ye(De))},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(J){switch(V){case 1:case 2:case 3:var ce=3;break;default:ce=V}var re=V;V=ce;try{return J()}finally{V=re}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var re=V;V=J;try{return ce()}finally{V=re}},r.unstable_scheduleCallback=function(J,ce,re){var D=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?D+re:D):re=D,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=re+B,J={id:w++,callback:ce,priorityLevel:J,startTime:re,expirationTime:B,sortIndex:-1},re>D?(J.sortIndex=re,e(_,J),t(g)===null&&J===t(_)&&(H?(ie(T),T=-1):H=!0,Pe(oe,re-D))):(J.sortIndex=B,e(g,J),W||z||(W=!0,Ye(De))),J},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(J){var ce=V;return function(){var re=V;V=ce;try{return J.apply(this,arguments)}finally{V=re}}}}(nd)),nd}var Um;function z0(){return Um||(Um=1,td.exports=j0()),td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function B0(){if(Fm)return Zt;Fm=1;var r=jd(),e=z0();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function V(n){return g.call(R,n)?!0:g.call(w,n)?!1:_.test(n)?R[n]=!0:(w[n]=!0,!1)}function z(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function W(n,i,a,c){if(i===null||typeof i>"u"||z(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function H(n,i,a,c,d,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];$[i]=new H(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){$[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){$[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){$[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){$[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){$[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var ie=/[\-:]([a-z])/g;function ne(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(ie,ne);$[i]=new H(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(ie,ne);$[i]=new H(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(ie,ne);$[i]=new H(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){$[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),$.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){$[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function Z(n,i,a,c){var d=$.hasOwnProperty(i)?$[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(W(i,a,d,c)&&(a=null),c||d===null?V(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var oe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,De=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),Qe=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),J=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var re=Object.assign,D;function B(n){if(D===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||""}return`
`+D+n}var te=!1;function pe(n,i){if(!n||te)return"";te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(F){var c=F}Reflect.construct(n,[],i)}else{try{i.call()}catch(F){c=F}n.call(i.prototype)}else{try{throw Error()}catch(F){c=F}n()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var d=F.stack.split(`
`),m=c.stack.split(`
`),v=d.length-1,S=m.length-1;1<=v&&0<=S&&d[v]!==m[S];)S--;for(;1<=v&&0<=S;v--,S--)if(d[v]!==m[S]){if(v!==1||S!==1)do if(v--,S--,0>S||d[v]!==m[S]){var P=`
`+d[v].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=v&&0<=S);break}}}finally{te=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?B(n):""}function _e(n){switch(n.tag){case 5:return B(n.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return n=pe(n.type,!1),n;case 11:return n=pe(n.type.render,!1),n;case 1:return n=pe(n.type,!0),n;default:return""}}function Re(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case Ee:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case ze:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case C:return(n._context.displayName||"Context")+".Provider";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Qe:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case Ye:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}function we(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ke(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $e(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Et(n){var i=$e(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ir(n){n._valueTracker||(n._valueTracker=Et(n))}function us(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=$e(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ti(n,i){var a=i.checked;return re({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function cs(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=ke(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Co(n,i){i=i.checked,i!=null&&Z(n,"checked",i,!1)}function ko(n,i){Co(n,i);var a=ke(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?hs(n,i.type,a):i.hasOwnProperty("defaultValue")&&hs(n,i.type,ke(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function el(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function hs(n,i,a){(i!=="number"||Dr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var sr=Array.isArray;function or(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+ke(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Po(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ds(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(sr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:ke(a)}}function fs(n,i){var a=ke(i.value),c=ke(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function xo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function dt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?dt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ar,No=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ar.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function br(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Si=["Webkit","ms","Moz","O"];Object.keys(Ii).forEach(function(n){Si.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Ii[i]=Ii[n]})});function Do(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ii.hasOwnProperty(n)&&Ii[n]?(""+i).trim():i+"px"}function bo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Do(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Oo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(n,i){if(i){if(Oo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Lo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ai=null;function ps(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ms=null,cn=null,jn=null;function gs(n){if(n=oa(n)){if(typeof ms!="function")throw Error(t(280));var i=n.stateNode;i&&(i=xl(i),ms(n.stateNode,n.type,i))}}function zn(n){cn?jn?jn.push(n):jn=[n]:cn=n}function Mo(){if(cn){var n=cn,i=jn;if(jn=cn=null,gs(n),i)for(n=0;n<i.length;n++)gs(i[n])}}function Ri(n,i){return n(i)}function Uo(){}var lr=!1;function Fo(n,i,a){if(lr)return n(i,a);lr=!0;try{return Ri(n,i,a)}finally{lr=!1,(cn!==null||jn!==null)&&(Uo(),Mo())}}function ot(n,i){var a=n.stateNode;if(a===null)return null;var c=xl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var ys=!1;if(f)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{ys=!1}function Ci(n,i,a,c,d,m,v,S,P){var F=Array.prototype.slice.call(arguments,3);try{i.apply(a,F)}catch(G){this.onError(G)}}var ki=!1,vs=null,In=!1,jo=null,Rc={onError:function(n){ki=!0,vs=n}};function _s(n,i,a,c,d,m,v,S,P){ki=!1,vs=null,Ci.apply(Rc,arguments)}function tl(n,i,a,c,d,m,v,S,P){if(_s.apply(this,arguments),ki){if(ki){var F=vs;ki=!1,vs=null}else throw Error(t(198));In||(In=!0,jo=F)}}function Sn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Pi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function An(n){if(Sn(n)!==n)throw Error(t(188))}function nl(n){var i=n.alternate;if(!i){if(i=Sn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return An(d),n;if(m===c)return An(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var v=!1,S=d.child;S;){if(S===a){v=!0,a=d,c=m;break}if(S===c){v=!0,c=d,a=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===a){v=!0,a=m,c=d;break}if(S===c){v=!0,c=m,a=d;break}S=S.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function zo(n){return n=nl(n),n!==null?Es(n):null}function Es(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Es(n);if(i!==null)return i;n=n.sibling}return null}var ws=e.unstable_scheduleCallback,Bo=e.unstable_cancelCallback,rl=e.unstable_shouldYield,Cc=e.unstable_requestPaint,Ke=e.unstable_now,il=e.unstable_getCurrentPriorityLevel,xi=e.unstable_ImmediatePriority,Or=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,$o=e.unstable_LowPriority,sl=e.unstable_IdlePriority,Ni=null,tn=null;function ol(n){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ni,n,void 0,(n.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:ll,Ho=Math.log,al=Math.LN2;function ll(n){return n>>>=0,n===0?32:31-(Ho(n)/al|0)|0}var Ts=64,Is=4194304;function Vr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Di(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,v=a&268435455;if(v!==0){var S=v&~d;S!==0?c=Vr(S):(m&=v,m!==0&&(c=Vr(m)))}else v=a&~d,v!==0?c=Vr(v):m!==0&&(c=Vr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-zt(i),d=1<<a,c|=n[a],i&=~d;return c}function kc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var v=31-zt(m),S=1<<v,P=d[v];P===-1?(!(S&a)||S&c)&&(d[v]=kc(S,i)):P<=i&&(n.expiredLanes|=S),m&=~S}}function nn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function bi(){var n=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),n}function Lr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Mr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-zt(i),n[i]=a}function qe(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-zt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Ur(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-zt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Ve=0;function Fr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var ul,Ss,cl,hl,dl,Wo=!1,Bn=[],Rt=null,Rn=null,Cn=null,jr=new Map,dn=new Map,$n=[],Pc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fl(n,i){switch(n){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":jr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(i.pointerId)}}function qt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=oa(i),i!==null&&Ss(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function xc(n,i,a,c,d){switch(i){case"focusin":return Rt=qt(Rt,n,i,a,c,d),!0;case"dragenter":return Rn=qt(Rn,n,i,a,c,d),!0;case"mouseover":return Cn=qt(Cn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return jr.set(m,qt(jr.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,dn.set(m,qt(dn.get(m)||null,n,i,a,c,d)),!0}return!1}function pl(n){var i=Ui(n.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=Pi(a),i!==null){n.blockedOn=i,dl(n.priority,function(){cl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=As(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ai=c,a.target.dispatchEvent(c),Ai=null}else return i=oa(a),i!==null&&Ss(i),n.blockedOn=a,!1;i.shift()}return!0}function Oi(n,i,a){cr(n)&&a.delete(i)}function ml(){Wo=!1,Rt!==null&&cr(Rt)&&(Rt=null),Rn!==null&&cr(Rn)&&(Rn=null),Cn!==null&&cr(Cn)&&(Cn=null),jr.forEach(Oi),dn.forEach(Oi)}function kn(n,i){n.blockedOn===i&&(n.blockedOn=null,Wo||(Wo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ml)))}function Pn(n){function i(d){return kn(d,n)}if(0<Bn.length){kn(Bn[0],n);for(var a=1;a<Bn.length;a++){var c=Bn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Rt!==null&&kn(Rt,n),Rn!==null&&kn(Rn,n),Cn!==null&&kn(Cn,n),jr.forEach(i),dn.forEach(i),a=0;a<$n.length;a++)c=$n[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<$n.length&&(a=$n[0],a.blockedOn===null);)pl(a),a.blockedOn===null&&$n.shift()}var hr=oe.ReactCurrentBatchConfig,zr=!0;function Ze(n,i,a,c){var d=Ve,m=hr.transition;hr.transition=null;try{Ve=1,qo(n,i,a,c)}finally{Ve=d,hr.transition=m}}function Nc(n,i,a,c){var d=Ve,m=hr.transition;hr.transition=null;try{Ve=4,qo(n,i,a,c)}finally{Ve=d,hr.transition=m}}function qo(n,i,a,c){if(zr){var d=As(n,i,a,c);if(d===null)Bc(n,i,c,Vi,a),fl(n,c);else if(xc(d,n,i,a,c))c.stopPropagation();else if(fl(n,c),i&4&&-1<Pc.indexOf(n)){for(;d!==null;){var m=oa(d);if(m!==null&&ul(m),m=As(n,i,a,c),m===null&&Bc(n,i,c,Vi,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else Bc(n,i,c,null,a)}}var Vi=null;function As(n,i,a,c){if(Vi=null,n=ps(c),n=Ui(n),n!==null)if(i=Sn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Pi(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Vi=n,null}function Ko(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(il()){case xi:return 1;case Or:return 4;case hn:case $o:return 16;case sl:return 536870912;default:return 16}default:return 16}}var rn=null,Rs=null,Kt=null;function Go(){if(Kt)return Kt;var n,i=Rs,a=i.length,c,d="value"in rn?rn.value:rn.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===d[m-c];c++);return Kt=d.slice(n,1<c?1-c:void 0)}function Cs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Hn(){return!0}function Qo(){return!1}function Ct(n){function i(a,c,d,m,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Hn:Qo,this.isPropagationStopped=Qo,this}return re(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),i}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=Ct(xn),Wn=re({},xn,{view:0,detail:0}),Dc=Ct(Wn),Ps,dr,Br,Li=re({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Br&&(Br&&n.type==="mousemove"?(Ps=n.screenX-Br.screenX,dr=n.screenY-Br.screenY):dr=Ps=0,Br=n),Ps)},movementY:function(n){return"movementY"in n?n.movementY:dr}}),xs=Ct(Li),Yo=re({},Li,{dataTransfer:0}),gl=Ct(Yo),Ns=re({},Wn,{relatedTarget:0}),Ds=Ct(Ns),yl=re({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),fr=Ct(yl),vl=re({},xn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_l=Ct(vl),El=re({},xn,{data:0}),Jo=Ct(El),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=wl[n])?!!i[n]:!1}function qn(){return Tl}var l=re({},Wn,{key:function(n){if(n.key){var i=bs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Cs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(n){return n.type==="keypress"?Cs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Ct(l),y=re({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Ct(y),L=re({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),j=Ct(L),ee=re({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Ct(ee),pt=re({},Li,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Ct(pt),wt=[9,13,27,32],ut=f&&"CompositionEvent"in window,fn=null;f&&"documentMode"in document&&(fn=document.documentMode);var sn=f&&"TextEvent"in window&&!fn,Mi=f&&(!ut||fn&&8<fn&&11>=fn),Os=" ",Cf=!1;function kf(n,i){switch(n){case"keyup":return wt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vs=!1;function b_(n,i){switch(n){case"compositionend":return Pf(i);case"keypress":return i.which!==32?null:(Cf=!0,Os);case"textInput":return n=i.data,n===Os&&Cf?null:n;default:return null}}function O_(n,i){if(Vs)return n==="compositionend"||!ut&&kf(n,i)?(n=Go(),Kt=Rs=rn=null,Vs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Mi&&i.locale!=="ko"?null:i.data;default:return null}}var V_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!V_[n.type]:i==="textarea"}function Nf(n,i,a,c){zn(c),i=Cl(i,"onChange"),0<i.length&&(a=new ks("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Xo=null,Zo=null;function L_(n){Qf(n,0)}function Il(n){var i=js(n);if(us(i))return n}function M_(n,i){if(n==="change")return i}var Df=!1;if(f){var bc;if(f){var Oc="oninput"in document;if(!Oc){var bf=document.createElement("div");bf.setAttribute("oninput","return;"),Oc=typeof bf.oninput=="function"}bc=Oc}else bc=!1;Df=bc&&(!document.documentMode||9<document.documentMode)}function Of(){Xo&&(Xo.detachEvent("onpropertychange",Vf),Zo=Xo=null)}function Vf(n){if(n.propertyName==="value"&&Il(Zo)){var i=[];Nf(i,Zo,n,ps(n)),Fo(L_,i)}}function U_(n,i,a){n==="focusin"?(Of(),Xo=i,Zo=a,Xo.attachEvent("onpropertychange",Vf)):n==="focusout"&&Of()}function F_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Il(Zo)}function j_(n,i){if(n==="click")return Il(i)}function z_(n,i){if(n==="input"||n==="change")return Il(i)}function B_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Nn=typeof Object.is=="function"?Object.is:B_;function ea(n,i){if(Nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!Nn(n[d],i[d]))return!1}return!0}function Lf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mf(n,i){var a=Lf(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lf(a)}}function Uf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Uf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ff(){for(var n=window,i=Dr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Dr(n.document)}return i}function Vc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function $_(n){var i=Ff(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Uf(a.ownerDocument.documentElement,a)){if(c!==null&&Vc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=Mf(a,m);var v=Mf(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var H_=f&&"documentMode"in document&&11>=document.documentMode,Ls=null,Lc=null,ta=null,Mc=!1;function jf(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mc||Ls==null||Ls!==Dr(c)||(c=Ls,"selectionStart"in c&&Vc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ta&&ea(ta,c)||(ta=c,c=Cl(Lc,"onSelect"),0<c.length&&(i=new ks("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Ls)))}function Sl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ms={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionend:Sl("Transition","TransitionEnd")},Uc={},zf={};f&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Al(n){if(Uc[n])return Uc[n];if(!Ms[n])return n;var i=Ms[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in zf)return Uc[n]=i[a];return n}var Bf=Al("animationend"),$f=Al("animationiteration"),Hf=Al("animationstart"),Wf=Al("transitionend"),qf=new Map,Kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(n,i){qf.set(n,i),u(i,[n])}for(var Fc=0;Fc<Kf.length;Fc++){var jc=Kf[Fc],W_=jc.toLowerCase(),q_=jc[0].toUpperCase()+jc.slice(1);$r(W_,"on"+q_)}$r(Bf,"onAnimationEnd"),$r($f,"onAnimationIteration"),$r(Hf,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(Wf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K_=new Set("cancel close invalid load scroll toggle".split(" ").concat(na));function Gf(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,tl(c,i,void 0,n),n.currentTarget=null}function Qf(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var S=c[v],P=S.instance,F=S.currentTarget;if(S=S.listener,P!==m&&d.isPropagationStopped())break e;Gf(d,S,F),m=P}else for(v=0;v<c.length;v++){if(S=c[v],P=S.instance,F=S.currentTarget,S=S.listener,P!==m&&d.isPropagationStopped())break e;Gf(d,S,F),m=P}}}if(In)throw n=jo,In=!1,jo=null,n}function Je(n,i){var a=i[Gc];a===void 0&&(a=i[Gc]=new Set);var c=n+"__bubble";a.has(c)||(Yf(i,n,2,!1),a.add(c))}function zc(n,i,a){var c=0;i&&(c|=4),Yf(a,n,c,i)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function ra(n){if(!n[Rl]){n[Rl]=!0,s.forEach(function(a){a!=="selectionchange"&&(K_.has(a)||zc(a,!1,n),zc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Rl]||(i[Rl]=!0,zc("selectionchange",!1,i))}}function Yf(n,i,a,c){switch(Ko(i)){case 1:var d=Ze;break;case 4:d=Nc;break;default:d=qo}a=d.bind(null,i,a,n),d=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Bc(n,i,a,c,d){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;v=v.return}for(;S!==null;){if(v=Ui(S),v===null)return;if(P=v.tag,P===5||P===6){c=m=v;continue e}S=S.parentNode}}c=c.return}Fo(function(){var F=m,G=ps(a),Y=[];e:{var K=qf.get(n);if(K!==void 0){var se=ks,ue=n;switch(n){case"keypress":if(Cs(a)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":ue="focus",se=Ds;break;case"focusout":ue="blur",se=Ds;break;case"beforeblur":case"afterblur":se=Ds;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=j;break;case Bf:case $f:case Hf:se=fr;break;case Wf:se=We;break;case"scroll":se=Dc;break;case"wheel":se=Me;break;case"copy":case"cut":case"paste":se=_l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var he=(i&4)!==0,at=!he&&n==="scroll",M=he?K!==null?K+"Capture":null:K;he=[];for(var b=F,U;b!==null;){U=b;var X=U.stateNode;if(U.tag===5&&X!==null&&(U=X,M!==null&&(X=ot(b,M),X!=null&&he.push(ia(b,X,U)))),at)break;b=b.return}0<he.length&&(K=new se(K,ue,null,a,G),Y.push({event:K,listeners:he}))}}if(!(i&7)){e:{if(K=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",K&&a!==Ai&&(ue=a.relatedTarget||a.fromElement)&&(Ui(ue)||ue[pr]))break e;if((se||K)&&(K=G.window===G?G:(K=G.ownerDocument)?K.defaultView||K.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=F,ue=ue?Ui(ue):null,ue!==null&&(at=Sn(ue),ue!==at||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=F),se!==ue)){if(he=xs,X="onMouseLeave",M="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(he=E,X="onPointerLeave",M="onPointerEnter",b="pointer"),at=se==null?K:js(se),U=ue==null?K:js(ue),K=new he(X,b+"leave",se,a,G),K.target=at,K.relatedTarget=U,X=null,Ui(G)===F&&(he=new he(M,b+"enter",ue,a,G),he.target=U,he.relatedTarget=at,X=he),at=X,se&&ue)t:{for(he=se,M=ue,b=0,U=he;U;U=Us(U))b++;for(U=0,X=M;X;X=Us(X))U++;for(;0<b-U;)he=Us(he),b--;for(;0<U-b;)M=Us(M),U--;for(;b--;){if(he===M||M!==null&&he===M.alternate)break t;he=Us(he),M=Us(M)}he=null}else he=null;se!==null&&Jf(Y,K,se,he,!1),ue!==null&&at!==null&&Jf(Y,at,ue,he,!0)}}e:{if(K=F?js(F):window,se=K.nodeName&&K.nodeName.toLowerCase(),se==="select"||se==="input"&&K.type==="file")var fe=M_;else if(xf(K))if(Df)fe=z_;else{fe=F_;var ge=U_}else(se=K.nodeName)&&se.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(fe=j_);if(fe&&(fe=fe(n,F))){Nf(Y,fe,a,G);break e}ge&&ge(n,K,F),n==="focusout"&&(ge=K._wrapperState)&&ge.controlled&&K.type==="number"&&hs(K,"number",K.value)}switch(ge=F?js(F):window,n){case"focusin":(xf(ge)||ge.contentEditable==="true")&&(Ls=ge,Lc=F,ta=null);break;case"focusout":ta=Lc=Ls=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,jf(Y,a,G);break;case"selectionchange":if(H_)break;case"keydown":case"keyup":jf(Y,a,G)}var ye;if(ut)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Vs?kf(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Mi&&a.locale!=="ko"&&(Vs||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Vs&&(ye=Go()):(rn=G,Rs="value"in rn?rn.value:rn.textContent,Vs=!0)),ge=Cl(F,Ie),0<ge.length&&(Ie=new Jo(Ie,n,null,a,G),Y.push({event:Ie,listeners:ge}),ye?Ie.data=ye:(ye=Pf(a),ye!==null&&(Ie.data=ye)))),(ye=sn?b_(n,a):O_(n,a))&&(F=Cl(F,"onBeforeInput"),0<F.length&&(G=new Jo("onBeforeInput","beforeinput",null,a,G),Y.push({event:G,listeners:F}),G.data=ye))}Qf(Y,i)})}function ia(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Cl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=ot(n,a),m!=null&&c.unshift(ia(n,m,d)),m=ot(n,i),m!=null&&c.push(ia(n,m,d))),n=n.return}return c}function Us(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Jf(n,i,a,c,d){for(var m=i._reactName,v=[];a!==null&&a!==c;){var S=a,P=S.alternate,F=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&F!==null&&(S=F,d?(P=ot(a,m),P!=null&&v.unshift(ia(a,P,S))):d||(P=ot(a,m),P!=null&&v.push(ia(a,P,S)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var G_=/\r\n?/g,Q_=/\u0000|\uFFFD/g;function Xf(n){return(typeof n=="string"?n:""+n).replace(G_,`
`).replace(Q_,"")}function kl(n,i,a){if(i=Xf(i),Xf(n)!==i&&a)throw Error(t(425))}function Pl(){}var $c=null,Hc=null;function Wc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qc=typeof setTimeout=="function"?setTimeout:void 0,Y_=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,J_=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(n){return Zf.resolve(null).then(n).catch(X_)}:qc;function X_(n){setTimeout(function(){throw n})}function Kc(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Pn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Pn(i)}function Hr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function ep(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Fs,sa="__reactProps$"+Fs,pr="__reactContainer$"+Fs,Gc="__reactEvents$"+Fs,Z_="__reactListeners$"+Fs,e0="__reactHandles$"+Fs;function Ui(n){var i=n[Kn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[pr]||a[Kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=ep(n);n!==null;){if(a=n[Kn])return a;n=ep(n)}return i}n=a,a=n.parentNode}return null}function oa(n){return n=n[Kn]||n[pr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function xl(n){return n[sa]||null}var Qc=[],zs=-1;function Wr(n){return{current:n}}function Xe(n){0>zs||(n.current=Qc[zs],Qc[zs]=null,zs--)}function Ge(n,i){zs++,Qc[zs]=n.current,n.current=i}var qr={},bt=Wr(qr),Gt=Wr(!1),Fi=qr;function Bs(n,i){var a=n.type.contextTypes;if(!a)return qr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Qt(n){return n=n.childContextTypes,n!=null}function Nl(){Xe(Gt),Xe(bt)}function tp(n,i,a){if(bt.current!==qr)throw Error(t(168));Ge(bt,i),Ge(Gt,a)}function np(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,we(n)||"Unknown",d));return re({},a,c)}function Dl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qr,Fi=bt.current,Ge(bt,n),Ge(Gt,Gt.current),!0}function rp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=np(n,i,Fi),c.__reactInternalMemoizedMergedChildContext=n,Xe(Gt),Xe(bt),Ge(bt,n)):Xe(Gt),Ge(Gt,a)}var mr=null,bl=!1,Yc=!1;function ip(n){mr===null?mr=[n]:mr.push(n)}function t0(n){bl=!0,ip(n)}function Kr(){if(!Yc&&mr!==null){Yc=!0;var n=0,i=Ve;try{var a=mr;for(Ve=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}mr=null,bl=!1}catch(d){throw mr!==null&&(mr=mr.slice(n+1)),ws(xi,Kr),d}finally{Ve=i,Yc=!1}}return null}var $s=[],Hs=0,Ol=null,Vl=0,pn=[],mn=0,ji=null,gr=1,yr="";function zi(n,i){$s[Hs++]=Vl,$s[Hs++]=Ol,Ol=n,Vl=i}function sp(n,i,a){pn[mn++]=gr,pn[mn++]=yr,pn[mn++]=ji,ji=n;var c=gr;n=yr;var d=32-zt(c)-1;c&=~(1<<d),a+=1;var m=32-zt(i)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,gr=1<<32-zt(i)+d|a<<d|c,yr=m+n}else gr=1<<m|a<<d|c,yr=n}function Jc(n){n.return!==null&&(zi(n,1),sp(n,1,0))}function Xc(n){for(;n===Ol;)Ol=$s[--Hs],$s[Hs]=null,Vl=$s[--Hs],$s[Hs]=null;for(;n===ji;)ji=pn[--mn],pn[mn]=null,yr=pn[--mn],pn[mn]=null,gr=pn[--mn],pn[mn]=null}var on=null,an=null,et=!1,Dn=null;function op(n,i){var a=_n(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function ap(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,on=n,an=Hr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,on=n,an=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=ji!==null?{id:gr,overflow:yr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=_n(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,on=n,an=null,!0):!1;default:return!1}}function Zc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function eh(n){if(et){var i=an;if(i){var a=i;if(!ap(n,i)){if(Zc(n))throw Error(t(418));i=Hr(a.nextSibling);var c=on;i&&ap(n,i)?op(c,a):(n.flags=n.flags&-4097|2,et=!1,on=n)}}else{if(Zc(n))throw Error(t(418));n.flags=n.flags&-4097|2,et=!1,on=n}}}function lp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;on=n}function Ll(n){if(n!==on)return!1;if(!et)return lp(n),et=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Wc(n.type,n.memoizedProps)),i&&(i=an)){if(Zc(n))throw up(),Error(t(418));for(;i;)op(n,i),i=Hr(i.nextSibling)}if(lp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){an=Hr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}an=null}}else an=on?Hr(n.stateNode.nextSibling):null;return!0}function up(){for(var n=an;n;)n=Hr(n.nextSibling)}function Ws(){an=on=null,et=!1}function th(n){Dn===null?Dn=[n]:Dn.push(n)}var n0=oe.ReactCurrentBatchConfig;function aa(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var S=d.refs;v===null?delete S[m]:S[m]=v},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Ml(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function cp(n){var i=n._init;return i(n._payload)}function hp(n){function i(M,b){if(n){var U=M.deletions;U===null?(M.deletions=[b],M.flags|=16):U.push(b)}}function a(M,b){if(!n)return null;for(;b!==null;)i(M,b),b=b.sibling;return null}function c(M,b){for(M=new Map;b!==null;)b.key!==null?M.set(b.key,b):M.set(b.index,b),b=b.sibling;return M}function d(M,b){return M=ti(M,b),M.index=0,M.sibling=null,M}function m(M,b,U){return M.index=U,n?(U=M.alternate,U!==null?(U=U.index,U<b?(M.flags|=2,b):U):(M.flags|=2,b)):(M.flags|=1048576,b)}function v(M){return n&&M.alternate===null&&(M.flags|=2),M}function S(M,b,U,X){return b===null||b.tag!==6?(b=qh(U,M.mode,X),b.return=M,b):(b=d(b,U),b.return=M,b)}function P(M,b,U,X){var fe=U.type;return fe===k?G(M,b,U.props.children,X,U.key):b!==null&&(b.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ye&&cp(fe)===b.type)?(X=d(b,U.props),X.ref=aa(M,b,U),X.return=M,X):(X=au(U.type,U.key,U.props,null,M.mode,X),X.ref=aa(M,b,U),X.return=M,X)}function F(M,b,U,X){return b===null||b.tag!==4||b.stateNode.containerInfo!==U.containerInfo||b.stateNode.implementation!==U.implementation?(b=Kh(U,M.mode,X),b.return=M,b):(b=d(b,U.children||[]),b.return=M,b)}function G(M,b,U,X,fe){return b===null||b.tag!==7?(b=Qi(U,M.mode,X,fe),b.return=M,b):(b=d(b,U),b.return=M,b)}function Y(M,b,U){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qh(""+b,M.mode,U),b.return=M,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case De:return U=au(b.type,b.key,b.props,null,M.mode,U),U.ref=aa(M,null,b),U.return=M,U;case Ee:return b=Kh(b,M.mode,U),b.return=M,b;case Ye:var X=b._init;return Y(M,X(b._payload),U)}if(sr(b)||ce(b))return b=Qi(b,M.mode,U,null),b.return=M,b;Ml(M,b)}return null}function K(M,b,U,X){var fe=b!==null?b.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return fe!==null?null:S(M,b,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case De:return U.key===fe?P(M,b,U,X):null;case Ee:return U.key===fe?F(M,b,U,X):null;case Ye:return fe=U._init,K(M,b,fe(U._payload),X)}if(sr(U)||ce(U))return fe!==null?null:G(M,b,U,X,null);Ml(M,U)}return null}function se(M,b,U,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number")return M=M.get(U)||null,S(b,M,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case De:return M=M.get(X.key===null?U:X.key)||null,P(b,M,X,fe);case Ee:return M=M.get(X.key===null?U:X.key)||null,F(b,M,X,fe);case Ye:var ge=X._init;return se(M,b,U,ge(X._payload),fe)}if(sr(X)||ce(X))return M=M.get(U)||null,G(b,M,X,fe,null);Ml(b,X)}return null}function ue(M,b,U,X){for(var fe=null,ge=null,ye=b,Ie=b=0,St=null;ye!==null&&Ie<U.length;Ie++){ye.index>Ie?(St=ye,ye=null):St=ye.sibling;var Be=K(M,ye,U[Ie],X);if(Be===null){ye===null&&(ye=St);break}n&&ye&&Be.alternate===null&&i(M,ye),b=m(Be,b,Ie),ge===null?fe=Be:ge.sibling=Be,ge=Be,ye=St}if(Ie===U.length)return a(M,ye),et&&zi(M,Ie),fe;if(ye===null){for(;Ie<U.length;Ie++)ye=Y(M,U[Ie],X),ye!==null&&(b=m(ye,b,Ie),ge===null?fe=ye:ge.sibling=ye,ge=ye);return et&&zi(M,Ie),fe}for(ye=c(M,ye);Ie<U.length;Ie++)St=se(ye,M,Ie,U[Ie],X),St!==null&&(n&&St.alternate!==null&&ye.delete(St.key===null?Ie:St.key),b=m(St,b,Ie),ge===null?fe=St:ge.sibling=St,ge=St);return n&&ye.forEach(function(ni){return i(M,ni)}),et&&zi(M,Ie),fe}function he(M,b,U,X){var fe=ce(U);if(typeof fe!="function")throw Error(t(150));if(U=fe.call(U),U==null)throw Error(t(151));for(var ge=fe=null,ye=b,Ie=b=0,St=null,Be=U.next();ye!==null&&!Be.done;Ie++,Be=U.next()){ye.index>Ie?(St=ye,ye=null):St=ye.sibling;var ni=K(M,ye,Be.value,X);if(ni===null){ye===null&&(ye=St);break}n&&ye&&ni.alternate===null&&i(M,ye),b=m(ni,b,Ie),ge===null?fe=ni:ge.sibling=ni,ge=ni,ye=St}if(Be.done)return a(M,ye),et&&zi(M,Ie),fe;if(ye===null){for(;!Be.done;Ie++,Be=U.next())Be=Y(M,Be.value,X),Be!==null&&(b=m(Be,b,Ie),ge===null?fe=Be:ge.sibling=Be,ge=Be);return et&&zi(M,Ie),fe}for(ye=c(M,ye);!Be.done;Ie++,Be=U.next())Be=se(ye,M,Ie,Be.value,X),Be!==null&&(n&&Be.alternate!==null&&ye.delete(Be.key===null?Ie:Be.key),b=m(Be,b,Ie),ge===null?fe=Be:ge.sibling=Be,ge=Be);return n&&ye.forEach(function(V0){return i(M,V0)}),et&&zi(M,Ie),fe}function at(M,b,U,X){if(typeof U=="object"&&U!==null&&U.type===k&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case De:e:{for(var fe=U.key,ge=b;ge!==null;){if(ge.key===fe){if(fe=U.type,fe===k){if(ge.tag===7){a(M,ge.sibling),b=d(ge,U.props.children),b.return=M,M=b;break e}}else if(ge.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ye&&cp(fe)===ge.type){a(M,ge.sibling),b=d(ge,U.props),b.ref=aa(M,ge,U),b.return=M,M=b;break e}a(M,ge);break}else i(M,ge);ge=ge.sibling}U.type===k?(b=Qi(U.props.children,M.mode,X,U.key),b.return=M,M=b):(X=au(U.type,U.key,U.props,null,M.mode,X),X.ref=aa(M,b,U),X.return=M,M=X)}return v(M);case Ee:e:{for(ge=U.key;b!==null;){if(b.key===ge)if(b.tag===4&&b.stateNode.containerInfo===U.containerInfo&&b.stateNode.implementation===U.implementation){a(M,b.sibling),b=d(b,U.children||[]),b.return=M,M=b;break e}else{a(M,b);break}else i(M,b);b=b.sibling}b=Kh(U,M.mode,X),b.return=M,M=b}return v(M);case Ye:return ge=U._init,at(M,b,ge(U._payload),X)}if(sr(U))return ue(M,b,U,X);if(ce(U))return he(M,b,U,X);Ml(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,b!==null&&b.tag===6?(a(M,b.sibling),b=d(b,U),b.return=M,M=b):(a(M,b),b=qh(U,M.mode,X),b.return=M,M=b),v(M)):a(M,b)}return at}var qs=hp(!0),dp=hp(!1),Ul=Wr(null),Fl=null,Ks=null,nh=null;function rh(){nh=Ks=Fl=null}function ih(n){var i=Ul.current;Xe(Ul),n._currentValue=i}function sh(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Gs(n,i){Fl=n,nh=Ks=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Yt=!0),n.firstContext=null)}function gn(n){var i=n._currentValue;if(nh!==n)if(n={context:n,memoizedValue:i,next:null},Ks===null){if(Fl===null)throw Error(t(308));Ks=n,Fl.dependencies={lanes:0,firstContext:n}}else Ks=Ks.next=n;return i}var Bi=null;function oh(n){Bi===null?Bi=[n]:Bi.push(n)}function fp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,oh(i)):(a.next=d.next,d.next=a),i.interleaved=a,vr(n,c)}function vr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Gr=!1;function ah(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _r(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Qr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,je&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,vr(n,a)}return d=c.interleaved,d===null?(i.next=i,oh(c)):(i.next=d.next,d.next=i),c.interleaved=i,vr(n,a)}function jl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Ur(n,a)}}function mp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function zl(n,i,a,c){var d=n.updateQueue;Gr=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,F=P.next;P.next=null,v===null?m=F:v.next=F,v=P;var G=n.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==v&&(S===null?G.firstBaseUpdate=F:S.next=F,G.lastBaseUpdate=P))}if(m!==null){var Y=d.baseState;v=0,G=F=P=null,S=m;do{var K=S.lane,se=S.eventTime;if((c&K)===K){G!==null&&(G=G.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ue=n,he=S;switch(K=i,se=a,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){Y=ue.call(se,Y,K);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,K=typeof ue=="function"?ue.call(se,Y,K):ue,K==null)break e;Y=re({},Y,K);break e;case 2:Gr=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,K=d.effects,K===null?d.effects=[S]:K.push(S))}else se={eventTime:se,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(F=G=se,P=Y):G=G.next=se,v|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(G===null&&(P=Y),d.baseState=P,d.firstBaseUpdate=F,d.lastBaseUpdate=G,i=d.shared.interleaved,i!==null){d=i;do v|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Wi|=v,n.lanes=v,n.memoizedState=Y}}function gp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var la={},Gn=Wr(la),ua=Wr(la),ca=Wr(la);function $i(n){if(n===la)throw Error(t(174));return n}function lh(n,i){switch(Ge(ca,i),Ge(ua,n),Ge(Gn,la),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ft(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ft(i,n)}Xe(Gn),Ge(Gn,i)}function Qs(){Xe(Gn),Xe(ua),Xe(ca)}function yp(n){$i(ca.current);var i=$i(Gn.current),a=ft(i,n.type);i!==a&&(Ge(ua,n),Ge(Gn,a))}function uh(n){ua.current===n&&(Xe(Gn),Xe(ua))}var nt=Wr(0);function Bl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ch=[];function hh(){for(var n=0;n<ch.length;n++)ch[n]._workInProgressVersionPrimary=null;ch.length=0}var $l=oe.ReactCurrentDispatcher,dh=oe.ReactCurrentBatchConfig,Hi=0,rt=null,mt=null,Tt=null,Hl=!1,ha=!1,da=0,r0=0;function Ot(){throw Error(t(321))}function fh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Nn(n[a],i[a]))return!1;return!0}function ph(n,i,a,c,d,m){if(Hi=m,rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$l.current=n===null||n.memoizedState===null?a0:l0,n=a(c,d),ha){m=0;do{if(ha=!1,da=0,25<=m)throw Error(t(301));m+=1,Tt=mt=null,i.updateQueue=null,$l.current=u0,n=a(c,d)}while(ha)}if($l.current=Kl,i=mt!==null&&mt.next!==null,Hi=0,Tt=mt=rt=null,Hl=!1,i)throw Error(t(300));return n}function mh(){var n=da!==0;return da=0,n}function Qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?rt.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function yn(){if(mt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=mt.next;var i=Tt===null?rt.memoizedState:Tt.next;if(i!==null)Tt=i,mt=n;else{if(n===null)throw Error(t(310));mt=n,n={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?rt.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function fa(n,i){return typeof i=="function"?i(n):i}function gh(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=mt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var S=v=null,P=null,F=m;do{var G=F.lane;if((Hi&G)===G)P!==null&&(P=P.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:n(c,F.action);else{var Y={lane:G,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};P===null?(S=P=Y,v=c):P=P.next=Y,rt.lanes|=G,Wi|=G}F=F.next}while(F!==null&&F!==m);P===null?v=c:P.next=S,Nn(c,i.memoizedState)||(Yt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,rt.lanes|=m,Wi|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function yh(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do m=n(m,v.action),v=v.next;while(v!==d);Nn(m,i.memoizedState)||(Yt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function vp(){}function _p(n,i){var a=rt,c=yn(),d=i(),m=!Nn(c.memoizedState,d);if(m&&(c.memoizedState=d,Yt=!0),c=c.queue,vh(Tp.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,pa(9,wp.bind(null,a,c,d,i),void 0,null),It===null)throw Error(t(349));Hi&30||Ep(a,i,d)}return d}function Ep(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function wp(n,i,a,c){i.value=a,i.getSnapshot=c,Ip(i)&&Sp(n)}function Tp(n,i,a){return a(function(){Ip(i)&&Sp(n)})}function Ip(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Nn(n,a)}catch{return!0}}function Sp(n){var i=vr(n,1);i!==null&&Ln(i,n,1,-1)}function Ap(n){var i=Qn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},i.queue=n,n=n.dispatch=o0.bind(null,rt,n),[i.memoizedState,n]}function pa(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Rp(){return yn().memoizedState}function Wl(n,i,a,c){var d=Qn();rt.flags|=n,d.memoizedState=pa(1|i,a,void 0,c===void 0?null:c)}function ql(n,i,a,c){var d=yn();c=c===void 0?null:c;var m=void 0;if(mt!==null){var v=mt.memoizedState;if(m=v.destroy,c!==null&&fh(c,v.deps)){d.memoizedState=pa(i,a,m,c);return}}rt.flags|=n,d.memoizedState=pa(1|i,a,m,c)}function Cp(n,i){return Wl(8390656,8,n,i)}function vh(n,i){return ql(2048,8,n,i)}function kp(n,i){return ql(4,2,n,i)}function Pp(n,i){return ql(4,4,n,i)}function xp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Np(n,i,a){return a=a!=null?a.concat([n]):null,ql(4,4,xp.bind(null,i,n),a)}function _h(){}function Dp(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&fh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function bp(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&fh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Op(n,i,a){return Hi&21?(Nn(a,i)||(a=bi(),rt.lanes|=a,Wi|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Yt=!0),n.memoizedState=a)}function i0(n,i){var a=Ve;Ve=a!==0&&4>a?a:4,n(!0);var c=dh.transition;dh.transition={};try{n(!1),i()}finally{Ve=a,dh.transition=c}}function Vp(){return yn().memoizedState}function s0(n,i,a){var c=Zr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Lp(n))Mp(i,a);else if(a=fp(n,i,a,c),a!==null){var d=Ht();Ln(a,n,c,d),Up(a,i,c)}}function o0(n,i,a){var c=Zr(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lp(n))Mp(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,S=m(v,a);if(d.hasEagerState=!0,d.eagerState=S,Nn(S,v)){var P=i.interleaved;P===null?(d.next=d,oh(i)):(d.next=P.next,P.next=d),i.interleaved=d;return}}catch{}finally{}a=fp(n,i,d,c),a!==null&&(d=Ht(),Ln(a,n,c,d),Up(a,i,c))}}function Lp(n){var i=n.alternate;return n===rt||i!==null&&i===rt}function Mp(n,i){ha=Hl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Up(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Ur(n,a)}}var Kl={readContext:gn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},a0={readContext:gn,useCallback:function(n,i){return Qn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:Cp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Wl(4194308,4,xp.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Wl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Wl(4,2,n,i)},useMemo:function(n,i){var a=Qn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Qn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=s0.bind(null,rt,n),[c.memoizedState,n]},useRef:function(n){var i=Qn();return n={current:n},i.memoizedState=n},useState:Ap,useDebugValue:_h,useDeferredValue:function(n){return Qn().memoizedState=n},useTransition:function(){var n=Ap(!1),i=n[0];return n=i0.bind(null,n[1]),Qn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=rt,d=Qn();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));Hi&30||Ep(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,Cp(Tp.bind(null,c,m,n),[n]),c.flags|=2048,pa(9,wp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Qn(),i=It.identifierPrefix;if(et){var a=yr,c=gr;a=(c&~(1<<32-zt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=da++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=r0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},l0={readContext:gn,useCallback:Dp,useContext:gn,useEffect:vh,useImperativeHandle:Np,useInsertionEffect:kp,useLayoutEffect:Pp,useMemo:bp,useReducer:gh,useRef:Rp,useState:function(){return gh(fa)},useDebugValue:_h,useDeferredValue:function(n){var i=yn();return Op(i,mt.memoizedState,n)},useTransition:function(){var n=gh(fa)[0],i=yn().memoizedState;return[n,i]},useMutableSource:vp,useSyncExternalStore:_p,useId:Vp,unstable_isNewReconciler:!1},u0={readContext:gn,useCallback:Dp,useContext:gn,useEffect:vh,useImperativeHandle:Np,useInsertionEffect:kp,useLayoutEffect:Pp,useMemo:bp,useReducer:yh,useRef:Rp,useState:function(){return yh(fa)},useDebugValue:_h,useDeferredValue:function(n){var i=yn();return mt===null?i.memoizedState=n:Op(i,mt.memoizedState,n)},useTransition:function(){var n=yh(fa)[0],i=yn().memoizedState;return[n,i]},useMutableSource:vp,useSyncExternalStore:_p,useId:Vp,unstable_isNewReconciler:!1};function bn(n,i){if(n&&n.defaultProps){i=re({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Eh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:re({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Gl={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Ht(),d=Zr(n),m=_r(c,d);m.payload=i,a!=null&&(m.callback=a),i=Qr(n,m,d),i!==null&&(Ln(i,n,d,c),jl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Ht(),d=Zr(n),m=_r(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Qr(n,m,d),i!==null&&(Ln(i,n,d,c),jl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Ht(),c=Zr(n),d=_r(a,c);d.tag=2,i!=null&&(d.callback=i),i=Qr(n,d,c),i!==null&&(Ln(i,n,c,a),jl(i,n,c))}};function Fp(n,i,a,c,d,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!ea(a,c)||!ea(d,m):!0}function jp(n,i,a){var c=!1,d=qr,m=i.contextType;return typeof m=="object"&&m!==null?m=gn(m):(d=Qt(i)?Fi:bt.current,c=i.contextTypes,m=(c=c!=null)?Bs(n,d):qr),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Gl,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function zp(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Gl.enqueueReplaceState(i,i.state,null)}function wh(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},ah(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=gn(m):(m=Qt(i)?Fi:bt.current,d.context=Bs(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Eh(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Gl.enqueueReplaceState(d,d.state,null),zl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function Ys(n,i){try{var a="",c=i;do a+=_e(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function Th(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Ih(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var c0=typeof WeakMap=="function"?WeakMap:Map;function Bp(n,i,a){a=_r(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){tu||(tu=!0,Uh=c),Ih(n,i)},a}function $p(n,i,a){a=_r(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Ih(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Ih(n,i),typeof c!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function Hp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new c0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=S0.bind(null,n,i,a),i.then(n,n))}function Wp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function qp(n,i,a,c,d){return n.mode&1?(n.flags|=65536,n.lanes=d,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=_r(-1,1),i.tag=2,Qr(a,i,1))),a.lanes|=1),n)}var h0=oe.ReactCurrentOwner,Yt=!1;function $t(n,i,a,c){i.child=n===null?dp(i,null,a,c):qs(i,n.child,a,c)}function Kp(n,i,a,c,d){a=a.render;var m=i.ref;return Gs(i,d),c=ph(n,i,a,c,m,d),a=mh(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Er(n,i,d)):(et&&a&&Jc(i),i.flags|=1,$t(n,i,c,d),i.child)}function Gp(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!Wh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Qp(n,i,m,c,d)):(n=au(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!(n.lanes&d)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:ea,a(v,c)&&n.ref===i.ref)return Er(n,i,d)}return i.flags|=1,n=ti(m,c),n.ref=i.ref,n.return=i,i.child=n}function Qp(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(ea(m,c)&&n.ref===i.ref)if(Yt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)n.flags&131072&&(Yt=!0);else return i.lanes=n.lanes,Er(n,i,d)}return Sh(n,i,a,c,d)}function Yp(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Xs,ln),ln|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Ge(Xs,ln),ln|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ge(Xs,ln),ln|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,Ge(Xs,ln),ln|=c;return $t(n,i,d,a),i.child}function Jp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Sh(n,i,a,c,d){var m=Qt(a)?Fi:bt.current;return m=Bs(i,m),Gs(i,d),a=ph(n,i,a,c,m,d),c=mh(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Er(n,i,d)):(et&&c&&Jc(i),i.flags|=1,$t(n,i,a,d),i.child)}function Xp(n,i,a,c,d){if(Qt(a)){var m=!0;Dl(i)}else m=!1;if(Gs(i,d),i.stateNode===null)Yl(n,i),jp(i,a,c),wh(i,a,c,d),c=!0;else if(n===null){var v=i.stateNode,S=i.memoizedProps;v.props=S;var P=v.context,F=a.contextType;typeof F=="object"&&F!==null?F=gn(F):(F=Qt(a)?Fi:bt.current,F=Bs(i,F));var G=a.getDerivedStateFromProps,Y=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==c||P!==F)&&zp(i,v,c,F),Gr=!1;var K=i.memoizedState;v.state=K,zl(i,c,v,d),P=i.memoizedState,S!==c||K!==P||Gt.current||Gr?(typeof G=="function"&&(Eh(i,a,G,c),P=i.memoizedState),(S=Gr||Fp(i,a,S,c,K,P,F))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),v.props=c,v.state=P,v.context=F,c=S):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,pp(n,i),S=i.memoizedProps,F=i.type===i.elementType?S:bn(i.type,S),v.props=F,Y=i.pendingProps,K=v.context,P=a.contextType,typeof P=="object"&&P!==null?P=gn(P):(P=Qt(a)?Fi:bt.current,P=Bs(i,P));var se=a.getDerivedStateFromProps;(G=typeof se=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Y||K!==P)&&zp(i,v,c,P),Gr=!1,K=i.memoizedState,v.state=K,zl(i,c,v,d);var ue=i.memoizedState;S!==Y||K!==ue||Gt.current||Gr?(typeof se=="function"&&(Eh(i,a,se,c),ue=i.memoizedState),(F=Gr||Fp(i,a,F,c,K,ue,P)||!1)?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ue,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ue,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),v.props=c,v.state=ue,v.context=P,c=F):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),c=!1)}return Ah(n,i,a,c,m,d)}function Ah(n,i,a,c,d,m){Jp(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return d&&rp(i,a,!1),Er(n,i,m);c=i.stateNode,h0.current=i;var S=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=qs(i,n.child,null,m),i.child=qs(i,null,S,m)):$t(n,i,S,m),i.memoizedState=c.state,d&&rp(i,a,!0),i.child}function Zp(n){var i=n.stateNode;i.pendingContext?tp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&tp(n,i.context,!1),lh(n,i.containerInfo)}function em(n,i,a,c,d){return Ws(),th(d),i.flags|=256,$t(n,i,a,c),i.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function Ch(n){return{baseLanes:n,cachePool:null,transitions:null}}function tm(n,i,a){var c=i.pendingProps,d=nt.current,m=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=n!==null&&n.memoizedState===null?!1:(d&2)!==0),S?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ge(nt,d&1),n===null)return eh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,n=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=v):m=lu(v,c,0,null),n=Qi(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Ch(a),i.memoizedState=Rh,n):kh(i,v));if(d=n.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return d0(n,i,v,c,S,d,a);if(m){m=c.fallback,v=i.mode,d=n.child,S=d.sibling;var P={mode:"hidden",children:c.children};return!(v&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=ti(d,P),c.subtreeFlags=d.subtreeFlags&14680064),S!==null?m=ti(S,m):(m=Qi(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=n.child.memoizedState,v=v===null?Ch(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=n.childLanes&~a,i.memoizedState=Rh,c}return m=n.child,n=m.sibling,c=ti(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function kh(n,i){return i=lu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Ql(n,i,a,c){return c!==null&&th(c),qs(i,n.child,null,a),n=kh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function d0(n,i,a,c,d,m,v){if(a)return i.flags&256?(i.flags&=-257,c=Th(Error(t(422))),Ql(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=lu({mode:"visible",children:c.children},d,0,null),m=Qi(m,d,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&qs(i,n.child,null,v),i.child.memoizedState=Ch(v),i.memoizedState=Rh,m);if(!(i.mode&1))return Ql(n,i,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var S=c.dgst;return c=S,m=Error(t(419)),c=Th(m,c,void 0),Ql(n,i,v,c)}if(S=(v&n.childLanes)!==0,Yt||S){if(c=It,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|v)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,vr(n,d),Ln(c,n,d,-1))}return Hh(),c=Th(Error(t(421))),Ql(n,i,v,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=A0.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,an=Hr(d.nextSibling),on=i,et=!0,Dn=null,n!==null&&(pn[mn++]=gr,pn[mn++]=yr,pn[mn++]=ji,gr=n.id,yr=n.overflow,ji=i),i=kh(i,c.children),i.flags|=4096,i)}function nm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),sh(n.return,i,a)}function Ph(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function rm(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if($t(n,i,c.children,a),c=nt.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nm(n,a,i);else if(n.tag===19)nm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ge(nt,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Bl(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Ph(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Bl(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Ph(i,!0,a,null,m);break;case"together":Ph(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yl(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Er(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Wi|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=ti(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ti(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function f0(n,i,a){switch(i.tag){case 3:Zp(i),Ws();break;case 5:yp(i);break;case 1:Qt(i.type)&&Dl(i);break;case 4:lh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;Ge(Ul,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Ge(nt,nt.current&1),i.flags|=128,null):a&i.child.childLanes?tm(n,i,a):(Ge(nt,nt.current&1),n=Er(n,i,a),n!==null?n.sibling:null);Ge(nt,nt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return rm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ge(nt,nt.current),c)break;return null;case 22:case 23:return i.lanes=0,Yp(n,i,a)}return Er(n,i,a)}var im,xh,sm,om;im=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},xh=function(){},sm=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,$i(Gn.current);var m=null;switch(a){case"input":d=Ti(n,d),c=Ti(n,c),m=[];break;case"select":d=re({},d,{value:void 0}),c=re({},c,{value:void 0}),m=[];break;case"textarea":d=Po(n,d),c=Po(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Pl)}Vo(a,c);var v;a=null;for(F in d)if(!c.hasOwnProperty(F)&&d.hasOwnProperty(F)&&d[F]!=null)if(F==="style"){var S=d[F];for(v in S)S.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?m||(m=[]):(m=m||[]).push(F,null));for(F in c){var P=c[F];if(S=d!=null?d[F]:void 0,c.hasOwnProperty(F)&&P!==S&&(P!=null||S!=null))if(F==="style")if(S){for(v in S)!S.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in P)P.hasOwnProperty(v)&&S[v]!==P[v]&&(a||(a={}),a[v]=P[v])}else a||(m||(m=[]),m.push(F,a)),a=P;else F==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(m=m||[]).push(F,P)):F==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(F,""+P):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(P!=null&&F==="onScroll"&&Je("scroll",n),m||S===P||(m=[])):(m=m||[]).push(F,P))}a&&(m=m||[]).push("style",a);var F=m;(i.updateQueue=F)&&(i.flags|=4)}},om=function(n,i,a,c){a!==c&&(i.flags|=4)};function ma(n,i){if(!et)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Vt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function p0(n,i,a){var c=i.pendingProps;switch(Xc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Qt(i.type)&&Nl(),Vt(i),null;case 3:return c=i.stateNode,Qs(),Xe(Gt),Xe(bt),hh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Ll(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Dn!==null&&(zh(Dn),Dn=null))),xh(n,i),Vt(i),null;case 5:uh(i);var d=$i(ca.current);if(a=i.type,n!==null&&i.stateNode!=null)sm(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Vt(i),null}if(n=$i(Gn.current),Ll(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Kn]=i,c[sa]=m,n=(i.mode&1)!==0,a){case"dialog":Je("cancel",c),Je("close",c);break;case"iframe":case"object":case"embed":Je("load",c);break;case"video":case"audio":for(d=0;d<na.length;d++)Je(na[d],c);break;case"source":Je("error",c);break;case"img":case"image":case"link":Je("error",c),Je("load",c);break;case"details":Je("toggle",c);break;case"input":cs(c,m),Je("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Je("invalid",c);break;case"textarea":ds(c,m),Je("invalid",c)}Vo(a,m),d=null;for(var v in m)if(m.hasOwnProperty(v)){var S=m[v];v==="children"?typeof S=="string"?c.textContent!==S&&(m.suppressHydrationWarning!==!0&&kl(c.textContent,S,n),d=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&kl(c.textContent,S,n),d=["children",""+S]):o.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&Je("scroll",c)}switch(a){case"input":ir(c),el(c,m,!0);break;case"textarea":ir(c),xo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Pl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Kn]=i,n[sa]=c,im(n,i,!1,!1),i.stateNode=n;e:{switch(v=Lo(a,c),a){case"dialog":Je("cancel",n),Je("close",n),d=c;break;case"iframe":case"object":case"embed":Je("load",n),d=c;break;case"video":case"audio":for(d=0;d<na.length;d++)Je(na[d],n);d=c;break;case"source":Je("error",n),d=c;break;case"img":case"image":case"link":Je("error",n),Je("load",n),d=c;break;case"details":Je("toggle",n),d=c;break;case"input":cs(n,c),d=Ti(n,c),Je("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=re({},c,{value:void 0}),Je("invalid",n);break;case"textarea":ds(n,c),d=Po(n,c),Je("invalid",n);break;default:d=c}Vo(a,d),S=d;for(m in S)if(S.hasOwnProperty(m)){var P=S[m];m==="style"?bo(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&No(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&br(n,P):typeof P=="number"&&br(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Je("scroll",n):P!=null&&Z(n,m,P,v))}switch(a){case"input":ir(n),el(n,c,!1);break;case"textarea":ir(n),xo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+ke(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?or(n,!!c.multiple,m,!1):c.defaultValue!=null&&or(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Pl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Vt(i),null;case 6:if(n&&i.stateNode!=null)om(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=$i(ca.current),$i(Gn.current),Ll(i)){if(c=i.stateNode,a=i.memoizedProps,c[Kn]=i,(m=c.nodeValue!==a)&&(n=on,n!==null))switch(n.tag){case 3:kl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&kl(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Kn]=i,i.stateNode=c}return Vt(i),null;case 13:if(Xe(nt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(et&&an!==null&&i.mode&1&&!(i.flags&128))up(),Ws(),i.flags|=98560,m=!1;else if(m=Ll(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Kn]=i}else Ws(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Vt(i),m=!1}else Dn!==null&&(zh(Dn),Dn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||nt.current&1?gt===0&&(gt=3):Hh())),i.updateQueue!==null&&(i.flags|=4),Vt(i),null);case 4:return Qs(),xh(n,i),n===null&&ra(i.stateNode.containerInfo),Vt(i),null;case 10:return ih(i.type._context),Vt(i),null;case 17:return Qt(i.type)&&Nl(),Vt(i),null;case 19:if(Xe(nt),m=i.memoizedState,m===null)return Vt(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)ma(m,!1);else{if(gt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(v=Bl(n),v!==null){for(i.flags|=128,ma(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,n=v.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ge(nt,nt.current&1|2),i.child}n=n.sibling}m.tail!==null&&Ke()>Zs&&(i.flags|=128,c=!0,ma(m,!1),i.lanes=4194304)}else{if(!c)if(n=Bl(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ma(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!et)return Vt(i),null}else 2*Ke()-m.renderingStartTime>Zs&&a!==1073741824&&(i.flags|=128,c=!0,ma(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ke(),i.sibling=null,a=nt.current,Ge(nt,c?a&1|2:a&1),i):(Vt(i),null);case 22:case 23:return $h(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?ln&1073741824&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function m0(n,i){switch(Xc(i),i.tag){case 1:return Qt(i.type)&&Nl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qs(),Xe(Gt),Xe(bt),hh(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return uh(i),null;case 13:if(Xe(nt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ws()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Xe(nt),null;case 4:return Qs(),null;case 10:return ih(i.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var Jl=!1,Lt=!1,g0=typeof WeakSet=="function"?WeakSet:Set,le=null;function Js(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(n,i,c)}else a.current=null}function Nh(n,i,a){try{a()}catch(c){st(n,i,c)}}var am=!1;function y0(n,i){if($c=zr,n=Ff(),Vc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,S=-1,P=-1,F=0,G=0,Y=n,K=null;t:for(;;){for(var se;Y!==a||d!==0&&Y.nodeType!==3||(S=v+d),Y!==m||c!==0&&Y.nodeType!==3||(P=v+c),Y.nodeType===3&&(v+=Y.nodeValue.length),(se=Y.firstChild)!==null;)K=Y,Y=se;for(;;){if(Y===n)break t;if(K===a&&++F===d&&(S=v),K===m&&++G===c&&(P=v),(se=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=se}a=S===-1||P===-1?null:{start:S,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hc={focusedElem:n,selectionRange:a},zr=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var ue=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,at=ue.memoizedState,M=i.stateNode,b=M.getSnapshotBeforeUpdate(i.elementType===i.type?he:bn(i.type,he),at);M.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){st(i,i.return,X)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return ue=am,am=!1,ue}function ga(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&Nh(i,a,m)}d=d.next}while(d!==c)}}function Xl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Dh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function lm(n){var i=n.alternate;i!==null&&(n.alternate=null,lm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Kn],delete i[sa],delete i[Gc],delete i[Z_],delete i[e0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function um(n){return n.tag===5||n.tag===3||n.tag===4}function cm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||um(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Pl));else if(c!==4&&(n=n.child,n!==null))for(bh(n,i,a),n=n.sibling;n!==null;)bh(n,i,a),n=n.sibling}function Oh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Oh(n,i,a),n=n.sibling;n!==null;)Oh(n,i,a),n=n.sibling}var kt=null,On=!1;function Yr(n,i,a){for(a=a.child;a!==null;)hm(n,i,a),a=a.sibling}function hm(n,i,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ni,a)}catch{}switch(a.tag){case 5:Lt||Js(a,i);case 6:var c=kt,d=On;kt=null,Yr(n,i,a),kt=c,On=d,kt!==null&&(On?(n=kt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):kt.removeChild(a.stateNode));break;case 18:kt!==null&&(On?(n=kt,a=a.stateNode,n.nodeType===8?Kc(n.parentNode,a):n.nodeType===1&&Kc(n,a),Pn(n)):Kc(kt,a.stateNode));break;case 4:c=kt,d=On,kt=a.stateNode.containerInfo,On=!0,Yr(n,i,a),kt=c,On=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,v=m.destroy;m=m.tag,v!==void 0&&(m&2||m&4)&&Nh(a,i,v),d=d.next}while(d!==c)}Yr(n,i,a);break;case 1:if(!Lt&&(Js(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){st(a,i,S)}Yr(n,i,a);break;case 21:Yr(n,i,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,Yr(n,i,a),Lt=c):Yr(n,i,a);break;default:Yr(n,i,a)}}function dm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new g0),i.forEach(function(c){var d=R0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Vn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 5:kt=S.stateNode,On=!1;break e;case 3:kt=S.stateNode.containerInfo,On=!0;break e;case 4:kt=S.stateNode.containerInfo,On=!0;break e}S=S.return}if(kt===null)throw Error(t(160));hm(m,v,d),kt=null,On=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(F){st(d,i,F)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)fm(i,n),i=i.sibling}function fm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Vn(i,n),Yn(n),c&4){try{ga(3,n,n.return),Xl(3,n)}catch(he){st(n,n.return,he)}try{ga(5,n,n.return)}catch(he){st(n,n.return,he)}}break;case 1:Vn(i,n),Yn(n),c&512&&a!==null&&Js(a,a.return);break;case 5:if(Vn(i,n),Yn(n),c&512&&a!==null&&Js(a,a.return),n.flags&32){var d=n.stateNode;try{br(d,"")}catch(he){st(n,n.return,he)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,v=a!==null?a.memoizedProps:m,S=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&Co(d,m),Lo(S,v);var F=Lo(S,m);for(v=0;v<P.length;v+=2){var G=P[v],Y=P[v+1];G==="style"?bo(d,Y):G==="dangerouslySetInnerHTML"?No(d,Y):G==="children"?br(d,Y):Z(d,G,Y,F)}switch(S){case"input":ko(d,m);break;case"textarea":fs(d,m);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?or(d,!!m.multiple,se,!1):K!==!!m.multiple&&(m.defaultValue!=null?or(d,!!m.multiple,m.defaultValue,!0):or(d,!!m.multiple,m.multiple?[]:"",!1))}d[sa]=m}catch(he){st(n,n.return,he)}}break;case 6:if(Vn(i,n),Yn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(he){st(n,n.return,he)}}break;case 3:if(Vn(i,n),Yn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Pn(i.containerInfo)}catch(he){st(n,n.return,he)}break;case 4:Vn(i,n),Yn(n);break;case 13:Vn(i,n),Yn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Mh=Ke())),c&4&&dm(n);break;case 22:if(G=a!==null&&a.memoizedState!==null,n.mode&1?(Lt=(F=Lt)||G,Vn(i,n),Lt=F):Vn(i,n),Yn(n),c&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!G&&n.mode&1)for(le=n,G=n.child;G!==null;){for(Y=le=G;le!==null;){switch(K=le,se=K.child,K.tag){case 0:case 11:case 14:case 15:ga(4,K,K.return);break;case 1:Js(K,K.return);var ue=K.stateNode;if(typeof ue.componentWillUnmount=="function"){c=K,a=K.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(he){st(c,a,he)}}break;case 5:Js(K,K.return);break;case 22:if(K.memoizedState!==null){gm(Y);continue}}se!==null?(se.return=K,le=se):gm(Y)}G=G.sibling}e:for(G=null,Y=n;;){if(Y.tag===5){if(G===null){G=Y;try{d=Y.stateNode,F?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=Y.stateNode,P=Y.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=Do("display",v))}catch(he){st(n,n.return,he)}}}else if(Y.tag===6){if(G===null)try{Y.stateNode.nodeValue=F?"":Y.memoizedProps}catch(he){st(n,n.return,he)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===n)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===n)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===n)break e;G===Y&&(G=null),Y=Y.return}G===Y&&(G=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Vn(i,n),Yn(n),c&4&&dm(n);break;case 21:break;default:Vn(i,n),Yn(n)}}function Yn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(um(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(br(d,""),c.flags&=-33);var m=cm(n);Oh(n,m,d);break;case 3:case 4:var v=c.stateNode.containerInfo,S=cm(n);bh(n,S,v);break;default:throw Error(t(161))}}catch(P){st(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function v0(n,i,a){le=n,pm(n)}function pm(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var d=le,m=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||Jl;if(!v){var S=d.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=Jl;var F=Lt;if(Jl=v,(Lt=P)&&!F)for(le=d;le!==null;)v=le,P=v.child,v.tag===22&&v.memoizedState!==null?ym(d):P!==null?(P.return=v,le=P):ym(d);for(;m!==null;)le=m,pm(m),m=m.sibling;le=d,Jl=S,Lt=F}mm(n)}else d.subtreeFlags&8772&&m!==null?(m.return=d,le=m):mm(n)}}function mm(n){for(;le!==null;){var i=le;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Lt||Xl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:bn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&gp(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}gp(i,v,a)}break;case 5:var S=i.stateNode;if(a===null&&i.flags&4){a=S;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var F=i.alternate;if(F!==null){var G=F.memoizedState;if(G!==null){var Y=G.dehydrated;Y!==null&&Pn(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||i.flags&512&&Dh(i)}catch(K){st(i,i.return,K)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function gm(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function ym(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Xl(4,i)}catch(P){st(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(P){st(i,d,P)}}var m=i.return;try{Dh(i)}catch(P){st(i,m,P)}break;case 5:var v=i.return;try{Dh(i)}catch(P){st(i,v,P)}}}catch(P){st(i,i.return,P)}if(i===n){le=null;break}var S=i.sibling;if(S!==null){S.return=i.return,le=S;break}le=i.return}}var _0=Math.ceil,Zl=oe.ReactCurrentDispatcher,Vh=oe.ReactCurrentOwner,vn=oe.ReactCurrentBatchConfig,je=0,It=null,ct=null,Pt=0,ln=0,Xs=Wr(0),gt=0,ya=null,Wi=0,eu=0,Lh=0,va=null,Jt=null,Mh=0,Zs=1/0,wr=null,tu=!1,Uh=null,Jr=null,nu=!1,Xr=null,ru=0,_a=0,Fh=null,iu=-1,su=0;function Ht(){return je&6?Ke():iu!==-1?iu:iu=Ke()}function Zr(n){return n.mode&1?je&2&&Pt!==0?Pt&-Pt:n0.transition!==null?(su===0&&(su=bi()),su):(n=Ve,n!==0||(n=window.event,n=n===void 0?16:Ko(n.type)),n):1}function Ln(n,i,a,c){if(50<_a)throw _a=0,Fh=null,Error(t(185));Mr(n,a,c),(!(je&2)||n!==It)&&(n===It&&(!(je&2)&&(eu|=a),gt===4&&ei(n,Pt)),Xt(n,c),a===1&&je===0&&!(i.mode&1)&&(Zs=Ke()+500,bl&&Kr()))}function Xt(n,i){var a=n.callbackNode;ur(n,i);var c=Di(n,n===It?Pt:0);if(c===0)a!==null&&Bo(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Bo(a),i===1)n.tag===0?t0(_m.bind(null,n)):ip(_m.bind(null,n)),J_(function(){!(je&6)&&Kr()}),a=null;else{switch(Fr(c)){case 1:a=xi;break;case 4:a=Or;break;case 16:a=hn;break;case 536870912:a=sl;break;default:a=hn}a=Cm(a,vm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function vm(n,i){if(iu=-1,su=0,je&6)throw Error(t(327));var a=n.callbackNode;if(eo()&&n.callbackNode!==a)return null;var c=Di(n,n===It?Pt:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=ou(n,c);else{i=c;var d=je;je|=2;var m=wm();(It!==n||Pt!==i)&&(wr=null,Zs=Ke()+500,Ki(n,i));do try{T0();break}catch(S){Em(n,S)}while(!0);rh(),Zl.current=m,je=d,ct!==null?i=0:(It=null,Pt=0,i=gt)}if(i!==0){if(i===2&&(d=nn(n),d!==0&&(c=d,i=jh(n,d))),i===1)throw a=ya,Ki(n,0),ei(n,c),Xt(n,Ke()),a;if(i===6)ei(n,c);else{if(d=n.current.alternate,!(c&30)&&!E0(d)&&(i=ou(n,c),i===2&&(m=nn(n),m!==0&&(c=m,i=jh(n,m))),i===1))throw a=ya,Ki(n,0),ei(n,c),Xt(n,Ke()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Gi(n,Jt,wr);break;case 3:if(ei(n,c),(c&130023424)===c&&(i=Mh+500-Ke(),10<i)){if(Di(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Ht(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=qc(Gi.bind(null,n,Jt,wr),i);break}Gi(n,Jt,wr);break;case 4:if(ei(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var v=31-zt(c);m=1<<v,v=i[v],v>d&&(d=v),c&=~m}if(c=d,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*_0(c/1960))-c,10<c){n.timeoutHandle=qc(Gi.bind(null,n,Jt,wr),c);break}Gi(n,Jt,wr);break;case 5:Gi(n,Jt,wr);break;default:throw Error(t(329))}}}return Xt(n,Ke()),n.callbackNode===a?vm.bind(null,n):null}function jh(n,i){var a=va;return n.current.memoizedState.isDehydrated&&(Ki(n,i).flags|=256),n=ou(n,i),n!==2&&(i=Jt,Jt=a,i!==null&&zh(i)),n}function zh(n){Jt===null?Jt=n:Jt.push.apply(Jt,n)}function E0(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Nn(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ei(n,i){for(i&=~Lh,i&=~eu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-zt(i),c=1<<a;n[a]=-1,i&=~c}}function _m(n){if(je&6)throw Error(t(327));eo();var i=Di(n,0);if(!(i&1))return Xt(n,Ke()),null;var a=ou(n,i);if(n.tag!==0&&a===2){var c=nn(n);c!==0&&(i=c,a=jh(n,c))}if(a===1)throw a=ya,Ki(n,0),ei(n,i),Xt(n,Ke()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Gi(n,Jt,wr),Xt(n,Ke()),null}function Bh(n,i){var a=je;je|=1;try{return n(i)}finally{je=a,je===0&&(Zs=Ke()+500,bl&&Kr())}}function qi(n){Xr!==null&&Xr.tag===0&&!(je&6)&&eo();var i=je;je|=1;var a=vn.transition,c=Ve;try{if(vn.transition=null,Ve=1,n)return n()}finally{Ve=c,vn.transition=a,je=i,!(je&6)&&Kr()}}function $h(){ln=Xs.current,Xe(Xs)}function Ki(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Y_(a)),ct!==null)for(a=ct.return;a!==null;){var c=a;switch(Xc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Nl();break;case 3:Qs(),Xe(Gt),Xe(bt),hh();break;case 5:uh(c);break;case 4:Qs();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:ih(c.type._context);break;case 22:case 23:$h()}a=a.return}if(It=n,ct=n=ti(n.current,null),Pt=ln=i,gt=0,ya=null,Lh=eu=Wi=0,Jt=va=null,Bi!==null){for(i=0;i<Bi.length;i++)if(a=Bi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=d,c.next=v}a.pending=c}Bi=null}return n}function Em(n,i){do{var a=ct;try{if(rh(),$l.current=Kl,Hl){for(var c=rt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Hl=!1}if(Hi=0,Tt=mt=rt=null,ha=!1,da=0,Vh.current=null,a===null||a.return===null){gt=1,ya=i,ct=null;break}e:{var m=n,v=a.return,S=a,P=i;if(i=Pt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var F=P,G=S,Y=G.tag;if(!(G.mode&1)&&(Y===0||Y===11||Y===15)){var K=G.alternate;K?(G.updateQueue=K.updateQueue,G.memoizedState=K.memoizedState,G.lanes=K.lanes):(G.updateQueue=null,G.memoizedState=null)}var se=Wp(v);if(se!==null){se.flags&=-257,qp(se,v,S,m,i),se.mode&1&&Hp(m,F,i),i=se,P=F;var ue=i.updateQueue;if(ue===null){var he=new Set;he.add(P),i.updateQueue=he}else ue.add(P);break e}else{if(!(i&1)){Hp(m,F,i),Hh();break e}P=Error(t(426))}}else if(et&&S.mode&1){var at=Wp(v);if(at!==null){!(at.flags&65536)&&(at.flags|=256),qp(at,v,S,m,i),th(Ys(P,S));break e}}m=P=Ys(P,S),gt!==4&&(gt=2),va===null?va=[m]:va.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var M=Bp(m,P,i);mp(m,M);break e;case 1:S=P;var b=m.type,U=m.stateNode;if(!(m.flags&128)&&(typeof b.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Jr===null||!Jr.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var X=$p(m,S,i);mp(m,X);break e}}m=m.return}while(m!==null)}Im(a)}catch(fe){i=fe,ct===a&&a!==null&&(ct=a=a.return);continue}break}while(!0)}function wm(){var n=Zl.current;return Zl.current=Kl,n===null?Kl:n}function Hh(){(gt===0||gt===3||gt===2)&&(gt=4),It===null||!(Wi&268435455)&&!(eu&268435455)||ei(It,Pt)}function ou(n,i){var a=je;je|=2;var c=wm();(It!==n||Pt!==i)&&(wr=null,Ki(n,i));do try{w0();break}catch(d){Em(n,d)}while(!0);if(rh(),je=a,Zl.current=c,ct!==null)throw Error(t(261));return It=null,Pt=0,gt}function w0(){for(;ct!==null;)Tm(ct)}function T0(){for(;ct!==null&&!rl();)Tm(ct)}function Tm(n){var i=Rm(n.alternate,n,ln);n.memoizedProps=n.pendingProps,i===null?Im(n):ct=i,Vh.current=null}function Im(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=m0(a,i),a!==null){a.flags&=32767,ct=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{gt=6,ct=null;return}}else if(a=p0(a,i,ln),a!==null){ct=a;return}if(i=i.sibling,i!==null){ct=i;return}ct=i=n}while(i!==null);gt===0&&(gt=5)}function Gi(n,i,a){var c=Ve,d=vn.transition;try{vn.transition=null,Ve=1,I0(n,i,a,c)}finally{vn.transition=d,Ve=c}return null}function I0(n,i,a,c){do eo();while(Xr!==null);if(je&6)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(qe(n,m),n===It&&(ct=It=null,Pt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||nu||(nu=!0,Cm(hn,function(){return eo(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=vn.transition,vn.transition=null;var v=Ve;Ve=1;var S=je;je|=4,Vh.current=null,y0(n,a),fm(a,n),$_(Hc),zr=!!$c,Hc=$c=null,n.current=a,v0(a),Cc(),je=S,Ve=v,vn.transition=m}else n.current=a;if(nu&&(nu=!1,Xr=n,ru=d),m=n.pendingLanes,m===0&&(Jr=null),ol(a.stateNode),Xt(n,Ke()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(tu)throw tu=!1,n=Uh,Uh=null,n;return ru&1&&n.tag!==0&&eo(),m=n.pendingLanes,m&1?n===Fh?_a++:(_a=0,Fh=n):_a=0,Kr(),null}function eo(){if(Xr!==null){var n=Fr(ru),i=vn.transition,a=Ve;try{if(vn.transition=null,Ve=16>n?16:n,Xr===null)var c=!1;else{if(n=Xr,Xr=null,ru=0,je&6)throw Error(t(331));var d=je;for(je|=4,le=n.current;le!==null;){var m=le,v=m.child;if(le.flags&16){var S=m.deletions;if(S!==null){for(var P=0;P<S.length;P++){var F=S[P];for(le=F;le!==null;){var G=le;switch(G.tag){case 0:case 11:case 15:ga(8,G,m)}var Y=G.child;if(Y!==null)Y.return=G,le=Y;else for(;le!==null;){G=le;var K=G.sibling,se=G.return;if(lm(G),G===F){le=null;break}if(K!==null){K.return=se,le=K;break}le=se}}}var ue=m.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var at=he.sibling;he.sibling=null,he=at}while(he!==null)}}le=m}}if(m.subtreeFlags&2064&&v!==null)v.return=m,le=v;else e:for(;le!==null;){if(m=le,m.flags&2048)switch(m.tag){case 0:case 11:case 15:ga(9,m,m.return)}var M=m.sibling;if(M!==null){M.return=m.return,le=M;break e}le=m.return}}var b=n.current;for(le=b;le!==null;){v=le;var U=v.child;if(v.subtreeFlags&2064&&U!==null)U.return=v,le=U;else e:for(v=b;le!==null;){if(S=le,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Xl(9,S)}}catch(fe){st(S,S.return,fe)}if(S===v){le=null;break e}var X=S.sibling;if(X!==null){X.return=S.return,le=X;break e}le=S.return}}if(je=d,Kr(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ni,n)}catch{}c=!0}return c}finally{Ve=a,vn.transition=i}}return!1}function Sm(n,i,a){i=Ys(a,i),i=Bp(n,i,1),n=Qr(n,i,1),i=Ht(),n!==null&&(Mr(n,1,i),Xt(n,i))}function st(n,i,a){if(n.tag===3)Sm(n,n,a);else for(;i!==null;){if(i.tag===3){Sm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Jr===null||!Jr.has(c))){n=Ys(a,n),n=$p(i,n,1),i=Qr(i,n,1),n=Ht(),i!==null&&(Mr(i,1,n),Xt(i,n));break}}i=i.return}}function S0(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Ht(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Pt&a)===a&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>Ke()-Mh?Ki(n,0):Lh|=a),Xt(n,i)}function Am(n,i){i===0&&(n.mode&1?(i=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):i=1);var a=Ht();n=vr(n,i),n!==null&&(Mr(n,i,a),Xt(n,a))}function A0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Am(n,a)}function R0(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Am(n,a)}var Rm;Rm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Gt.current)Yt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Yt=!1,f0(n,i,a);Yt=!!(n.flags&131072)}else Yt=!1,et&&i.flags&1048576&&sp(i,Vl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Yl(n,i),n=i.pendingProps;var d=Bs(i,bt.current);Gs(i,a),d=ph(null,i,c,n,d,a);var m=mh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Qt(c)?(m=!0,Dl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ah(i),d.updater=Gl,i.stateNode=d,d._reactInternals=i,wh(i,c,n,a),i=Ah(null,i,c,!0,m,a)):(i.tag=0,et&&m&&Jc(i),$t(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Yl(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=k0(c),n=bn(c,n),d){case 0:i=Sh(null,i,c,n,a);break e;case 1:i=Xp(null,i,c,n,a);break e;case 11:i=Kp(null,i,c,n,a);break e;case 14:i=Gp(null,i,c,bn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:bn(c,d),Sh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:bn(c,d),Xp(n,i,c,d,a);case 3:e:{if(Zp(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,pp(n,i),zl(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=Ys(Error(t(423)),i),i=em(n,i,c,a,d);break e}else if(c!==d){d=Ys(Error(t(424)),i),i=em(n,i,c,a,d);break e}else for(an=Hr(i.stateNode.containerInfo.firstChild),on=i,et=!0,Dn=null,a=dp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ws(),c===d){i=Er(n,i,a);break e}$t(n,i,c,a)}i=i.child}return i;case 5:return yp(i),n===null&&eh(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,v=d.children,Wc(c,d)?v=null:m!==null&&Wc(c,m)&&(i.flags|=32),Jp(n,i),$t(n,i,v,a),i.child;case 6:return n===null&&eh(i),null;case 13:return tm(n,i,a);case 4:return lh(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=qs(i,null,c,a):$t(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:bn(c,d),Kp(n,i,c,d,a);case 7:return $t(n,i,i.pendingProps,a),i.child;case 8:return $t(n,i,i.pendingProps.children,a),i.child;case 12:return $t(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,v=d.value,Ge(Ul,c._currentValue),c._currentValue=v,m!==null)if(Nn(m.value,v)){if(m.children===d.children&&!Gt.current){i=Er(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var S=m.dependencies;if(S!==null){v=m.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=_r(-1,a&-a),P.tag=2;var F=m.updateQueue;if(F!==null){F=F.shared;var G=F.pending;G===null?P.next=P:(P.next=G.next,G.next=P),F.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),sh(m.return,a,i),S.lanes|=a;break}P=P.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=a,S=v.alternate,S!==null&&(S.lanes|=a),sh(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}$t(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,Gs(i,a),d=gn(d),c=c(d),i.flags|=1,$t(n,i,c,a),i.child;case 14:return c=i.type,d=bn(c,i.pendingProps),d=bn(c.type,d),Gp(n,i,c,d,a);case 15:return Qp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:bn(c,d),Yl(n,i),i.tag=1,Qt(c)?(n=!0,Dl(i)):n=!1,Gs(i,a),jp(i,c,d),wh(i,c,d,a),Ah(null,i,c,!0,n,a);case 19:return rm(n,i,a);case 22:return Yp(n,i,a)}throw Error(t(156,i.tag))};function Cm(n,i){return ws(n,i)}function C0(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,a,c){return new C0(n,i,a,c)}function Wh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function k0(n){if(typeof n=="function")return Wh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===Qe)return 14}return 2}function ti(n,i){var a=n.alternate;return a===null?(a=_n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function au(n,i,a,c,d,m){var v=2;if(c=n,typeof n=="function")Wh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case k:return Qi(a.children,d,m,i);case T:v=8,d|=8;break;case I:return n=_n(12,a,i,d|2),n.elementType=I,n.lanes=m,n;case A:return n=_n(13,a,i,d),n.elementType=A,n.lanes=m,n;case ze:return n=_n(19,a,i,d),n.elementType=ze,n.lanes=m,n;case Pe:return lu(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:v=10;break e;case N:v=9;break e;case O:v=11;break e;case Qe:v=14;break e;case Ye:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=_n(v,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function Qi(n,i,a,c){return n=_n(7,n,c,i),n.lanes=a,n}function lu(n,i,a,c){return n=_n(22,n,c,i),n.elementType=Pe,n.lanes=a,n.stateNode={isHidden:!1},n}function qh(n,i,a){return n=_n(6,n,null,i),n.lanes=a,n}function Kh(n,i,a){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function P0(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lr(0),this.expirationTimes=Lr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Gh(n,i,a,c,d,m,v,S,P){return n=new P0(n,i,a,S,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=_n(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(m),n}function x0(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function km(n){if(!n)return qr;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Qt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Qt(a))return np(n,a,i)}return i}function Pm(n,i,a,c,d,m,v,S,P){return n=Gh(a,c,!0,n,d,m,v,S,P),n.context=km(null),a=n.current,c=Ht(),d=Zr(a),m=_r(c,d),m.callback=i??null,Qr(a,m,d),n.current.lanes=d,Mr(n,d,c),Xt(n,c),n}function uu(n,i,a,c){var d=i.current,m=Ht(),v=Zr(d);return a=km(a),i.context===null?i.context=a:i.pendingContext=a,i=_r(m,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Qr(d,i,v),n!==null&&(Ln(n,d,v,m),jl(n,d,v)),v}function cu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function xm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Qh(n,i){xm(n,i),(n=n.alternate)&&xm(n,i)}function N0(){return null}var Nm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Yh(n){this._internalRoot=n}hu.prototype.render=Yh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));uu(n,i,null,null)},hu.prototype.unmount=Yh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;qi(function(){uu(null,n,null,null)}),i[pr]=null}};function hu(n){this._internalRoot=n}hu.prototype.unstable_scheduleHydration=function(n){if(n){var i=hl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<$n.length&&i!==0&&i<$n[a].priority;a++);$n.splice(a,0,n),a===0&&pl(n)}};function Jh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function du(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Dm(){}function D0(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var F=cu(v);m.call(F)}}var v=Pm(i,c,n,0,null,!1,!1,"",Dm);return n._reactRootContainer=v,n[pr]=v.current,ra(n.nodeType===8?n.parentNode:n),qi(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var S=c;c=function(){var F=cu(P);S.call(F)}}var P=Gh(n,0,!1,null,null,!1,!1,"",Dm);return n._reactRootContainer=P,n[pr]=P.current,ra(n.nodeType===8?n.parentNode:n),qi(function(){uu(i,P,a,c)}),P}function fu(n,i,a,c,d){var m=a._reactRootContainer;if(m){var v=m;if(typeof d=="function"){var S=d;d=function(){var P=cu(v);S.call(P)}}uu(i,v,n,d)}else v=D0(a,i,n,d,c);return cu(v)}ul=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Vr(i.pendingLanes);a!==0&&(Ur(i,a|1),Xt(i,Ke()),!(je&6)&&(Zs=Ke()+500,Kr()))}break;case 13:qi(function(){var c=vr(n,1);if(c!==null){var d=Ht();Ln(c,n,1,d)}}),Qh(n,1)}},Ss=function(n){if(n.tag===13){var i=vr(n,134217728);if(i!==null){var a=Ht();Ln(i,n,134217728,a)}Qh(n,134217728)}},cl=function(n){if(n.tag===13){var i=Zr(n),a=vr(n,i);if(a!==null){var c=Ht();Ln(a,n,i,c)}Qh(n,i)}},hl=function(){return Ve},dl=function(n,i){var a=Ve;try{return Ve=n,i()}finally{Ve=a}},ms=function(n,i,a){switch(i){case"input":if(ko(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=xl(c);if(!d)throw Error(t(90));us(c),ko(c,d)}}}break;case"textarea":fs(n,a);break;case"select":i=a.value,i!=null&&or(n,!!a.multiple,i,!1)}},Ri=Bh,Uo=qi;var b0={usingClientEntryPoint:!1,Events:[oa,js,xl,zn,Mo,Bh]},Ea={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O0={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=zo(n),n===null?null:n.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||N0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{Ni=pu.inject(O0),tn=pu}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b0,Zt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(i))throw Error(t(200));return x0(n,i,null,a)},Zt.createRoot=function(n,i){if(!Jh(n))throw Error(t(299));var a=!1,c="",d=Nm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Gh(n,1,!1,null,null,a,!1,c,d),n[pr]=i.current,ra(n.nodeType===8?n.parentNode:n),new Yh(i)},Zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=zo(i),n=n===null?null:n.stateNode,n},Zt.flushSync=function(n){return qi(n)},Zt.hydrate=function(n,i,a){if(!du(i))throw Error(t(200));return fu(null,n,i,!0,a)},Zt.hydrateRoot=function(n,i,a){if(!Jh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",v=Nm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=Pm(i,null,n,1,a??null,d,!1,m,v),n[pr]=i.current,ra(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new hu(i)},Zt.render=function(n,i,a){if(!du(i))throw Error(t(200));return fu(null,n,i,!1,a)},Zt.unmountComponentAtNode=function(n){if(!du(n))throw Error(t(40));return n._reactRootContainer?(qi(function(){fu(null,null,n,!1,function(){n._reactRootContainer=null,n[pr]=null})}),!0):!1},Zt.unstable_batchedUpdates=Bh,Zt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!du(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return fu(n,i,a,!1,c)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var jm;function $0(){if(jm)return ed.exports;jm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ed.exports=B0(),ed.exports}var zm;function H0(){if(zm)return mu;zm=1;var r=$0();return mu.createRoot=r.createRoot,mu.hydrateRoot=r.hydrateRoot,mu}var W0=H0(),de=jd();const Fe=L0(de);var Bm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},q0=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},dy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,_=g?r[o+2]:0,w=u>>2,R=(u&3)<<4|f>>4;let V=(f&15)<<2|_>>6,z=_&63;g||(z=64,h||(V=64)),s.push(t[w],t[R],t[V],t[z])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):q0(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const _=o<r.length?t[r.charAt(o)]:64;++o;const R=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||f==null||_==null||R==null)throw new K0;const V=u<<2|f>>4;if(s.push(V),_!==64){const z=f<<4&240|_>>2;if(s.push(z),R!==64){const W=_<<6&192|R;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class K0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G0=function(r){const e=hy(r);return dy.encodeByteArray(e,!0)},Mu=function(r){return G0(r).replace(/\./g,"")},fy=function(r){try{return dy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=()=>Q0().__FIREBASE_DEFAULTS__,J0=()=>{if(typeof process>"u"||typeof Bm>"u")return;const r=Bm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},X0=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fy(r[1]);return e&&JSON.parse(e)},oc=()=>{try{return Y0()||J0()||X0()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},py=r=>{var e,t;return(t=(e=oc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Z0=r=>{const e=py(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},my=()=>{var r;return(r=oc())===null||r===void 0?void 0:r.config},gy=r=>{var e;return(e=oc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Mu(JSON.stringify(t)),Mu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function rE(){var r;const e=(r=oc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aE(){const r=jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lE(){return!rE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uE(){try{return typeof indexedDB=="object"}catch{return!1}}function cE(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="FirebaseError";class Nr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=hE,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ha.prototype.create)}}class Ha{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?dE(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Nr(o,f,s)}}function dE(r,e){return r.replace(fE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fE=/\{\$([^}]+)}/g;function pE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Uu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if($m(u)&&$m(h)){if(!Uu(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function $m(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ta(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ia(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function mE(r,e){const t=new gE(r,e);return t.subscribe.bind(t)}class gE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");yE(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=rd),o.error===void 0&&(o.error=rd),o.complete===void 0&&(o.complete=rd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yE(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function rd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(r){return r&&r._delegate?r._delegate:r}class es{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new eE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EE(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_E(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _E(r){return r===Yi?void 0:r}function EE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(be||(be={}));const TE={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},IE=be.INFO,SE={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},AE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=SE[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zd{constructor(e){this.name=e,this._logLevel=IE,this._logHandler=AE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const RE=(r,e)=>e.some(t=>r instanceof t);let Hm,Wm;function CE(){return Hm||(Hm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kE(){return Wm||(Wm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yy=new WeakMap,md=new WeakMap,vy=new WeakMap,id=new WeakMap,Bd=new WeakMap;function PE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ci(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&yy.set(t,r)}).catch(()=>{}),Bd.set(e,r),e}function xE(r){if(md.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});md.set(r,e)}let gd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return md.get(r);if(e==="objectStoreNames")return r.objectStoreNames||vy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ci(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NE(r){gd=r(gd)}function DE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(sd(this),e,...t);return vy.set(s,e.sort?e.sort():[e]),ci(s)}:kE().includes(r)?function(...e){return r.apply(sd(this),e),ci(yy.get(this))}:function(...e){return ci(r.apply(sd(this),e))}}function bE(r){return typeof r=="function"?DE(r):(r instanceof IDBTransaction&&xE(r),RE(r,CE())?new Proxy(r,gd):r)}function ci(r){if(r instanceof IDBRequest)return PE(r);if(id.has(r))return id.get(r);const e=bE(r);return e!==r&&(id.set(r,e),Bd.set(e,r)),e}const sd=r=>Bd.get(r);function OE(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),f=ci(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ci(h.result),g.oldVersion,g.newVersion,ci(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}const VE=["get","getKey","getAll","getAllKeys","count"],LE=["put","add","delete","clear"],od=new Map;function qm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(od.get(e))return od.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=LE.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VE.includes(t)))return;const u=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(f.shift())),(await Promise.all([_[t](...f),o&&g.done]))[0]};return od.set(e,u),u}NE(r=>({...r,get:(e,t,s)=>qm(e,t)||r.get(e,t,s),has:(e,t)=>!!qm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function UE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yd="@firebase/app",Km="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new zd("@firebase/app"),FE="@firebase/app-compat",jE="@firebase/analytics-compat",zE="@firebase/analytics",BE="@firebase/app-check-compat",$E="@firebase/app-check",HE="@firebase/auth",WE="@firebase/auth-compat",qE="@firebase/database",KE="@firebase/data-connect",GE="@firebase/database-compat",QE="@firebase/functions",YE="@firebase/functions-compat",JE="@firebase/installations",XE="@firebase/installations-compat",ZE="@firebase/messaging",ew="@firebase/messaging-compat",tw="@firebase/performance",nw="@firebase/performance-compat",rw="@firebase/remote-config",iw="@firebase/remote-config-compat",sw="@firebase/storage",ow="@firebase/storage-compat",aw="@firebase/firestore",lw="@firebase/vertexai",uw="@firebase/firestore-compat",cw="firebase",hw="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",dw={[yd]:"fire-core",[FE]:"fire-core-compat",[zE]:"fire-analytics",[jE]:"fire-analytics-compat",[$E]:"fire-app-check",[BE]:"fire-app-check-compat",[HE]:"fire-auth",[WE]:"fire-auth-compat",[qE]:"fire-rtdb",[KE]:"fire-data-connect",[GE]:"fire-rtdb-compat",[QE]:"fire-fn",[YE]:"fire-fn-compat",[JE]:"fire-iid",[XE]:"fire-iid-compat",[ZE]:"fire-fcm",[ew]:"fire-fcm-compat",[tw]:"fire-perf",[nw]:"fire-perf-compat",[rw]:"fire-rc",[iw]:"fire-rc-compat",[sw]:"fire-gcs",[ow]:"fire-gcs-compat",[aw]:"fire-fst",[uw]:"fire-fst-compat",[lw]:"fire-vertex","fire-js":"fire-js",[cw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,fw=new Map,_d=new Map;function Gm(r,e){try{r.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ho(r){const e=r.name;if(_d.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;_d.set(e,r);for(const t of Fu.values())Gm(t,r);for(const t of fw.values())Gm(t,r);return!0}function $d(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Jn(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new Ha("app","Firebase",pw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=hw;function _y(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw hi.create("bad-app-name",{appName:String(o)});if(t||(t=my()),!t)throw hi.create("no-options");const u=Fu.get(o);if(u){if(Uu(t,u.options)&&Uu(s,u.config))return u;throw hi.create("duplicate-app",{appName:o})}const h=new wE(o);for(const g of _d.values())h.addComponent(g);const f=new mw(t,s,h);return Fu.set(o,f),f}function Ey(r=vd){const e=Fu.get(r);if(!e&&r===vd&&my())return _y();if(!e)throw hi.create("no-app",{appName:r});return e}function di(r,e,t){var s;let o=(s=dw[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(f.join(" "));return}ho(new es(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firebase-heartbeat-database",yw=1,ba="firebase-heartbeat-store";let ad=null;function wy(){return ad||(ad=OE(gw,yw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ba)}catch(t){console.warn(t)}}}}).catch(r=>{throw hi.create("idb-open",{originalErrorMessage:r.message})})),ad}async function vw(r){try{const t=(await wy()).transaction(ba),s=await t.objectStore(ba).get(Ty(r));return await t.done,s}catch(e){if(e instanceof Nr)Cr.warn(e.message);else{const t=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(t.message)}}}async function Qm(r,e){try{const s=(await wy()).transaction(ba,"readwrite");await s.objectStore(ba).put(e,Ty(r)),await s.done}catch(t){if(t instanceof Nr)Cr.warn(t.message);else{const s=hi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(s.message)}}}function Ty(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=1024,Ew=30*24*60*60*1e3;class ww{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Iw(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ym();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=Ew}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ym(),{heartbeatsToSend:s,unsentEntries:o}=Tw(this._heartbeatsCache.heartbeats),u=Mu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Cr.warn(t),""}}}function Ym(){return new Date().toISOString().substring(0,10)}function Tw(r,e=_w){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Jm(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Jm(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uE()?cE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vw(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Qm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Jm(r){return Mu(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(r){ho(new es("platform-logger",e=>new ME(e),"PRIVATE")),ho(new es("heartbeat",e=>new ww(e),"PRIVATE")),di(yd,Km,r),di(yd,Km,"esm2017"),di("fire-js","")}Sw("");var Aw="firebase",Rw="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(Aw,Rw,"app");const Cw={apiKey:"AIzaSyA5Ah00YCMxYWj5LV7X0cWacHxnb8nU8sY",authDomain:"movie-club-2c3db.firebaseapp.com",projectId:"movie-club-2c3db",storageBucket:"movie-club-2c3db.firebasestorage.app",messagingSenderId:"190603653601",appId:"1:190603653601:web:4b75137a38e5ecc516a2a0",databaseURL:"https://movie-club-2c3db-default-rtdb.firebaseio.com/"},Iy=_y(Cw);function Hd(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function Sy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kw=Sy,Ay=new Ha("auth","Firebase",Sy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new zd("@firebase/auth");function Pw(r,...e){ju.logLevel<=be.WARN&&ju.warn(`Auth (${Eo}): ${r}`,...e)}function Ru(r,...e){ju.logLevel<=be.ERROR&&ju.error(`Auth (${Eo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(r,...e){throw Wd(r,...e)}function Xn(r,...e){return Wd(r,...e)}function Ry(r,e,t){const s=Object.assign(Object.assign({},kw()),{[e]:t});return new Ha("auth","Firebase",s).create(e,{appName:r.name})}function Ar(r){return Ry(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wd(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return Ay.create(r,...e)}function Te(r,e,...t){if(!r)throw Wd(e,...t)}function Tr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ru(e),new Error(e)}function kr(r,e){r||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function xw(){return Xm()==="http:"||Xm()==="https:"}function Xm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xw()||sE()||"connection"in navigator)?navigator.onLine:!0}function Dw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this.shortDelay=e,this.longDelay=t,kr(t>e,"Short delay should be less than long delay!"),this.isMobile=nE()||oE()}get(){return Nw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(r,e){kr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new qa(3e4,6e4);function Ei(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function wi(r,e,t,s,o={}){return ky(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const f=Wa(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:g},u);return iE()||(_.referrerPolicy="no-referrer"),Cy.fetch()(Py(r,r.config.apiHost,t,f),_)})}async function ky(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},bw),e);try{const o=new Lw(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw gu(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const f=u.ok?h.errorMessage:h.error.message,[g,_]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw gu(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw gu(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw gu(r,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Ry(r,w,_);Fn(r,w)}}catch(o){if(o instanceof Nr)throw o;Fn(r,"network-request-failed",{message:String(o)})}}async function Ka(r,e,t,s,o={}){const u=await wi(r,e,t,s,o);return"mfaPendingCredential"in u&&Fn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function Py(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?qd(r.config,o):`${r.config.apiScheme}://${o}`}function Vw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),Ow.get())})}}function gu(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Xn(r,e,s);return o.customData._tokenResponse=t,o}function Zm(r){return r!==void 0&&r.enterprise!==void 0}class Mw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Vw(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Uw(r,e){return wi(r,"GET","/v2/recaptchaConfig",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(r,e){return wi(r,"POST","/v1/accounts:delete",e)}async function xy(r,e){return wi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jw(r,e=!1){const t=wn(r),s=await t.getIdToken(e),o=Kd(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ca(ld(o.auth_time)),issuedAtTime:Ca(ld(o.iat)),expirationTime:Ca(ld(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ld(r){return Number(r)*1e3}function Kd(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Ru("JWT malformed, contained fewer than 3 sections"),null;try{const o=fy(t);return o?JSON.parse(o):(Ru("Failed to decode base64 JWT payload"),null)}catch(o){return Ru("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function eg(r){const e=Kd(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Nr&&zw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function zw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Oa(r,xy(t,{idToken:s}));Te(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Ny(u.providerUserInfo):[],f=Hw(r.providerData,h),g=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(f!=null&&f.length),w=g?_:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new wd(u.createdAt,u.lastLoginAt),isAnonymous:w};Object.assign(r,R)}async function $w(r){const e=wn(r);await zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hw(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Ny(r){return r.map(e=>{var{providerId:t}=e,s=Hd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(r,e){const t=await ky(r,{},async()=>{const s=Wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=Py(r,o,"/v1/token",`key=${u}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Cy.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qw(r,e){return wi(r,"POST","/v2/accounts:revokeToken",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=eg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await Ww(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new ao;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new wd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jw(this,e)}reload(){return $w(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await zu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Ar(this.auth));const e=await this.getIdToken();return await Oa(this,Fw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,f,g,_,w;const R=(s=t.displayName)!==null&&s!==void 0?s:void 0,V=(o=t.email)!==null&&o!==void 0?o:void 0,z=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,W=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(f=t.tenantId)!==null&&f!==void 0?f:void 0,$=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,ie=(_=t.createdAt)!==null&&_!==void 0?_:void 0,ne=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:Z,emailVerified:oe,isAnonymous:De,providerData:Ee,stsTokenManager:k}=t;Te(Z&&k,e,"internal-error");const T=ao.fromJSON(this.name,k);Te(typeof Z=="string",e,"internal-error"),ri(R,e.name),ri(V,e.name),Te(typeof oe=="boolean",e,"internal-error"),Te(typeof De=="boolean",e,"internal-error"),ri(z,e.name),ri(W,e.name),ri(H,e.name),ri($,e.name),ri(ie,e.name),ri(ne,e.name);const I=new Ir({uid:Z,auth:e,email:V,emailVerified:oe,displayName:R,isAnonymous:De,photoURL:W,phoneNumber:z,tenantId:H,stsTokenManager:T,createdAt:ie,lastLoginAt:ne});return Ee&&Array.isArray(Ee)&&(I.providerData=Ee.map(C=>Object.assign({},C))),$&&(I._redirectEventId=$),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new ao;o.updateFromServerResponse(t);const u=new Ir({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await zu(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ny(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),f=new ao;f.updateFromIdToken(s);const g=new Ir({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,_),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Map;function Sr(r){kr(r instanceof Function,"Expected a class definition");let e=tg.get(r);return e?(kr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,tg.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dy.type="NONE";const ng=Dy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(r,e,t){return`firebase:${r}:${e}:${t}`}class lo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Cu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Cu("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new lo(Sr(ng),e,s);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Sr(ng);const h=Cu(s,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const w=await _._get(h);if(w){const R=Ir._fromJSON(e,w);_!==u&&(f=R),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new lo(u,e,s):(u=g[0],f&&await u._set(h,f.toJSON()),await Promise.all(t.map(async _=>{if(_!==u)try{await _._remove(h)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ly(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(by(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uy(e))return"Blackberry";if(Fy(e))return"Webos";if(Oy(e))return"Safari";if((e.includes("chrome/")||Vy(e))&&!e.includes("edge/"))return"Chrome";if(My(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function by(r=jt()){return/firefox\//i.test(r)}function Oy(r=jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vy(r=jt()){return/crios\//i.test(r)}function Ly(r=jt()){return/iemobile/i.test(r)}function My(r=jt()){return/android/i.test(r)}function Uy(r=jt()){return/blackberry/i.test(r)}function Fy(r=jt()){return/webos/i.test(r)}function Gd(r=jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Kw(r=jt()){var e;return Gd(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Gw(){return aE()&&document.documentMode===10}function jy(r=jt()){return Gd(r)||My(r)||Fy(r)||Uy(r)||/windows phone/i.test(r)||Ly(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(r,e=[]){let t;switch(r){case"Browser":t=rg(jt());break;case"Worker":t=`${rg(jt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,f)=>{try{const g=e(u);h(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(r,e={}){return wi(r,"GET","/v2/passwordPolicy",Ei(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=6;class Xw{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:Jw,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ig(this),this.idTokenSubscription=new ig(this),this.beforeStateQueue=new Qw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ay,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xy(this,{idToken:e}),s=await Ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Jn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zu(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Dw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Ar(this));const t=e?wn(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yw(this),t=new Xw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ha("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await qw(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Pw(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function is(r){return wn(r)}class ig{constructor(e){this.auth=e,this.observer=null,this.addObserver=mE(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eT(r){ac=r}function By(r){return ac.loadJS(r)}function tT(){return ac.recaptchaEnterpriseScript}function nT(){return ac.gapiScript}function rT(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class iT{constructor(){this.enterprise=new sT}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sT{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const oT="recaptcha-enterprise",$y="NO_RECAPTCHA";class aT{constructor(e){this.type=oT,this.auth=is(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,f)=>{Uw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const _=new Mw(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,h(_.siteKey)}}).catch(g=>{f(g)})})}function o(u,h,f){const g=window.grecaptcha;Zm(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(_=>{h(_)}).catch(()=>{h($y)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iT().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(f=>{if(!t&&Zm(window.grecaptcha))o(f,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=tT();g.length!==0&&(g+=f),By(g).then(()=>{o(f,u,h)}).catch(_=>{h(_)})}}).catch(f=>{h(f)})})}}async function sg(r,e,t,s=!1,o=!1){const u=new aT(r);let h;if(o)h=$y;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const g=f.phoneEnrollmentInfo.phoneNumber,_=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const g=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Td(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await sg(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await sg(r,e,t,t==="getOobCode");return s(r,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(r,e){const t=$d(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Uu(u,e??{}))return o;Fn(o,"already-initialized")}return t.initialize({options:e})}function uT(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Sr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function cT(r,e,t){const s=is(r);Te(s._canInitEmulator,s,"emulator-config-failed"),Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Hy(e),{host:h,port:f}=hT(e),g=f===null?"":`:${f}`;s.config.emulator={url:`${u}//${h}${g}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),dT()}function Hy(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function hT(r){const e=Hy(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:og(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:og(h)}}}function og(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dT(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,t){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function fT(r,e){return wi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(r,e){return Ka(r,"POST","/v1/accounts:signInWithPassword",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mT(r,e){return Ka(r,"POST","/v1/accounts:signInWithEmailLink",Ei(r,e))}async function gT(r,e){return Ka(r,"POST","/v1/accounts:signInWithEmailLink",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Qd{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Va(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Va(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Td(e,t,"signInWithPassword",pT);case"emailLink":return mT(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Td(e,s,"signUpPassword",fT);case"emailLink":return gT(e,{idToken:t,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,e){return Ka(r,"POST","/v1/accounts:signInWithIdp",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="http://localhost";class ts extends Qd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Hd(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ts(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}buildRequest(){const e={requestUri:yT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wa(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _T(r){const e=Ta(Ia(r)).link,t=e?Ta(Ia(e)).deep_link_id:null,s=Ta(Ia(r)).deep_link_id;return(s?Ta(Ia(s)).link:null)||s||t||e||r}class Yd{constructor(e){var t,s,o,u,h,f;const g=Ta(Ia(e)),_=(t=g.apiKey)!==null&&t!==void 0?t:null,w=(s=g.oobCode)!==null&&s!==void 0?s:null,R=vT((o=g.mode)!==null&&o!==void 0?o:null);Te(_&&w&&R,"argument-error"),this.apiKey=_,this.operation=R,this.code=w,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=g.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=g.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=_T(e);try{return new Yd(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,t){return Va._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Yd.parseLink(t);return Te(s,"argument-error"),Va._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Ga{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Ga{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ts._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return si.credential(t,s)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Ga{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Ga{constructor(){super("twitter.com")}static credential(e,t){return ts._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ai.credential(t,s)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(r,e){return Ka(r,"POST","/v1/accounts:signUp",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Ir._fromIdTokenResponse(e,s,o),h=ag(s);return new ns({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=ag(s);return new ns({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function ag(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Nr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Bu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Bu(e,t,s,o)}}function qy(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bu._fromErrorAndOperation(r,u,e,s):u})}async function wT(r,e,t=!1){const s=await Oa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ns._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(r,e,t=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject(Ar(s));const o="reauthenticate";try{const u=await Oa(r,qy(s,o,e,r),t);Te(u.idToken,s,"internal-error");const h=Kd(u.idToken);Te(h,s,"internal-error");const{sub:f}=h;return Te(r.uid===f,s,"user-mismatch"),ns._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Fn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ky(r,e,t=!1){if(Jn(r.app))return Promise.reject(Ar(r));const s="signIn",o=await qy(r,s,e),u=await ns._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function IT(r,e){return Ky(is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gy(r){const e=is(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ST(r,e,t){if(Jn(r.app))return Promise.reject(Ar(r));const s=is(r),h=await Td(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ET).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Gy(r),g}),f=await ns._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function AT(r,e,t){return Jn(r.app)?Promise.reject(Ar(r)):IT(wn(r),wo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Gy(r),s})}function RT(r,e,t,s){return wn(r).onIdTokenChanged(e,t,s)}function CT(r,e,t){return wn(r).beforeAuthStateChanged(e,t)}const $u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($u,"1"),this.storage.removeItem($u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=1e3,PT=10;class Yy extends Qy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);Gw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PT):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},kT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yy.type="LOCAL";const xT=Yy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Qy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jy.type="SESSION";const Xy=Jy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new lc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async _=>_(t.origin,u)),g=await NT(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((f,g)=>{const _=Jd("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(R){const V=R;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(V.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function bT(r){Zn().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function OT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VT(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function LT(){return Zy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="firebaseLocalStorageDb",MT=1,Hu="firebaseLocalStorage",tv="fbase_key";class Qa{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uc(r,e){return r.transaction([Hu],e?"readwrite":"readonly").objectStore(Hu)}function UT(){const r=indexedDB.deleteDatabase(ev);return new Qa(r).toPromise()}function Id(){const r=indexedDB.open(ev,MT);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hu,{keyPath:tv})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hu)?e(s):(s.close(),await UT(),e(await Id()))})})}async function lg(r,e,t){const s=uc(r,!0).put({[tv]:e,value:t});return new Qa(s).toPromise()}async function FT(r,e){const t=uc(r,!1).get(e),s=await new Qa(t).toPromise();return s===void 0?null:s.value}function ug(r,e){const t=uc(r,!0).delete(e);return new Qa(t).toPromise()}const jT=800,zT=3;class nv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Id(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>zT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lc._getInstance(LT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await OT(),!this.activeServiceWorker)return;this.sender=new DT(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Id();return await lg(e,$u,"1"),await ug(e,$u),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>lg(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>FT(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ug(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=uc(o,!1).getAll();return new Qa(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nv.type="LOCAL";const BT=nv;new qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,e){return e?Sr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Qd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HT(r){return Ky(r.auth,new Xd(r),r.bypassAuthState)}function WT(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),TT(t,new Xd(r),r.bypassAuthState)}async function qT(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),wT(t,new Xd(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HT;case"linkViaPopup":case"linkViaRedirect":return qT;case"reauthViaPopup":case"reauthViaRedirect":return WT;default:Fn(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=new qa(2e3,1e4);class oo extends rv{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=Jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KT.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="pendingRedirect",ku=new Map;class QT extends rv{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ku.get(this.auth._key());if(!e){try{const s=await YT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ku.set(this.auth._key(),e)}return this.bypassAuthState||ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YT(r,e){const t=ZT(e),s=XT(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function JT(r,e){ku.set(r._key(),e)}function XT(r){return Sr(r._redirectPersistence)}function ZT(r){return Cu(GT,r.config.apiKey,r.name)}async function e1(r,e,t=!1){if(Jn(r.app))return Promise.reject(Ar(r));const s=is(r),o=$T(s,e),h=await new QT(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=10*60*1e3;class n1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!iv(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Xn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t1&&this.cachedEventUids.clear(),this.cachedEventUids.has(cg(e))}saveEventToCache(e){this.cachedEventUids.add(cg(e)),this.lastProcessedEventTime=Date.now()}}function cg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function iv({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iv(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(r,e={}){return wi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o1=/^https?/;async function a1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await i1(r);for(const t of e)try{if(l1(t))return}catch{}Fn(r,"unauthorized-domain")}function l1(r){const e=Ed(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!o1.test(t))return!1;if(s1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new qa(3e4,6e4);function hg(){const r=Zn().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function c1(r){return new Promise((e,t)=>{var s,o,u;function h(){hg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hg(),t(Xn(r,"network-request-failed"))},timeout:u1.get()})}if(!((o=(s=Zn().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Zn().gapi)===null||u===void 0)&&u.load)h();else{const f=rT("iframefcb");return Zn()[f]=()=>{gapi.load?h():t(Xn(r,"network-request-failed"))},By(`${nT()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Pu=null,e})}let Pu=null;function h1(r){return Pu=Pu||c1(r),Pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new qa(5e3,15e3),f1="__/auth/iframe",p1="emulator/auth/iframe",m1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y1(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?qd(e,p1):`https://${r.config.authDomain}/${f1}`,s={apiKey:e.apiKey,appName:r.name,v:Eo},o=g1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Wa(s).slice(1)}`}async function v1(r){const e=await h1(r),t=Zn().gapi;return Te(t,r,"internal-error"),e.open({where:document.body,url:y1(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Xn(r,"network-request-failed"),f=Zn().setTimeout(()=>{u(h)},d1.get());function g(){Zn().clearTimeout(f),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E1=500,w1=600,T1="_blank",I1="http://localhost";class dg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S1(r,e,t,s=E1,o=w1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g=Object.assign(Object.assign({},_1),{width:s.toString(),height:o.toString(),top:u,left:h}),_=jt().toLowerCase();t&&(f=Vy(_)?T1:t),by(_)&&(e=e||I1,g.scrollbars="yes");const w=Object.entries(g).reduce((V,[z,W])=>`${V}${z}=${W},`,"");if(Kw(_)&&f!=="_self")return A1(e||"",f),new dg(null);const R=window.open(e||"",f,w);Te(R,r,"popup-blocked");try{R.focus()}catch{}return new dg(R)}function A1(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="__/auth/handler",C1="emulator/auth/handler",k1=encodeURIComponent("fac");async function fg(r,e,t,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Eo,eventId:o};if(e instanceof Wy){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",pE(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,R]of Object.entries({}))h[w]=R}if(e instanceof Ga){const w=e.getScopes().filter(R=>R!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const g=await r._getAppCheckToken(),_=g?`#${k1}=${encodeURIComponent(g)}`:"";return`${P1(r)}?${Wa(f).slice(1)}${_}`}function P1({config:r}){return r.emulator?qd(r,C1):`https://${r.authDomain}/${R1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="webStorageSupport";class x1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xy,this._completeRedirectFn=e1,this._overrideRedirectResult=JT}async _openPopup(e,t,s,o){var u;kr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await fg(e,t,s,Ed(),o);return S1(e,h,Jd())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await fg(e,t,s,Ed(),o);return bT(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(kr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await v1(e),s=new n1(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ud,{type:ud},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ud];h!==void 0&&t(!!h),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=a1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jy()||Oy()||Gd()}}const N1=x1;var pg="@firebase/auth",mg="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O1(r){ho(new es("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zy(r)},_=new Zw(s,o,u,g);return uT(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ho(new es("auth-internal",e=>{const t=is(e.getProvider("auth").getImmediate());return(s=>new D1(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(pg,mg,b1(r)),di(pg,mg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=5*60,L1=gy("authIdTokenMaxAge")||V1;let gg=null;const M1=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>L1)return;const o=t==null?void 0:t.token;gg!==o&&(gg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function U1(r=Ey()){const e=$d(r,"auth");if(e.isInitialized())return e.getImmediate();const t=lT(r,{popupRedirectResolver:N1,persistence:[BT,xT,Xy]}),s=gy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=M1(u.toString());CT(t,h,()=>h(t.currentUser)),RT(t,f=>h(f))}}const o=py("auth");return o&&cT(t,`http://${o}`),t}function F1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}eT({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Xn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",F1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O1("Browser");function sv(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=sv(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function li(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=sv(r))&&(s&&(s+=" "),s+=e);return s}const La=r=>typeof r=="number"&&!isNaN(r),Xi=r=>typeof r=="string",un=r=>typeof r=="function",xu=r=>Xi(r)||un(r)?r:null,Sd=r=>de.isValidElement(r)||Xi(r)||un(r)||La(r);function j1(r,e,t){t===void 0&&(t=300);const{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function cc(r){let{enter:e,exit:t,appendPosition:s=!1,collapse:o=!0,collapseDuration:u=300}=r;return function(h){let{children:f,position:g,preventExitTransition:_,done:w,nodeRef:R,isIn:V,playToast:z}=h;const W=s?`${e}--${g}`:e,H=s?`${t}--${g}`:t,$=de.useRef(0);return de.useLayoutEffect(()=>{const ie=R.current,ne=W.split(" "),Z=oe=>{oe.target===R.current&&(z(),ie.removeEventListener("animationend",Z),ie.removeEventListener("animationcancel",Z),$.current===0&&oe.type!=="animationcancel"&&ie.classList.remove(...ne))};ie.classList.add(...ne),ie.addEventListener("animationend",Z),ie.addEventListener("animationcancel",Z)},[]),de.useEffect(()=>{const ie=R.current,ne=()=>{ie.removeEventListener("animationend",ne),o?j1(ie,w,u):w()};V||(_?ne():($.current=1,ie.className+=` ${H}`,ie.addEventListener("animationend",ne)))},[V]),Fe.createElement(Fe.Fragment,null,f)}}function yg(r,e){return r!=null?{content:r.content,containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,status:e}:{}}const Wt=new Map;let Ma=[];const Ad=new Set,z1=r=>Ad.forEach(e=>e(r)),ov=()=>Wt.size>0;function av(r,e){var t;if(e)return!((t=Wt.get(e))==null||!t.isToastActive(r));let s=!1;return Wt.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function lv(r,e){Sd(r)&&(ov()||Ma.push({content:r,options:e}),Wt.forEach(t=>{t.buildToast(r,e)}))}function vg(r,e){Wt.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(r,e==null?void 0:e.id):t.toggle(r,e==null?void 0:e.id)})}function B1(r){const{subscribe:e,getSnapshot:t,setProps:s}=de.useRef(function(u){const h=u.containerId||1;return{subscribe(f){const g=function(w,R,V){let z=1,W=0,H=[],$=[],ie=[],ne=R;const Z=new Map,oe=new Set,De=()=>{ie=Array.from(Z.values()),oe.forEach(T=>T())},Ee=T=>{$=T==null?[]:$.filter(I=>I!==T),De()},k=T=>{const{toastId:I,onOpen:C,updateId:N,children:O}=T.props,A=N==null;T.staleId&&Z.delete(T.staleId),Z.set(I,T),$=[...$,T.props.toastId].filter(ze=>ze!==T.staleId),De(),V(yg(T,A?"added":"updated")),A&&un(C)&&C(de.isValidElement(O)&&O.props)};return{id:w,props:ne,observe:T=>(oe.add(T),()=>oe.delete(T)),toggle:(T,I)=>{Z.forEach(C=>{I!=null&&I!==C.props.toastId||un(C.toggle)&&C.toggle(T)})},removeToast:Ee,toasts:Z,clearQueue:()=>{W-=H.length,H=[]},buildToast:(T,I)=>{if((B=>{let{containerId:te,toastId:pe,updateId:_e}=B;const Re=te?te!==w:w!==1,we=Z.has(pe)&&_e==null;return Re||we})(I))return;const{toastId:C,updateId:N,data:O,staleId:A,delay:ze}=I,Qe=()=>{Ee(C)},Ye=N==null;Ye&&W++;const Pe={...ne,style:ne.toastStyle,key:z++,...Object.fromEntries(Object.entries(I).filter(B=>{let[te,pe]=B;return pe!=null})),toastId:C,updateId:N,data:O,closeToast:Qe,isIn:!1,className:xu(I.className||ne.toastClassName),bodyClassName:xu(I.bodyClassName||ne.bodyClassName),progressClassName:xu(I.progressClassName||ne.progressClassName),autoClose:!I.isLoading&&(J=I.autoClose,ce=ne.autoClose,J===!1||La(J)&&J>0?J:ce),deleteToast(){const B=Z.get(C),{onClose:te,children:pe}=B.props;un(te)&&te(de.isValidElement(pe)&&pe.props),V(yg(B,"removed")),Z.delete(C),W--,W<0&&(W=0),H.length>0?k(H.shift()):De()}};var J,ce;Pe.closeButton=ne.closeButton,I.closeButton===!1||Sd(I.closeButton)?Pe.closeButton=I.closeButton:I.closeButton===!0&&(Pe.closeButton=!Sd(ne.closeButton)||ne.closeButton);let re=T;de.isValidElement(T)&&!Xi(T.type)?re=de.cloneElement(T,{closeToast:Qe,toastProps:Pe,data:O}):un(T)&&(re=T({closeToast:Qe,toastProps:Pe,data:O}));const D={content:re,props:Pe,staleId:A};ne.limit&&ne.limit>0&&W>ne.limit&&Ye?H.push(D):La(ze)?setTimeout(()=>{k(D)},ze):k(D)},setProps(T){ne=T},setToggle:(T,I)=>{Z.get(T).toggle=I},isToastActive:T=>$.some(I=>I===T),getSnapshot:()=>ie}}(h,u,z1);Wt.set(h,g);const _=g.observe(f);return Ma.forEach(w=>lv(w.content,w.options)),Ma=[],()=>{_(),Wt.delete(h)}},setProps(f){var g;(g=Wt.get(h))==null||g.setProps(f)},getSnapshot(){var f;return(f=Wt.get(h))==null?void 0:f.getSnapshot()}}}(r)).current;s(r);const o=de.useSyncExternalStore(e,t,t);return{getToastToRender:function(u){if(!o)return[];const h=new Map;return r.newestOnTop&&o.reverse(),o.forEach(f=>{const{position:g}=f.props;h.has(g)||h.set(g,[]),h.get(g).push(f)}),Array.from(h,f=>u(f[0],f[1]))},isToastActive:av,count:o==null?void 0:o.length}}function $1(r){const[e,t]=de.useState(!1),[s,o]=de.useState(!1),u=de.useRef(null),h=de.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:g,closeToast:_,onClick:w,closeOnClick:R}=r;var V,z;function W(){t(!0)}function H(){t(!1)}function $(Z){const oe=u.current;h.canDrag&&oe&&(h.didMove=!0,e&&H(),h.delta=r.draggableDirection==="x"?Z.clientX-h.start:Z.clientY-h.start,h.start!==Z.clientX&&(h.canCloseOnClick=!1),oe.style.transform=`translate3d(${r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`},0)`,oe.style.opacity=""+(1-Math.abs(h.delta/h.removalDistance)))}function ie(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",ie);const Z=u.current;if(h.canDrag&&h.didMove&&Z){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance)return o(!0),r.closeToast(),void r.collapseAll();Z.style.transition="transform 0.2s, opacity 0.2s",Z.style.removeProperty("transform"),Z.style.removeProperty("opacity")}}(z=Wt.get((V={id:r.toastId,containerId:r.containerId,fn:t}).containerId||1))==null||z.setToggle(V.id,V.fn),de.useEffect(()=>{if(r.pauseOnFocusLoss)return document.hasFocus()||H(),window.addEventListener("focus",W),window.addEventListener("blur",H),()=>{window.removeEventListener("focus",W),window.removeEventListener("blur",H)}},[r.pauseOnFocusLoss]);const ne={onPointerDown:function(Z){if(r.draggable===!0||r.draggable===Z.pointerType){h.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",ie);const oe=u.current;h.canCloseOnClick=!0,h.canDrag=!0,oe.style.transition="none",r.draggableDirection==="x"?(h.start=Z.clientX,h.removalDistance=oe.offsetWidth*(r.draggablePercent/100)):(h.start=Z.clientY,h.removalDistance=oe.offsetHeight*(r.draggablePercent===80?1.5*r.draggablePercent:r.draggablePercent)/100)}},onPointerUp:function(Z){const{top:oe,bottom:De,left:Ee,right:k}=u.current.getBoundingClientRect();Z.nativeEvent.type!=="touchend"&&r.pauseOnHover&&Z.clientX>=Ee&&Z.clientX<=k&&Z.clientY>=oe&&Z.clientY<=De?H():W()}};return f&&g&&(ne.onMouseEnter=H,r.stacked||(ne.onMouseLeave=W)),R&&(ne.onClick=Z=>{w&&w(Z),h.canCloseOnClick&&_()}),{playToast:W,pauseToast:H,isRunning:e,preventExitTransition:s,toastRef:u,eventHandlers:ne}}function H1(r){let{delay:e,isRunning:t,closeToast:s,type:o="default",hide:u,className:h,style:f,controlledProgress:g,progress:_,rtl:w,isIn:R,theme:V}=r;const z=u||g&&_===0,W={...f,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};g&&(W.transform=`scaleX(${_})`);const H=li("Toastify__progress-bar",g?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${V}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":w}),$=un(h)?h({rtl:w,type:o,defaultClassName:H}):li(H,h),ie={[g&&_>=1?"onTransitionEnd":"onAnimationEnd"]:g&&_<1?null:()=>{R&&s()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":z},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${V} Toastify__progress-bar--${o}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":z?"true":"false","aria-label":"notification timer",className:$,style:W,...ie}))}let W1=1;const uv=()=>""+W1++;function q1(r){return r&&(Xi(r.toastId)||La(r.toastId))?r.toastId:uv()}function ka(r,e){return lv(r,e),e.toastId}function Wu(r,e){return{...e,type:e&&e.type||r,toastId:q1(e)}}function yu(r){return(e,t)=>ka(e,Wu(r,t))}function xe(r,e){return ka(r,Wu("default",e))}xe.loading=(r,e)=>ka(r,Wu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),xe.promise=function(r,e,t){let s,{pending:o,error:u,success:h}=e;o&&(s=Xi(o)?xe.loading(o,t):xe.loading(o.render,{...t,...o}));const f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(w,R,V)=>{if(R==null)return void xe.dismiss(s);const z={type:w,...f,...t,data:V},W=Xi(R)?{render:R}:R;return s?xe.update(s,{...z,...W}):xe(W.render,{...z,...W}),V},_=un(r)?r():r;return _.then(w=>g("success",h,w)).catch(w=>g("error",u,w)),_},xe.success=yu("success"),xe.info=yu("info"),xe.error=yu("error"),xe.warning=yu("warning"),xe.warn=xe.warning,xe.dark=(r,e)=>ka(r,Wu("default",{theme:"dark",...e})),xe.dismiss=function(r){(function(e){var t;if(ov()){if(e==null||Xi(t=e)||La(t))Wt.forEach(s=>{s.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const s=Wt.get(e.containerId);s?s.removeToast(e.id):Wt.forEach(o=>{o.removeToast(e.id)})}}else Ma=Ma.filter(s=>e!=null&&s.options.toastId!==e)})(r)},xe.clearWaitingQueue=function(r){r===void 0&&(r={}),Wt.forEach(e=>{!e.props.limit||r.containerId&&e.id!==r.containerId||e.clearQueue()})},xe.isActive=av,xe.update=function(r,e){e===void 0&&(e={});const t=((s,o)=>{var u;let{containerId:h}=o;return(u=Wt.get(h||1))==null?void 0:u.toasts.get(s)})(r,e);if(t){const{props:s,content:o}=t,u={delay:100,...s,...e,toastId:e.toastId||r,updateId:uv()};u.toastId!==r&&(u.staleId=r);const h=u.render||o;delete u.render,ka(h,u)}},xe.done=r=>{xe.update(r,{progress:1})},xe.onChange=function(r){return Ad.add(r),()=>{Ad.delete(r)}},xe.play=r=>vg(!0,r),xe.pause=r=>vg(!1,r);const K1=typeof window<"u"?de.useLayoutEffect:de.useEffect,vu=r=>{let{theme:e,type:t,isLoading:s,...o}=r;return Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...o})},cd={info:function(r){return Fe.createElement(vu,{...r},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(r){return Fe.createElement(vu,{...r},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(r){return Fe.createElement(vu,{...r},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(r){return Fe.createElement(vu,{...r},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Fe.createElement("div",{className:"Toastify__spinner"})}},G1=r=>{const{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:u}=$1(r),{closeButton:h,children:f,autoClose:g,onClick:_,type:w,hideProgressBar:R,closeToast:V,transition:z,position:W,className:H,style:$,bodyClassName:ie,bodyStyle:ne,progressClassName:Z,progressStyle:oe,updateId:De,role:Ee,progress:k,rtl:T,toastId:I,deleteToast:C,isIn:N,isLoading:O,closeOnClick:A,theme:ze}=r,Qe=li("Toastify__toast",`Toastify__toast-theme--${ze}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":A}),Ye=un(H)?H({rtl:T,position:W,type:w,defaultClassName:Qe}):li(Qe,H),Pe=function(D){let{theme:B,type:te,isLoading:pe,icon:_e}=D,Re=null;const we={theme:B,type:te};return _e===!1||(un(_e)?Re=_e({...we,isLoading:pe}):de.isValidElement(_e)?Re=de.cloneElement(_e,we):pe?Re=cd.spinner():(ke=>ke in cd)(te)&&(Re=cd[te](we))),Re}(r),J=!!k||!g,ce={closeToast:V,type:w,theme:ze};let re=null;return h===!1||(re=un(h)?h(ce):de.isValidElement(h)?de.cloneElement(h,ce):function(D){let{closeToast:B,theme:te,ariaLabel:pe="close"}=D;return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${te}`,type:"button",onClick:_e=>{_e.stopPropagation(),B(_e)},"aria-label":pe},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(ce)),Fe.createElement(z,{isIn:N,done:C,position:W,preventExitTransition:t,nodeRef:s,playToast:u},Fe.createElement("div",{id:I,onClick:_,"data-in":N,className:Ye,...o,style:$,ref:s},Fe.createElement("div",{...N&&{role:Ee},className:un(ie)?ie({type:w}):li("Toastify__toast-body",ie),style:ne},Pe!=null&&Fe.createElement("div",{className:li("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},Pe),Fe.createElement("div",null,f)),re,Fe.createElement(H1,{...De&&!J?{key:`pb-${De}`}:{},rtl:T,theme:ze,delay:g,isRunning:e,isIn:N,closeToast:V,hide:R,type:w,style:oe,className:Z,controlledProgress:J,progress:k||0})))},hc=function(r,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}},Q1=cc(hc("bounce",!0));cc(hc("slide",!0));cc(hc("zoom"));cc(hc("flip"));const Y1={position:"top-right",transition:Q1,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Zd(r){let e={...Y1,...r};const t=r.stacked,[s,o]=de.useState(!0),u=de.useRef(null),{getToastToRender:h,isToastActive:f,count:g}=B1(e),{className:_,style:w,rtl:R,containerId:V}=e;function z(H){const $=li("Toastify__toast-container",`Toastify__toast-container--${H}`,{"Toastify__toast-container--rtl":R});return un(_)?_({position:H,rtl:R,defaultClassName:$}):li($,xu(_))}function W(){t&&(o(!0),xe.play())}return K1(()=>{if(t){var H;const $=u.current.querySelectorAll('[data-in="true"]'),ie=12,ne=(H=e.position)==null?void 0:H.includes("top");let Z=0,oe=0;Array.from($).reverse().forEach((De,Ee)=>{const k=De;k.classList.add("Toastify__toast--stacked"),Ee>0&&(k.dataset.collapsed=`${s}`),k.dataset.pos||(k.dataset.pos=ne?"top":"bot");const T=Z*(s?.2:1)+(s?0:ie*Ee);k.style.setProperty("--y",`${ne?T:-1*T}px`),k.style.setProperty("--g",`${ie}`),k.style.setProperty("--s",""+(1-(s?oe:0))),Z+=k.offsetHeight,oe+=.025})}},[s,g,t]),Fe.createElement("div",{ref:u,className:"Toastify",id:V,onMouseEnter:()=>{t&&(o(!1),xe.pause())},onMouseLeave:W},h((H,$)=>{const ie=$.length?{...w}:{...w,pointerEvents:"none"};return Fe.createElement("div",{className:z(H),style:ie,key:`container-${H}`},$.map(ne=>{let{content:Z,props:oe}=ne;return Fe.createElement(G1,{...oe,stacked:t,collapseAll:W,isIn:f(oe.toastId,oe.containerId),style:oe.style,key:`toast-${oe.key}`},Z)}))}))}function cv(r){function e(){r.movieInfoUpdate(r.movie.id)}return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"min-h-56 min-w-56 shadow-xl shadow-black rounded-xl p-2 text-white flex flex-col gap-2 justify-between items-center cursor-pointer",onClick:e,children:[x.jsx("img",{src:`${r.baseurl}w154${r.movie.poster_path}`,className:"rounded-xl"}),x.jsxs("h1",{className:"font-mono text-center content-center",children:["  ",r.movie.title," "]}),x.jsxs("p",{children:[" ",` ${r.movie.vote_average}`," "]})]})})}function qu(){return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"flex flex-col justify-center items-center gap-2",children:[x.jsx("div",{className:"h-20 w-20 border-r-4 border-white rounded-full animate-spin",children:" "}),x.jsx("p",{className:"text-white",children:" Loading "})]})})}var hv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_g=Fe.createContext&&Fe.createContext(hv),J1=["attr","size","title"];function X1(r,e){if(r==null)return{};var t=Z1(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function Z1(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function Ku(){return Ku=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Ku.apply(this,arguments)}function Eg(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Gu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Eg(Object(t),!0).forEach(function(s){eI(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Eg(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function eI(r,e,t){return e=tI(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function tI(r){var e=nI(r,"string");return typeof e=="symbol"?e:e+""}function nI(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function dv(r){return r&&r.map((e,t)=>Fe.createElement(e.tag,Gu({key:t},e.attr),dv(e.child)))}function To(r){return e=>Fe.createElement(rI,Ku({attr:Gu({},r.attr)},e),dv(r.child))}function rI(r){var e=t=>{var{attr:s,size:o,title:u}=r,h=X1(r,J1),f=o||t.size||"1em",g;return t.className&&(g=t.className),r.className&&(g=(g?g+" ":"")+r.className),Fe.createElement("svg",Ku({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:g,style:Gu(Gu({color:r.color||t.color},t.style),r.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&Fe.createElement("title",null,u),r.children)};return _g!==void 0?Fe.createElement(_g.Consumer,null,t=>e(t)):e(hv)}function fv(r){return To({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(r)}const iI={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjNTI4NzkzYjUzNDU4NmNkMTE4NDI5Y2ZmY2FkOTUwNSIsIm5iZiI6MTczMzg0ODU5MC40ODEsInN1YiI6IjY3NTg2ZTBlMTI4N2Q5YjQ2YmExYTA5MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.o13ubhhcooNhbATGUSvwdKFImeZDkTOoeNEKVDUlhko"}};function sI(r){const[e,t]=de.useState(null);de.useEffect(()=>{async function o(){try{let h=await(await fetch(`https://api.themoviedb.org/3/search/movie?query=${r.searchName}&page=1`,iI)).json();t(h)}catch{xe.error("Movie Not Found!")}}o()},[r.searchName]);function s(){r.searchMovie("")}return x.jsxs(x.Fragment,{children:[x.jsx(Zd,{}),x.jsxs("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 min-h-96 w-[90%] max-h-[90vh] overflow-y-scroll bg-slate-900 gap-8 flex flex-wrap items-center justify-center p-4 hide-scrollbar rounded-xl",style:{zIndex:1500},children:[x.jsxs("div",{className:"w-full text-center text-white text-lg font-semibold mb-4",children:["Search Results for: ",r.searchName,x.jsx(fv,{className:"text-white shadow-xl shadow-black text-xl cursor-pointer relative float-end",onClick:s})]}),e&&e.results?e.results.length>0?e.results.map((o,u)=>x.jsx(cv,{movie:o,baseurl:r.baseUrl,movieInfoUpdate:r.movieInfoUpdate},o.id||u)):x.jsx("div",{className:"text-xl text-white font-mono",children:" Movie Not Found ! "}):x.jsx(qu,{})]})]})}function oI(r){return To({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M401.4 224h-214l83-79.4c11.9-12.5 11.9-32.7 0-45.2s-31.2-12.5-43.2 0L89 233.4c-6 5.8-9 13.7-9 22.4v.4c0 8.7 3 16.6 9 22.4l138.1 134c12 12.5 31.3 12.5 43.2 0 11.9-12.5 11.9-32.7 0-45.2l-83-79.4h214c16.9 0 30.6-14.3 30.6-32 .1-18-13.6-32-30.5-32z"},child:[]}]})(r)}function aI(r){return To({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"},child:[]}]})(r)}function wg(r){return To({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(r)}function lI(r){return To({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function uI(r){return To({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function cI(r){return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"min-h-40 w-[95%] sm:w-1/4 rounded-xl absolute top-20  md:top-24 lg:top-28 right-2 flex gap-2 flex-col justify-between items-center p-2 mt-4 bg-blue-800 text-white font-mono",children:[x.jsx(uI,{className:"p-1 bg-blue-400 text-2xl rounded-full cursor-pointer hover:bg-slate-900"}),x.jsx("p",{className:"cursor-pointer sm:hidden hover:bg-slate-900 w-full text-center",onClick:()=>r.handleScrollTo(r.nprefs),children:"Now Playing"}),x.jsx("p",{className:"cursor-pointer sm:hidden hover:bg-slate-900 w-full text-center",onClick:()=>r.handleScrollTo(r.prefs),children:"Popular"}),x.jsx("p",{className:"cursor-pointer sm:hidden hover:bg-slate-900 w-full text-center",onClick:()=>r.handleScrollTo(r.upcrefs),children:"upcoming"}),x.jsx("p",{className:"cursor-pointer sm:hidden hover:bg-slate-900 w-full text-center",onClick:()=>r.handleScrollTo(r.toprefs),children:"Top Rated"}),x.jsx("p",{className:"cursor-pointer hover:bg-slate-900 w-full text-center",onClick:()=>r.handleScrollTo(r.arefs),children:" About "}),x.jsx("p",{className:"cursor-pointer hover:bg-slate-900 w-full text-center",onClick:()=>r.handleScrollTo(r.refs),children:" Contact "}),x.jsx("p",{className:"cursor-pointer hover:bg-slate-900 w-full text-center",onClick:r.session,children:" Logout "})]})})}function hI(r){const[e,t]=de.useState(!1),[s,o]=de.useState("");function u(){t(!e)}function h(g){o(g.target.value)}function f(){r.searchMovie(s)}return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"min-h-20 w-full rounded-xl flex justify-between items-center p-1 fixed z-50",children:[x.jsx("img",{src:"logo.png",className:"h-12 sm:h-18 md:h-20 lg:h-24 shadow-lg shadow-black rounded-xl"}),x.jsx("div",{children:x.jsxs("div",{className:"flex justify-center lg:gap-4 font-mono items-center",children:[x.jsx("p",{className:"hidden sm:block text-white bg-black font-bold p-1 hover:bg-slate-600 cursor-pointer text-sm md:text-md lg:text-lg shadow-lg shadow-black rounded-xl",onClick:()=>r.handleScrollTo(r.refs.nowPlayingRef),children:" Now Playing "}),x.jsx("p",{className:"hidden sm:block text-white bg-black font-bold p-1 hover:bg-slate-600 cursor-pointer text-sm md:text-md lg:text-lg shadow-lg shadow-black rounded-xl",onClick:()=>r.handleScrollTo(r.refs.popularRef),children:" Popular "}),x.jsx("p",{className:"hidden sm:block text-white bg-black font-bold p-1 hover:bg-slate-600 cursor-pointer text-sm md:text-md lg:text-lg shadow-lg shadow-black rounded-xl",onClick:()=>r.handleScrollTo(r.refs.topRatedRef),children:" Top Rated "}),x.jsx("p",{className:"hidden sm:block text-white bg-black font-bold p-1 hover:bg-slate-600 cursor-pointer text-sm md:text-md lg:text-lg shadow-lg shadow-black rounded-xl",onClick:()=>r.handleScrollTo(r.refs.upcomingRef),children:" Upcoming "}),x.jsxs("div",{className:"flex gap-1 items-center bg-black p-1  shadow-lg shadow-black rounded-xl hover:bg-slate-600",children:[x.jsx("input",{placeholder:"search movies",className:"text-center text-black font-mono font-bold sm:w-52 lg:w-80 border-none outline-none",onChange:h}),x.jsx(lI,{className:"text-white cursor-pointer",onClick:f})]})]})}),e?x.jsx(fv,{className:"text-white text-3xl sm:text-4xl cursor-pointer bg-black hover:bg-slate-600 rounded-full shadow-lg shadow-black",onClick:u}):x.jsx(aI,{className:"text-white text-3xl sm:text-4xl cursor-pointer bg-black hover:bg-slate-600 rounded-full shadow-lg shadow-black",onClick:u}),e?x.jsx(cI,{session:r.session,handleScrollTo:r.handleScrollTo,refs:r.refs.contactRef,arefs:r.refs.aboutRef,toprefs:r.refs.topRatedRef,nprefs:r.refs.nowPlayingRef,upcrefs:r.refs.upcomingRef,prefs:r.refs.popularRef,favrefs:r.refs.favRef}):null]})})}function dI({data:r,baseUrl:e,movieInfoUpdate:t}){const[s,o]=de.useState(0);de.useEffect(()=>{const h=setInterval(()=>{r&&o(f=>(f+1)%r.results.length)},1e4);return()=>clearInterval(h)},[r]);function u(){t(r.results[s].id)}return x.jsx("div",{className:"flex justify-center items-center",children:r?x.jsxs("div",{children:[x.jsxs("div",{className:"h-full w-full rounded-xl bg-transparent hidden lg:block lg:text-md transition-transform duration-1000 ease-in-out transform translate-x-0",children:[x.jsx("img",{src:`${e}original${r.results[s].backdrop_path}`,className:"w-full rounded"}),x.jsxs("div",{className:"text-white font-bold p-2 rounded-xl h-fit w-1/3 absolute lg:top-72 lg:left-10 flex flex-col justify-between items-center shadow-xl shadow-black",children:[x.jsx("h1",{className:"font-extrabold text-2xl",children:r.results[s].title}),x.jsx("p",{children:r.results[s].overview}),x.jsxs("button",{className:"bg-red-400 p-2 rounded-lg cursor-pointer mt-2 hover:bg-red-800 flex gap-1 justify-center items-center z-50",onClick:u,style:{zIndex:1e3},children:["PLAY ",x.jsx(wg,{})]})]})]}),x.jsxs("div",{className:"h-full w-full rounded-xl bg-transparent lg:hidden pt-20 px-2 transition-transform duration-1000 ease-in-out transform translate-x-0",children:[x.jsx("img",{src:`${e}original${r.results[s].poster_path}`,className:"h-full w-full rounded"}),x.jsxs("div",{className:"text-white font-bold p-2 rounded-xl h-fit absolute top-4/5 flex flex-col justify-between items-center shadow-xl shadow-black",children:[x.jsx("p",{className:"text-[0.8rem]",children:r.results[s].overview}),x.jsxs("button",{className:"bg-red-400 p-2 rounded-lg text-[0.8rem] cursor-pointer mt-2 hover:bg-red-800 flex gap-1 justify-center items-center z-50",onClick:u,style:{zIndex:1e3},children:["PLAY ",x.jsx(wg,{})]})]})]}),x.jsx("div",{className:"h-64 lg:h-1 w-full bg-slate-900"})]}):x.jsx("div",{className:"pt-60",children:x.jsx(qu,{})})})}function fI(r){const[e,t]=de.useState(""),[s,o]=de.useState("");function u(g){t(g.target.value)}function h(g){o(g.target.value)}function f(){r.createUser(e,s)}return x.jsxs(x.Fragment,{children:[x.jsx("img",{src:"signupbackground.jpg",className:"h-screen w-screen absolute -z-10"}),x.jsx("img",{src:"logo.png",className:"h-24 w-24 m-2 bg-blue-800 rounded-xl shadow-xl shadow-black absolute"}),x.jsx("div",{className:"h-screen w-screen flex justify-center items-center",children:x.jsxs("div",{className:"min-h-60 min-w-fit p-4 border-4 border-black rounded-xl font-mono shadow-4xl shadow-black z-10 flex flex-col justify-center gap-4 bg-slate-800",children:[x.jsx("h1",{className:" font-bold bg-black text-white text-center content-center p-1 border-2 border-white rounded-xl",children:" Sign-Up "}),x.jsxs("div",{className:"flex flex-col justify-center gap-4",children:[x.jsx("label",{className:"bg-black p-2 text-white rounded-xl border-2 border-white",children:" Email : "}),x.jsx("input",{placeholder:"Enter your email",type:"email",className:"bg-black p-2 text-white rounded-xl w-64 border-2 border-white",onChange:u})]}),x.jsxs("div",{className:"flex flex-col justify-center gap-4",children:[x.jsx("label",{className:"bg-black p-2 text-white rounded-xl border-2 border-white",children:" Password : "}),x.jsx("input",{placeholder:"Enter your password",type:"password",className:"bg-black p-2 text-white rounded-xl w-64 border-2 border-white",onChange:h})]}),x.jsx("div",{className:"flex justify-center items-center",children:x.jsx("button",{className:"bg-black text-white px-2 py-1 rounded-xl cursor-pointer border-2 border-white hover:bg-blue-800",onClick:f,children:" Create Account "})}),x.jsxs("div",{className:"bg-black text-white text-center content-center text-sm rounded-lg flex gap-1",children:[" Already have account? ",x.jsx("p",{className:"underline hover:bg-blue-800 cursor-pointer",onClick:r.setSignUp,children:"Login"})," Here "]})]})})]})}function pI(r){const[e,t]=de.useState(""),[s,o]=de.useState("");function u(g){t(g.target.value)}function h(g){o(g.target.value)}function f(){r.validateUser(e,s)}return x.jsxs(x.Fragment,{children:[x.jsx("img",{src:"loginbackground.jpg",className:"h-screen w-screen absolute -z-10"}),x.jsx("img",{src:"logo.png",className:"h-24 w-24 m-2 bg-blue-800 rounded-xl shadow-xl shadow-black absolute"}),x.jsx("div",{className:"h-screen w-screen flex justify-center items-center",children:x.jsxs("div",{className:"min-h-60 min-w-fit p-4 border-4 border-black rounded-xl font-mono shadow-4xl shadow-black z-10 flex flex-col justify-center gap-4 bg-slate-800",children:[x.jsx("h1",{className:" font-bold bg-black text-white text-center content-center p-1 border-2 border-white rounded-xl",children:" Login "}),x.jsxs("div",{className:"flex flex-col justify-center gap-4",children:[x.jsx("label",{className:"bg-black p-2 text-white rounded-xl border-2 border-white",children:" Email : "}),x.jsx("input",{placeholder:"Enter your email",type:"email",className:"bg-black p-2 text-white rounded-xl w-64 border-2 border-white",onChange:u})]}),x.jsxs("div",{className:"flex flex-col justify-center gap-4",children:[x.jsx("label",{className:"bg-black p-2 text-white rounded-xl border-2 border-white",children:" Password : "}),x.jsx("input",{placeholder:"Enter your password",type:"password",className:"bg-black p-2 text-white rounded-xl w-64 border-2 border-white",onChange:h})]}),x.jsx("div",{className:"flex justify-center items-center",children:x.jsx("button",{className:"bg-black text-white px-2 py-1 rounded-xl cursor-pointer border-2 border-white hover:bg-blue-800",onClick:f,children:" Login "})}),x.jsxs("div",{className:"bg-black text-white text-center content-center text-sm rounded-lg flex gap-1",children:[" Don't have account? ",x.jsx("p",{className:"underline hover:bg-blue-800 cursor-pointer",onClick:r.setSignUp,children:"Sign up"})," Here "]})]})})]})}function _u(r){return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"min-h-80 w-full rounded-xl mt-10 shadow-xl shadow-black flex flex-col",children:[x.jsxs("h1",{className:"text-white bg-black text-xl px-8 p-2 rounded-xl font-mono font-bold shadow-md shadow-black",children:[" ",r.name," "]}),x.jsx("div",{className:"min-h-96 w-full flex justify-between gap-4 items-center p-4 overflow-x-scroll hide-scrollbar",children:r.data?r.data.results.map((e,t)=>x.jsx(cv,{movie:e,baseurl:r.baseUrl,movieInfoUpdate:r.movieInfoUpdate},e.id)):x.jsx("p",{className:"text-white",children:"Loading..."})})]})})}var Tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zi,pv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(C,N,O){for(var A=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)A[ze-2]=arguments[ze];return T.prototype[N].apply(C,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,T,I){I||(I=0);var C=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)C[N]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(N=0;16>N;++N)C[N]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],N=k.g[2];var O=k.g[3],A=T+(O^I&(N^O))+C[0]+3614090360&4294967295;T=I+(A<<7&4294967295|A>>>25),A=O+(N^T&(I^N))+C[1]+3905402710&4294967295,O=T+(A<<12&4294967295|A>>>20),A=N+(I^O&(T^I))+C[2]+606105819&4294967295,N=O+(A<<17&4294967295|A>>>15),A=I+(T^N&(O^T))+C[3]+3250441966&4294967295,I=N+(A<<22&4294967295|A>>>10),A=T+(O^I&(N^O))+C[4]+4118548399&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(N^T&(I^N))+C[5]+1200080426&4294967295,O=T+(A<<12&4294967295|A>>>20),A=N+(I^O&(T^I))+C[6]+2821735955&4294967295,N=O+(A<<17&4294967295|A>>>15),A=I+(T^N&(O^T))+C[7]+4249261313&4294967295,I=N+(A<<22&4294967295|A>>>10),A=T+(O^I&(N^O))+C[8]+1770035416&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(N^T&(I^N))+C[9]+2336552879&4294967295,O=T+(A<<12&4294967295|A>>>20),A=N+(I^O&(T^I))+C[10]+4294925233&4294967295,N=O+(A<<17&4294967295|A>>>15),A=I+(T^N&(O^T))+C[11]+2304563134&4294967295,I=N+(A<<22&4294967295|A>>>10),A=T+(O^I&(N^O))+C[12]+1804603682&4294967295,T=I+(A<<7&4294967295|A>>>25),A=O+(N^T&(I^N))+C[13]+4254626195&4294967295,O=T+(A<<12&4294967295|A>>>20),A=N+(I^O&(T^I))+C[14]+2792965006&4294967295,N=O+(A<<17&4294967295|A>>>15),A=I+(T^N&(O^T))+C[15]+1236535329&4294967295,I=N+(A<<22&4294967295|A>>>10),A=T+(N^O&(I^N))+C[1]+4129170786&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^N&(T^I))+C[6]+3225465664&4294967295,O=T+(A<<9&4294967295|A>>>23),A=N+(T^I&(O^T))+C[11]+643717713&4294967295,N=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(N^O))+C[0]+3921069994&4294967295,I=N+(A<<20&4294967295|A>>>12),A=T+(N^O&(I^N))+C[5]+3593408605&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^N&(T^I))+C[10]+38016083&4294967295,O=T+(A<<9&4294967295|A>>>23),A=N+(T^I&(O^T))+C[15]+3634488961&4294967295,N=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(N^O))+C[4]+3889429448&4294967295,I=N+(A<<20&4294967295|A>>>12),A=T+(N^O&(I^N))+C[9]+568446438&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^N&(T^I))+C[14]+3275163606&4294967295,O=T+(A<<9&4294967295|A>>>23),A=N+(T^I&(O^T))+C[3]+4107603335&4294967295,N=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(N^O))+C[8]+1163531501&4294967295,I=N+(A<<20&4294967295|A>>>12),A=T+(N^O&(I^N))+C[13]+2850285829&4294967295,T=I+(A<<5&4294967295|A>>>27),A=O+(I^N&(T^I))+C[2]+4243563512&4294967295,O=T+(A<<9&4294967295|A>>>23),A=N+(T^I&(O^T))+C[7]+1735328473&4294967295,N=O+(A<<14&4294967295|A>>>18),A=I+(O^T&(N^O))+C[12]+2368359562&4294967295,I=N+(A<<20&4294967295|A>>>12),A=T+(I^N^O)+C[5]+4294588738&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^N)+C[8]+2272392833&4294967295,O=T+(A<<11&4294967295|A>>>21),A=N+(O^T^I)+C[11]+1839030562&4294967295,N=O+(A<<16&4294967295|A>>>16),A=I+(N^O^T)+C[14]+4259657740&4294967295,I=N+(A<<23&4294967295|A>>>9),A=T+(I^N^O)+C[1]+2763975236&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^N)+C[4]+1272893353&4294967295,O=T+(A<<11&4294967295|A>>>21),A=N+(O^T^I)+C[7]+4139469664&4294967295,N=O+(A<<16&4294967295|A>>>16),A=I+(N^O^T)+C[10]+3200236656&4294967295,I=N+(A<<23&4294967295|A>>>9),A=T+(I^N^O)+C[13]+681279174&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^N)+C[0]+3936430074&4294967295,O=T+(A<<11&4294967295|A>>>21),A=N+(O^T^I)+C[3]+3572445317&4294967295,N=O+(A<<16&4294967295|A>>>16),A=I+(N^O^T)+C[6]+76029189&4294967295,I=N+(A<<23&4294967295|A>>>9),A=T+(I^N^O)+C[9]+3654602809&4294967295,T=I+(A<<4&4294967295|A>>>28),A=O+(T^I^N)+C[12]+3873151461&4294967295,O=T+(A<<11&4294967295|A>>>21),A=N+(O^T^I)+C[15]+530742520&4294967295,N=O+(A<<16&4294967295|A>>>16),A=I+(N^O^T)+C[2]+3299628645&4294967295,I=N+(A<<23&4294967295|A>>>9),A=T+(N^(I|~O))+C[0]+4096336452&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~N))+C[7]+1126891415&4294967295,O=T+(A<<10&4294967295|A>>>22),A=N+(T^(O|~I))+C[14]+2878612391&4294967295,N=O+(A<<15&4294967295|A>>>17),A=I+(O^(N|~T))+C[5]+4237533241&4294967295,I=N+(A<<21&4294967295|A>>>11),A=T+(N^(I|~O))+C[12]+1700485571&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~N))+C[3]+2399980690&4294967295,O=T+(A<<10&4294967295|A>>>22),A=N+(T^(O|~I))+C[10]+4293915773&4294967295,N=O+(A<<15&4294967295|A>>>17),A=I+(O^(N|~T))+C[1]+2240044497&4294967295,I=N+(A<<21&4294967295|A>>>11),A=T+(N^(I|~O))+C[8]+1873313359&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~N))+C[15]+4264355552&4294967295,O=T+(A<<10&4294967295|A>>>22),A=N+(T^(O|~I))+C[6]+2734768916&4294967295,N=O+(A<<15&4294967295|A>>>17),A=I+(O^(N|~T))+C[13]+1309151649&4294967295,I=N+(A<<21&4294967295|A>>>11),A=T+(N^(I|~O))+C[4]+4149444226&4294967295,T=I+(A<<6&4294967295|A>>>26),A=O+(I^(T|~N))+C[11]+3174756917&4294967295,O=T+(A<<10&4294967295|A>>>22),A=N+(T^(O|~I))+C[2]+718787259&4294967295,N=O+(A<<15&4294967295|A>>>17),A=I+(O^(N|~T))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+O&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,C=this.B,N=this.h,O=0;O<T;){if(N==0)for(;O<=I;)o(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<T;)if(C[N++]=k.charCodeAt(O++),N==this.blockSize){o(this,C),N=0;break}}else for(;O<T;)if(C[N++]=k[O++],N==this.blockSize){o(this,C),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var C=0;32>C;C+=8)k[I++]=this.g[T]>>>C&255;return k};function u(k,T){var I=f;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function h(k,T){this.h=T;for(var I=[],C=!0,N=k.length-1;0<=N;N--){var O=k[N]|0;C&&O==T||(I[N]=O,C=!1)}this.g=I}var f={};function g(k){return-128<=k&&128>k?u(k,function(T){return new h([T|0],0>T?-1:0)}):new h([k|0],0>k?-1:0)}function _(k){if(isNaN(k)||!isFinite(k))return R;if(0>k)return $(_(-k));for(var T=[],I=1,C=0;k>=I;C++)T[C]=k/I|0,I*=4294967296;return new h(T,0)}function w(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return $(w(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(T,8)),C=R,N=0;N<k.length;N+=8){var O=Math.min(8,k.length-N),A=parseInt(k.substring(N,N+O),T);8>O?(O=_(Math.pow(T,O)),C=C.j(O).add(_(A))):(C=C.j(I),C=C.add(_(A)))}return C}var R=g(0),V=g(1),z=g(16777216);r=h.prototype,r.m=function(){if(H(this))return-$(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var C=this.i(I);k+=(0<=C?C:4294967296+C)*T,T*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(W(this))return"0";if(H(this))return"-"+$(this).toString(k);for(var T=_(Math.pow(k,6)),I=this,C="";;){var N=oe(I,T).g;I=ie(I,N.j(T));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=N,W(I))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function W(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function H(k){return k.h==-1}r.l=function(k){return k=ie(this,k),H(k)?-1:W(k)?0:1};function $(k){for(var T=k.g.length,I=[],C=0;C<T;C++)I[C]=~k.g[C];return new h(I,~k.h).add(V)}r.abs=function(){return H(this)?$(this):this},r.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],C=0,N=0;N<=T;N++){var O=C+(this.i(N)&65535)+(k.i(N)&65535),A=(O>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);C=A>>>16,O&=65535,A&=65535,I[N]=A<<16|O}return new h(I,I[I.length-1]&-2147483648?-1:0)};function ie(k,T){return k.add($(T))}r.j=function(k){if(W(this)||W(k))return R;if(H(this))return H(k)?$(this).j($(k)):$($(this).j(k));if(H(k))return $(this.j($(k)));if(0>this.l(z)&&0>k.l(z))return _(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],C=0;C<2*T;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<k.g.length;N++){var O=this.i(C)>>>16,A=this.i(C)&65535,ze=k.i(N)>>>16,Qe=k.i(N)&65535;I[2*C+2*N]+=A*Qe,ne(I,2*C+2*N),I[2*C+2*N+1]+=O*Qe,ne(I,2*C+2*N+1),I[2*C+2*N+1]+=A*ze,ne(I,2*C+2*N+1),I[2*C+2*N+2]+=O*ze,ne(I,2*C+2*N+2)}for(C=0;C<T;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=T;C<2*T;C++)I[C]=0;return new h(I,0)};function ne(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function Z(k,T){this.g=k,this.h=T}function oe(k,T){if(W(T))throw Error("division by zero");if(W(k))return new Z(R,R);if(H(k))return T=oe($(k),T),new Z($(T.g),$(T.h));if(H(T))return T=oe(k,$(T)),new Z($(T.g),T.h);if(30<k.g.length){if(H(k)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var I=V,C=T;0>=C.l(k);)I=De(I),C=De(C);var N=Ee(I,1),O=Ee(C,1);for(C=Ee(C,2),I=Ee(I,2);!W(C);){var A=O.add(C);0>=A.l(k)&&(N=N.add(I),O=A),C=Ee(C,1),I=Ee(I,1)}return T=ie(k,N.j(T)),new Z(N,T)}for(N=R;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=_(I),A=O.j(T);H(A)||0<A.l(k);)I-=C,O=_(I),A=O.j(T);W(O)&&(O=V),N=N.add(O),k=ie(k,A)}return new Z(N,k)}r.A=function(k){return oe(this,k).h},r.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],C=0;C<T;C++)I[C]=this.i(C)&k.i(C);return new h(I,this.h&k.h)},r.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],C=0;C<T;C++)I[C]=this.i(C)|k.i(C);return new h(I,this.h|k.h)},r.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],C=0;C<T;C++)I[C]=this.i(C)^k.i(C);return new h(I,this.h^k.h)};function De(k){for(var T=k.g.length+1,I=[],C=0;C<T;C++)I[C]=k.i(C)<<1|k.i(C-1)>>>31;return new h(I,k.h)}function Ee(k,T){var I=T>>5;T%=32;for(var C=k.g.length-I,N=[],O=0;O<C;O++)N[O]=0<T?k.i(O+I)>>>T|k.i(O+I+1)<<32-T:k.i(O+I);return new h(N,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,pv=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=w,Zi=h}).apply(typeof Tg<"u"?Tg:typeof self<"u"?self:typeof window<"u"?window:{});var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mv,Sa,gv,Nu,Rd,yv,vv,_v;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eu=="object"&&Eu];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in y))break e;y=y[L]}l=l[l.length-1],E=y[l],p=p(E),p!=E&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,E=!1,L={next:function(){if(!E&&y<l.length){var j=y++;return{value:p(j,l[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function _(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,y){return l.call.apply(l.bind,arguments)}function R(l,p,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(p,L)}}return function(){return l.apply(p,arguments)}}function V(l,p,y){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,V.apply(null,arguments)}function z(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function W(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,L,j){for(var ee=Array(arguments.length-2),We=2;We<arguments.length;We++)ee[We-2]=arguments[We];return p.prototype[L].apply(E,ee)}}function H(l){const p=l.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=l[E];return y}return[]}function $(l,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const L=l.length||0,j=E.length||0;l.length=L+j;for(let ee=0;ee<j;ee++)l[L+ee]=E[ee]}else l.push(E)}}class ie{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(l){return/^[\s\xa0]*$/.test(l)}function Z(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function oe(l){return oe[" "](l),l}oe[" "]=function(){};var De=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ee(l,p,y){for(const E in l)p.call(y,l[E],E,l)}function k(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,p){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)l[y]=E[y];for(let j=0;j<I.length;j++)y=I[j],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function N(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function O(l){f.setTimeout(()=>{throw l},0)}function A(){var l=ce;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ze{constructor(){this.h=this.g=null}add(p,y){const E=Qe.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Qe=new ie(()=>new Ye,l=>l.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,J=!1,ce=new ze,re=()=>{const l=f.Promise.resolve(void 0);Pe=()=>{l.then(D)}};var D=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){O(y)}var p=Qe;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}J=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};f.addEventListener("test",y,p),f.removeEventListener("test",y,p)}catch{}return l}();function _e(l,p){if(te.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(De){e:{try{oe(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&_e.aa.h.call(this)}}W(_e,te);var Re={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),ke=0;function $e(l,p,y,E,L){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=L,this.key=++ke,this.da=this.fa=!1}function Et(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ir(l){this.src=l,this.g={},this.h=0}ir.prototype.add=function(l,p,y,E,L){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var ee=Dr(l,p,E,L);return-1<ee?(p=l[ee],y||(p.fa=!1)):(p=new $e(p,this.src,j,!!E,L),p.fa=y,l.push(p)),p};function us(l,p){var y=p.type;if(y in l.g){var E=l.g[y],L=Array.prototype.indexOf.call(E,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(E,L,1),j&&(Et(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Dr(l,p,y,E){for(var L=0;L<l.length;++L){var j=l[L];if(!j.da&&j.listener==p&&j.capture==!!y&&j.ha==E)return L}return-1}var Ti="closure_lm_"+(1e6*Math.random()|0),cs={};function Co(l,p,y,E,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Co(l,p[j],y,E,L);return null}return y=xo(y),l&&l[we]?l.K(p,y,_(E)?!!E.capture:!!E,L):ko(l,p,y,!1,E,L)}function ko(l,p,y,E,L,j){if(!p)throw Error("Invalid event type");var ee=_(L)?!!L.capture:!!L,We=ds(l);if(We||(l[Ti]=We=new ir(l)),y=We.add(p,y,E,ee,j),y.proxy)return y;if(E=el(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)pe||(L=ee),L===void 0&&(L=!1),l.addEventListener(p.toString(),E,L);else if(l.attachEvent)l.attachEvent(or(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function el(){function l(y){return p.call(l.src,l.listener,y)}const p=Po;return l}function hs(l,p,y,E,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)hs(l,p[j],y,E,L);else E=_(E)?!!E.capture:!!E,y=xo(y),l&&l[we]?(l=l.i,p=String(p).toString(),p in l.g&&(j=l.g[p],y=Dr(j,y,E,L),-1<y&&(Et(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete l.g[p],l.h--)))):l&&(l=ds(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Dr(p,y,E,L)),(y=-1<l?p[l]:null)&&sr(y))}function sr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[we])us(p.i,l);else{var y=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(y,E,l.capture):p.detachEvent?p.detachEvent(or(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=ds(p))?(us(y,l),y.h==0&&(y.src=null,p[Ti]=null)):Et(l)}}}function or(l){return l in cs?cs[l]:cs[l]="on"+l}function Po(l,p){if(l.da)l=!0;else{p=new _e(p,this);var y=l.listener,E=l.ha||l.src;l.fa&&sr(l),l=y.call(E,p)}return l}function ds(l){return l=l[Ti],l instanceof ir?l:null}var fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function xo(l){return typeof l=="function"?l:(l[fs]||(l[fs]=function(p){return l.handleEvent(p)}),l[fs])}function dt(){B.call(this),this.i=new ir(this),this.M=this,this.F=null}W(dt,B),dt.prototype[we]=!0,dt.prototype.removeEventListener=function(l,p,y,E){hs(this,l,p,y,E)};function ft(l,p){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new te(p,l);else if(p instanceof te)p.target=p.target||l;else{var L=p;p=new te(E,l),C(p,L)}if(L=!0,y)for(var j=y.length-1;0<=j;j--){var ee=p.g=y[j];L=ar(ee,E,!0,p)&&L}if(ee=p.g=l,L=ar(ee,E,!0,p)&&L,L=ar(ee,E,!1,p)&&L,y)for(j=0;j<y.length;j++)ee=p.g=y[j],L=ar(ee,E,!1,p)&&L}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],E=0;E<y.length;E++)Et(y[E]);delete l.g[p],l.h--}}this.F=null},dt.prototype.K=function(l,p,y,E){return this.i.add(String(l),p,!1,y,E)},dt.prototype.L=function(l,p,y,E){return this.i.add(String(l),p,!0,y,E)};function ar(l,p,y,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var ee=p[j];if(ee&&!ee.da&&ee.capture==y){var We=ee.listener,pt=ee.ha||ee.src;ee.fa&&us(l.i,ee),L=We.call(pt,E)!==!1&&L}}return L&&!E.defaultPrevented}function No(l,p,y){if(typeof l=="function")y&&(l=V(l,y));else if(l&&typeof l.handleEvent=="function")l=V(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(l,p||0)}function br(l){l.g=No(()=>{l.g=null,l.i&&(l.i=!1,br(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Ii extends B{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(l){B.call(this),this.h=l,this.g={}}W(Si,B);var Do=[];function bo(l){Ee(l.g,function(p,y){this.g.hasOwnProperty(y)&&sr(p)},l),l.g={}}Si.prototype.N=function(){Si.aa.N.call(this),bo(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oo=f.JSON.stringify,Vo=f.JSON.parse,Lo=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function Ai(){}Ai.prototype.h=null;function ps(l){return l.h||(l.h=l.i())}function ms(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){te.call(this,"d")}W(jn,te);function gs(){te.call(this,"c")}W(gs,te);var zn={},Mo=null;function Ri(){return Mo=Mo||new dt}zn.La="serverreachability";function Uo(l){te.call(this,zn.La,l)}W(Uo,te);function lr(l){const p=Ri();ft(p,new Uo(p))}zn.STAT_EVENT="statevent";function Fo(l,p){te.call(this,zn.STAT_EVENT,l),this.stat=p}W(Fo,te);function ot(l){const p=Ri();ft(p,new Fo(p,l))}zn.Ma="timingevent";function ys(l,p){te.call(this,zn.Ma,l),this.size=p}W(ys,te);function Tn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},p)}function Ci(){this.g=!0}Ci.prototype.xa=function(){this.g=!1};function ki(l,p,y,E,L,j){l.info(function(){if(l.g)if(j)for(var ee="",We=j.split("&"),pt=0;pt<We.length;pt++){var Me=We[pt].split("=");if(1<Me.length){var wt=Me[0];Me=Me[1];var ut=wt.split("_");ee=2<=ut.length&&ut[1]=="type"?ee+(wt+"="+Me+"&"):ee+(wt+"=redacted&")}}else ee=null;else ee=j;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+y+`
`+ee})}function vs(l,p,y,E,L,j,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+y+`
`+j+" "+ee})}function In(l,p,y,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Rc(l,y)+(E?" "+E:"")})}function jo(l,p){l.info(function(){return"TIMEOUT: "+p})}Ci.prototype.info=function(){};function Rc(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ee=1;ee<L.length;ee++)L[ee]=""}}}}return Oo(y)}catch{return p}}var _s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function Pi(){}W(Pi,Ai),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},Sn=new Pi;function An(l,p,y,E){this.j=l,this.i=p,this.l=y,this.R=E||1,this.U=new Si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nl}function nl(){this.i=null,this.g="",this.h=!1}var zo={},Es={};function ws(l,p,y){l.L=1,l.v=Ur(nn(p)),l.m=y,l.P=!0,Bo(l,null)}function Bo(l,p){l.F=Date.now(),Ke(l),l.A=nn(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),jr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new nl,l.g=El(l.j,y?p:null,!l.m),0<l.O&&(l.M=new Ii(V(l.Y,l,l.g),l.O)),p=l.U,y=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Do[0]=L.toString()),L=Do);for(var j=0;j<L.length;j++){var ee=Co(y,L[j],E||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),lr(),ki(l.i,l.u,l.A,l.l,l.R,l.m)}An.prototype.ca=function(l){l=l.target;const p=this.M;p&&Kt(l)==3?p.j():this.Y(l)},An.prototype.Y=function(l){try{if(l==this.g)e:{const ut=Kt(this.g);var p=this.g.Ba();const fn=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Go(this.g)))){this.J||ut!=4||p==7||(p==8||0>=fn?lr(3):lr(2)),xi(this);var y=this.g.Z();this.X=y;t:if(rl(this)){var E=Go(this.g);l="";var L=E.length,j=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Or(this);var ee="";break t}this.h.i=new f.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,l+=this.h.i.decode(E[p],{stream:!(j&&p==L-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,vs(this.i,this.u,this.A,this.l,this.R,ut,y),this.o){if(this.T&&!this.K){t:{if(this.g){var We,pt=this.g;if((We=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(We)){var Me=We;break t}}Me=null}if(y=Me)In(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$o(this,y);else{this.o=!1,this.s=3,ot(12),hn(this),Or(this);break e}}if(this.P){y=!0;let sn;for(;!this.J&&this.C<ee.length;)if(sn=Cc(this,ee),sn==Es){ut==4&&(this.s=4,ot(14),y=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==zo){this.s=4,ot(15),In(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else In(this.i,this.l,sn,null),$o(this,sn);if(rl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||ee.length!=0||this.h.h||(this.s=1,ot(16),y=!1),this.o=this.o&&y,!y)In(this.i,this.l,ee,"[Invalid Chunked Response]"),hn(this),Or(this);else if(0<ee.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Yo(wt),wt.M=!0,ot(11))}}else In(this.i,this.l,ee,null),$o(this,ee);ut==4&&hn(this),this.o&&!this.J&&(ut==4?Ds(this.j,this):(this.o=!1,Ke(this)))}else Cs(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),hn(this),Or(this)}}}catch{}finally{}};function rl(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Cc(l,p){var y=l.C,E=p.indexOf(`
`,y);return E==-1?Es:(y=Number(p.substring(y,E)),isNaN(y)?zo:(E+=1,E+y>p.length?Es:(p=p.slice(E,E+y),l.C=E+y,p)))}An.prototype.cancel=function(){this.J=!0,hn(this)};function Ke(l){l.S=Date.now()+l.I,il(l,l.I)}function il(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Tn(V(l.ba,l),p)}function xi(l){l.B&&(f.clearTimeout(l.B),l.B=null)}An.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(jo(this.i,this.A),this.L!=2&&(lr(),ot(17)),hn(this),this.s=2,Or(this)):il(this,this.S-l)};function Or(l){l.j.G==0||l.J||Ds(l.j,l)}function hn(l){xi(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,bo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function $o(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||zt(y.h,l))){if(!l.K&&zt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Ns(y),xn(y);else break e;xs(y),ot(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Tn(V(y.Za,y),6e3));if(1>=ol(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else fr(y,11)}else if((l.K||y.g==l)&&Ns(y),!ne(p))for(L=y.Da.g.parse(p),p=0;p<L.length;p++){let Me=L[p];if(y.T=Me[0],Me=Me[1],y.G==2)if(Me[0]=="c"){y.K=Me[1],y.ia=Me[2];const wt=Me[3];wt!=null&&(y.la=wt,y.j.info("VER="+y.la));const ut=Me[4];ut!=null&&(y.Aa=ut,y.j.info("SVER="+y.Aa));const fn=Me[5];fn!=null&&typeof fn=="number"&&0<fn&&(E=1.5*fn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const sn=l.g;if(sn){const Mi=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var j=E.h;j.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ho(j,j.h),j.h=null))}if(E.D){const Os=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Os&&(E.ya=Os,qe(E.I,E.D,Os))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=l;if(E.qa=_l(E,E.J?E.ia:null,E.W),ee.K){al(E.h,ee);var We=ee,pt=E.L;pt&&(We.I=pt),We.B&&(xi(We),Ke(We)),E.g=ee}else Li(E);0<y.i.length&&Wn(y)}else Me[0]!="stop"&&Me[0]!="close"||fr(y,7);else y.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?fr(y,7):Ct(y):Me[0]!="noop"&&y.l&&y.l.ta(Me),y.v=0)}}lr(4)}catch{}}var sl=class{constructor(l,p){this.g=l,this.map=p}};function Ni(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ol(l){return l.h?1:l.g?l.g.size:0}function zt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Ho(l,p){l.g?l.g.add(p):l.h=p}function al(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ni.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ll(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return H(l.i)}function Ts(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,E=0;E<y;E++)p.push(l[E]);return p}p=[],y=0;for(E in l)p[y++]=l[E];return p}function Is(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const E in l)p[y++]=E;return p}}}function Vr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=Is(l),E=Ts(l),L=E.length,j=0;j<L;j++)p.call(void 0,E[j],y&&y[j],l)}var Di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kc(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),L=null;if(0<=E){var j=l[y].substring(0,E);L=l[y].substring(E+1)}else j=l[y];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ur(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ur){this.h=l.h,bi(this,l.j),this.o=l.o,this.g=l.g,Lr(this,l.s),this.l=l.l;var p=l.i,y=new Bn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Mr(this,y),this.m=l.m}else l&&(p=String(l).match(Di))?(this.h=!1,bi(this,p[1]||"",!0),this.o=Ve(p[2]||""),this.g=Ve(p[3]||"",!0),Lr(this,p[4]),this.l=Ve(p[5]||"",!0),Mr(this,p[6]||"",!0),this.m=Ve(p[7]||"")):(this.h=!1,this.i=new Bn(null,this.h))}ur.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Fr(p,Ss,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Fr(p,Ss,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Fr(y,y.charAt(0)=="/"?hl:cl,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Fr(y,Wo)),l.join("")};function nn(l){return new ur(l)}function bi(l,p,y){l.j=y?Ve(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Lr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Mr(l,p,y){p instanceof Bn?(l.i=p,$n(l.i,l.h)):(y||(p=Fr(p,dl)),l.i=new Bn(p,l.h))}function qe(l,p,y){l.i.set(p,y)}function Ur(l){return qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ve(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Fr(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,ul),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ul(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ss=/[#\/\?@]/g,cl=/[#\?:]/g,hl=/[#\?]/g,dl=/[#\?@]/g,Wo=/#/g;function Bn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Rt(l){l.g||(l.g=new Map,l.h=0,l.i&&kc(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Bn.prototype,r.add=function(l,p){Rt(this),this.i=null,l=dn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function Rn(l,p){Rt(l),p=dn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Cn(l,p){return Rt(l),p=dn(l,p),l.g.has(p)}r.forEach=function(l,p){Rt(this),this.g.forEach(function(y,E){y.forEach(function(L){l.call(p,L,E,this)},this)},this)},r.na=function(){Rt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const L=l[E];for(let j=0;j<L.length;j++)y.push(p[E])}return y},r.V=function(l){Rt(this);let p=[];if(typeof l=="string")Cn(this,l)&&(p=p.concat(this.g.get(dn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},r.set=function(l,p){return Rt(this),this.i=null,l=dn(this,l),Cn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function jr(l,p,y){Rn(l,p),0<y.length&&(l.i=null,l.g.set(dn(l,p),H(y)),l.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const j=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var L=j;ee[E]!==""&&(L+="="+encodeURIComponent(String(ee[E]))),l.push(L)}}return this.i=l.join("&")};function dn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function $n(l,p){p&&!l.j&&(Rt(l),l.i=null,l.g.forEach(function(y,E){var L=E.toLowerCase();E!=L&&(Rn(this,E),jr(this,L,y))},l)),l.j=p}function Pc(l,p){const y=new Ci;if(f.Image){const E=new Image;E.onload=z(qt,y,"TestLoadImage: loaded",!0,p,E),E.onerror=z(qt,y,"TestLoadImage: error",!1,p,E),E.onabort=z(qt,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=z(qt,y,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function fl(l,p){const y=new Ci,E=new AbortController,L=setTimeout(()=>{E.abort(),qt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(j=>{clearTimeout(L),j.ok?qt(y,"TestPingServer: ok",!0,p):qt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),qt(y,"TestPingServer: error",!1,p)})}function qt(l,p,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function xc(){this.g=new Lo}function pl(l,p,y){const E=y||"";try{Vr(l,function(L,j){let ee=L;_(L)&&(ee=Oo(L)),p.push(E+j+"="+encodeURIComponent(ee))})}catch(L){throw p.push(E+"type="+encodeURIComponent("_badmap")),L}}function cr(l){this.l=l.Ub||null,this.j=l.eb||!1}W(cr,Ai),cr.prototype.g=function(){return new Oi(this.l,this.j)},cr.prototype.i=function(l){return function(){return l}}({});function Oi(l,p){dt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(Oi,dt),r=Oi.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Pn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?kn(this):Pn(this),this.readyState==3&&ml(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,kn(this))},r.Qa=function(l){this.g&&(this.response=l,kn(this))},r.ga=function(){this.g&&kn(this)};function kn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pn(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Pn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function hr(l){let p="";return Ee(l,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function zr(l,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=hr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):qe(l,p,y))}function Ze(l){dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Ze,dt);var Nc=/^https?$/i,qo=["POST","PUT"];r=Ze.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?ps(this.o):ps(Sn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(j){Vi(this,j);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())y.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),L=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(qo,p,void 0))||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of y)this.g.setRequestHeader(j,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rs(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){Vi(this,j)}};function Vi(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,As(l),rn(l)}function As(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),rn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rn(this,!0)),Ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ko(this):this.bb())},r.bb=function(){Ko(this)};function Ko(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Kt(l)!=4||l.Z()!=2)){if(l.u&&Kt(l)==4)No(l.Ea,0,l);else if(ft(l,"readystatechange"),Kt(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=ee===0){var L=String(l.D).match(Di)[1]||null;!L&&f.self&&f.self.location&&(L=f.self.location.protocol.slice(0,-1)),E=!Nc.test(L?L.toLowerCase():"")}y=E}if(y)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var j=2<Kt(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",As(l)}}finally{rn(l)}}}}function rn(l,p){if(l.g){Rs(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ft(l,"ready");try{y.onreadystatechange=E}catch{}}}function Rs(l){l.I&&(f.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function Kt(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Vo(p)}};function Go(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Cs(l){const p={};l=(l.g&&2<=Kt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ne(l[E]))continue;var y=N(l[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=p[L]||[];p[L]=j,j.push(y)}k(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Qo(l){this.Aa=0,this.i=[],this.j=new Ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hn("baseRetryDelayMs",5e3,l),this.cb=Hn("retryDelaySeedMs",1e4,l),this.Wa=Hn("forwardChannelMaxRetries",2,l),this.wa=Hn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(l&&l.concurrentRequestLimit),this.Da=new xc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qo.prototype,r.la=8,r.G=1,r.connect=function(l,p,y,E){ot(0),this.W=l,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=_l(this,null,this.W),Wn(this)};function Ct(l){if(ks(l),l.G==3){var p=l.U++,y=nn(l.I);if(qe(y,"SID",l.K),qe(y,"RID",p),qe(y,"TYPE","terminate"),dr(l,y),p=new An(l,l.j,p),p.L=2,p.v=Ur(nn(y)),y=!1,f.navigator&&f.navigator.sendBeacon)try{y=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&f.Image&&(new Image().src=p.v,y=!0),y||(p.g=El(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ke(p)}vl(l)}function xn(l){l.g&&(Yo(l),l.g.cancel(),l.g=null)}function ks(l){xn(l),l.u&&(f.clearTimeout(l.u),l.u=null),Ns(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function Wn(l){if(!tn(l.h)&&!l.s){l.s=!0;var p=l.Ga;Pe||re(),J||(Pe(),J=!0),ce.add(p,l),l.B=0}}function Dc(l,p){return ol(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Tn(V(l.Ga,l,p),yl(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new An(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Br(this,L,p),y=nn(this.I),qe(y,"RID",l),qe(y,"CVER",22),this.D&&qe(y,"X-HTTP-Session-Id",this.D),dr(this,y),j&&(this.O?p="headers="+encodeURIComponent(String(hr(j)))+"&"+p:this.m&&zr(y,this.m,j)),Ho(this.h,L),this.Ua&&qe(y,"TYPE","init"),this.P?(qe(y,"$req",p),qe(y,"SID","null"),L.T=!0,ws(L,y,null)):ws(L,y,p),this.G=2}}else this.G==3&&(l?Ps(this,l):this.i.length==0||tn(this.h)||Ps(this))};function Ps(l,p){var y;p?y=p.l:y=l.U++;const E=nn(l.I);qe(E,"SID",l.K),qe(E,"RID",y),qe(E,"AID",l.T),dr(l,E),l.m&&l.o&&zr(E,l.m,l.o),y=new An(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Br(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ho(l.h,y),ws(y,E,p)}function dr(l,p){l.H&&Ee(l.H,function(y,E){qe(p,E,y)}),l.l&&Vr({},function(y,E){qe(p,E,y)})}function Br(l,p,y){y=Math.min(l.i.length,y);var E=l.l?V(l.l.Na,l.l,l):null;e:{var L=l.i;let j=-1;for(;;){const ee=["count="+y];j==-1?0<y?(j=L[0].g,ee.push("ofs="+j)):j=0:ee.push("ofs="+j);let We=!0;for(let pt=0;pt<y;pt++){let Me=L[pt].g;const wt=L[pt].map;if(Me-=j,0>Me)j=Math.max(0,L[pt].g-100),We=!1;else try{pl(wt,ee,"req"+Me+"_")}catch{E&&E(wt)}}if(We){E=ee.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,E}function Li(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Pe||re(),J||(Pe(),J=!0),ce.add(p,l),l.v=0}}function xs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Tn(V(l.Fa,l),yl(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Tn(V(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),xn(this),gl(this))};function Yo(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function gl(l){l.g=new An(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=nn(l.qa);qe(p,"RID","rpc"),qe(p,"SID",l.K),qe(p,"AID",l.T),qe(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&qe(p,"TO",l.ja),qe(p,"TYPE","xmlhttp"),dr(l,p),l.m&&l.o&&zr(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Ur(nn(p)),y.m=null,y.P=!0,Bo(y,l)}r.Za=function(){this.C!=null&&(this.C=null,xn(this),xs(this),ot(19))};function Ns(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Ds(l,p){var y=null;if(l.g==p){Ns(l),Yo(l),l.g=null;var E=2}else if(zt(l.h,p))y=p.D,al(l.h,p),E=1;else return;if(l.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var L=l.B;E=Ri(),ft(E,new ys(E,y)),Wn(l)}else Li(l);else if(L=p.s,L==3||L==0&&0<p.X||!(E==1&&Dc(l,p)||E==2&&xs(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),L){case 1:fr(l,5);break;case 4:fr(l,10);break;case 3:fr(l,6);break;default:fr(l,2)}}}function yl(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function fr(l,p){if(l.j.info("Error code "+p),p==2){var y=V(l.fb,l),E=l.Xa;const L=!E;E=new ur(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||bi(E,"https"),Ur(E),L?Pc(E.toString(),y):fl(E.toString(),y)}else ot(2);l.G=0,l.l&&l.l.sa(p),vl(l),ks(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function vl(l){if(l.G=0,l.ka=[],l.l){const p=ll(l.h);(p.length!=0||l.i.length!=0)&&($(l.ka,p),$(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function _l(l,p,y){var E=y instanceof ur?nn(y):new ur(y);if(E.g!="")p&&(E.g=p+"."+E.g),Lr(E,E.s);else{var L=f.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new ur(null);E&&bi(j,E),p&&(j.g=p),L&&Lr(j,L),y&&(j.l=y),E=j}return y=l.D,p=l.ya,y&&p&&qe(E,y,p),qe(E,"VER",l.la),dr(l,E),E}function El(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ze(new cr({eb:y})):new Ze(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jo(){}r=Jo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function bs(){}bs.prototype.g=function(l,p){return new Bt(l,p)};function Bt(l,p){dt.call(this),this.g=new Qo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!ne(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ne(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new qn(this)}W(Bt,dt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Ct(this.g)},Bt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Oo(l),l=y);p.i.push(new sl(p.Ya++,l)),p.G==3&&Wn(p)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,Bt.aa.N.call(this)};function wl(l){jn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}W(wl,jn);function Tl(){gs.call(this),this.status=1}W(Tl,gs);function qn(l){this.g=l}W(qn,Jo),qn.prototype.ua=function(){ft(this.g,"a")},qn.prototype.ta=function(l){ft(this.g,new wl(l))},qn.prototype.sa=function(l){ft(this.g,new Tl)},qn.prototype.ra=function(){ft(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,_v=function(){return new bs},vv=function(){return Ri()},yv=zn,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Nu=_s,tl.COMPLETE="complete",gv=tl,ms.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Sa=ms,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,mv=Ze}).apply(typeof Eu<"u"?Eu:typeof self<"u"?self:typeof window<"u"?window:{});const Ig="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new zd("@firebase/firestore");function no(){return rs.logLevel}function ae(r,...e){if(rs.logLevel<=be.DEBUG){const t=e.map(ef);rs.debug(`Firestore (${Io}): ${r}`,...t)}}function Pr(r,...e){if(rs.logLevel<=be.ERROR){const t=e.map(ef);rs.error(`Firestore (${Io}): ${r}`,...t)}}function fo(r,...e){if(rs.logLevel<=be.WARN){const t=e.map(ef);rs.warn(`Firestore (${Io}): ${r}`,...t)}}function ef(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+r;throw Pr(e),new Error(e)}function He(r,e){r||Se()}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ut.UNAUTHENTICATED))}shutdown(){}}class gI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yI{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},f=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string"),new Ev(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Ut(e)}}class vI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _I{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new vI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){He(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string"),this.R=t.token,new EI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=TI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function po(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new vt(0,0))}static max(){return new Ae(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tt extends Ua{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const II=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Ua{construct(e,t,s){return new Nt(e,t,s)}static isValidIdentifier(e){return II.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new me(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new me(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(tt.fromString(e))}static fromName(e){return new ve(tt.fromString(e).popFirst(5))}static empty(){return new ve(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new tt(e.slice()))}}function SI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new vt(t+1,0):new vt(t,s));return new mi(o,ve.empty(),e)}function AI(r){return new mi(r.readTime,r.key,-1)}class mi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new mi(Ae.min(),ve.empty(),-1)}static max(){return new mi(Ae.max(),ve.empty(),-1)}}function RI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(r.documentKey,e.documentKey),t!==0?t:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==CI)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,s)=>{t(e)})}static reject(e){return new q((t,s)=>{s(e)})}static waitFor(e){return new q((t,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=q.resolve(!1);for(const s of e)t=t.next(o=>o?q.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new q((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let g=0;g<u;g++){const _=g;t(e[_]).next(w=>{h[_]=w,++f,f===u&&s(h)},w=>o(w))}})}static doWhile(e,t){return new q((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function PI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dc.oe=-1;function fc(r){return r==null}function Qu(r){return r===0&&1/r==-1/0}function xI(r){return typeof r=="number"&&Number.isInteger(r)&&!Qu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sg(e)),e=DI(r.get(t),e);return Sg(e)}function DI(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case"":t+="";break;default:t+=u}}return t}function Sg(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ss(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Tv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||xt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}}class wu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??xt.RED,this.left=o??xt.EMPTY,this.right=u??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Rg(this.data.getIterator())}getIteratorFrom(e){return new Rg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class Rg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new _t(Nt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Iv("Invalid base64 string: "+u):u}}(e);return new Dt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const bI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(r){if(He(!!r),typeof r=="string"){let e=0;const t=bI.exec(r);if(He(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:lt(r.seconds),nanos:lt(r.nanos)}}function lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yi(r){return typeof r=="string"?Dt.fromBase64String(r):Dt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function pc(r){const e=r.mapValue.fields.__previous_value__;return tf(e)?pc(e):e}function Fa(r){const e=gi(r.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,t,s,o,u,h,f,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=_}}class ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tf(r)?4:LI(r)?9007199254740991:VI(r)?10:11:Se()}function nr(r,e){if(r===e)return!0;const t=vi(r);if(t!==vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fa(r).isEqual(Fa(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=gi(o.timestampValue),f=gi(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return yi(o.bytesValue).isEqual(yi(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return lt(o.geoPointValue.latitude)===lt(u.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return lt(o.integerValue)===lt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=lt(o.doubleValue),f=lt(u.doubleValue);return h===f?Qu(h)===Qu(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(Ag(h)!==Ag(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!nr(h[g],f[g])))return!1;return!0}(r,e);default:return Se()}}function za(r,e){return(r.values||[]).find(t=>nr(t,e))!==void 0}function mo(r,e){if(r===e)return 0;const t=vi(r),s=vi(e);if(t!==s)return Le(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return function(u,h){const f=lt(u.integerValue||u.doubleValue),g=lt(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return Cg(r.timestampValue,e.timestampValue);case 4:return Cg(Fa(r),Fa(e));case 5:return Le(r.stringValue,e.stringValue);case 6:return function(u,h){const f=yi(u),g=yi(h);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),g=h.split("/");for(let _=0;_<f.length&&_<g.length;_++){const w=Le(f[_],g[_]);if(w!==0)return w}return Le(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const f=Le(lt(u.latitude),lt(h.latitude));return f!==0?f:Le(lt(u.longitude),lt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return kg(r.arrayValue,e.arrayValue);case 10:return function(u,h){var f,g,_,w;const R=u.fields||{},V=h.fields||{},z=(f=R.value)===null||f===void 0?void 0:f.arrayValue,W=(g=V.value)===null||g===void 0?void 0:g.arrayValue,H=Le(((_=z==null?void 0:z.values)===null||_===void 0?void 0:_.length)||0,((w=W==null?void 0:W.values)===null||w===void 0?void 0:w.length)||0);return H!==0?H:kg(z,W)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Tu.mapValue&&h===Tu.mapValue)return 0;if(u===Tu.mapValue)return 1;if(h===Tu.mapValue)return-1;const f=u.fields||{},g=Object.keys(f),_=h.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let R=0;R<g.length&&R<w.length;++R){const V=Le(g[R],w[R]);if(V!==0)return V;const z=mo(f[g[R]],_[w[R]]);if(z!==0)return z}return Le(g.length,w.length)}(r.mapValue,e.mapValue);default:throw Se()}}function Cg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const t=gi(r),s=gi(e),o=Le(t.seconds,s.seconds);return o!==0?o:Le(t.nanos,s.nanos)}function kg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=mo(t[o],s[o]);if(u)return u}return Le(t.length,s.length)}function go(r){return Cd(r)}function Cd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=gi(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return yi(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ve.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Cd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Cd(t.fields[h])}`;return o+"}"}(r.mapValue):Se()}function Du(r){switch(vi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(r);return e?16+Du(e):16;case 5:return 2*r.stringValue.length;case 6:return yi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Du(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ss(s.fields,(u,h)=>{o+=u.length+Du(h)}),o}(r.mapValue);default:throw Se()}}function kd(r){return!!r&&"integerValue"in r}function nf(r){return!!r&&"arrayValue"in r}function Pg(r){return!!r&&"nullValue"in r}function xg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bu(r){return!!r&&"mapValue"in r}function VI(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Pa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ss(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Pa(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function LI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!bu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(t)}setAll(e){let t=Nt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=Pa(h):o.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());bu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];bu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ss(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new En(Pa(this.value))}}function Sv(r){const e=[];return ss(r.fields,(t,s)=>{const o=new Nt([t]);if(bu(s)){const u=Sv(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t,s,o,u,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ft(e,0,Ae.min(),Ae.min(),Ae.min(),En.empty(),0)}static newFoundDocument(e,t,s,o){return new Ft(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new Ft(e,2,t,Ae.min(),Ae.min(),En.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,Ae.min(),Ae.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t){this.position=e,this.inclusive=t}}function Ng(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=mo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Dg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!nr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t="asc"){this.field=e,this.dir=t}}function MI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{}class yt extends Av{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new FI(e,t,s):t==="array-contains"?new BI(e,s):t==="in"?new $I(e,s):t==="not-in"?new HI(e,s):t==="array-contains-any"?new WI(e,s):new yt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new jI(e,s):new zI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(mo(t,this.value)):t!==null&&vi(this.value)===vi(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends Av{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new rr(e,t)}matches(e){return Rv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Rv(r){return r.op==="and"}function Cv(r){return UI(r)&&Rv(r)}function UI(r){for(const e of r.filters)if(e instanceof rr)return!1;return!0}function Pd(r){if(r instanceof yt)return r.field.canonicalString()+r.op.toString()+go(r.value);if(Cv(r))return r.filters.map(e=>Pd(e)).join(",");{const e=r.filters.map(t=>Pd(t)).join(",");return`${r.op}(${e})`}}function kv(r,e){return r instanceof yt?function(s,o){return o instanceof yt&&s.op===o.op&&s.field.isEqual(o.field)&&nr(s.value,o.value)}(r,e):r instanceof rr?function(s,o){return o instanceof rr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&kv(h,o.filters[f]),!0):!1}(r,e):void Se()}function Pv(r){return r instanceof yt?function(t){return`${t.field.canonicalString()} ${t.op} ${go(t.value)}`}(r):r instanceof rr?function(t){return t.op.toString()+" {"+t.getFilters().map(Pv).join(" ,")+"}"}(r):"Filter"}class FI extends yt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class jI extends yt{constructor(e,t){super(e,"in",t),this.keys=xv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zI extends yt{constructor(e,t){super(e,"not-in",t),this.keys=xv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class BI extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nf(t)&&za(t.arrayValue,this.value)}}class $I extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&za(this.value.arrayValue,t)}}class HI extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!za(this.value.arrayValue,t)}}class WI extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>za(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.ue=null}}function bg(r,e=null,t=[],s=[],o=null,u=null,h=null){return new qI(r,e,t,s,o,u,h)}function rf(r){const e=Ce(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Pd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),fc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>go(s)).join(",")),e.ue=t}return e.ue}function sf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!MI(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!kv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Dg(r.startAt,e.startAt)&&Dg(r.endAt,e.endAt)}function xd(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t=null,s=[],o=[],u=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function KI(r,e,t,s,o,u,h,f){return new mc(r,e,t,s,o,u,h,f)}function Nv(r){return new mc(r)}function Og(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GI(r){return r.collectionGroup!==null}function xa(r){const e=Ce(r);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new _t(Nt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(f=f.add(_.field))})}),f})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Ju(u,s))}),t.has(Nt.keyField().canonicalString())||e.ce.push(new Ju(Nt.keyField(),s))}return e.ce}function er(r){const e=Ce(r);return e.le||(e.le=QI(e,xa(r))),e.le}function QI(r,e){if(r.limitType==="F")return bg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ju(o.field,u)});const t=r.endAt?new Yu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yu(r.startAt.position,r.startAt.inclusive):null;return bg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Nd(r,e,t){return new mc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gc(r,e){return sf(er(r),er(e))&&r.limitType===e.limitType}function Dv(r){return`${rf(er(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Pv(o)).join(", ")}]`),fc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>go(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(er(r))}; limitType=${r.limitType})`}function yc(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of xa(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,g){const _=Ng(h,f,g);return h.inclusive?_<=0:_<0}(s.startAt,xa(s),o)||s.endAt&&!function(h,f,g){const _=Ng(h,f,g);return h.inclusive?_>=0:_>0}(s.endAt,xa(s),o))}(r,e)}function YI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bv(r){return(e,t)=>{let s=!1;for(const o of xa(r)){const u=JI(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function JI(r,e,t){const s=r.field.isKeyField()?ve.comparator(e.key,t.key):function(u,h,f){const g=h.data.field(u),_=f.data.field(u);return g!==null&&_!==null?mo(g,_):Se()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Tv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new it(ve.comparator);function xr(){return XI}const Ov=new it(ve.comparator);function Aa(...r){let e=Ov;for(const t of r)e=e.insert(t.key,t);return e}function Vv(r){let e=Ov;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ji(){return Na()}function Lv(){return Na()}function Na(){return new os(r=>r.toString(),(r,e)=>r.isEqual(e))}const ZI=new it(ve.comparator),eS=new _t(ve.comparator);function Oe(...r){let e=eS;for(const t of r)e=e.add(t);return e}const tS=new _t(Le);function nS(){return tS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function Mv(r){return{integerValue:""+r}}function rS(r,e){return xI(e)?Mv(e):of(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function iS(r,e,t){return r instanceof Xu?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tf(u)&&(u=pc(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):r instanceof Ba?Fv(r,e):r instanceof $a?jv(r,e):function(o,u){const h=Uv(o,u),f=Vg(h)+Vg(o.Pe);return kd(h)&&kd(o.Pe)?Mv(f):of(o.serializer,f)}(r,e)}function sS(r,e,t){return r instanceof Ba?Fv(r,e):r instanceof $a?jv(r,e):t}function Uv(r,e){return r instanceof Zu?function(s){return kd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Xu extends vc{}class Ba extends vc{constructor(e){super(),this.elements=e}}function Fv(r,e){const t=zv(e);for(const s of r.elements)t.some(o=>nr(o,s))||t.push(s);return{arrayValue:{values:t}}}class $a extends vc{constructor(e){super(),this.elements=e}}function jv(r,e){let t=zv(e);for(const s of r.elements)t=t.filter(o=>!nr(o,s));return{arrayValue:{values:t}}}class Zu extends vc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Vg(r){return lt(r.integerValue||r.doubleValue)}function zv(r){return nf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function oS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ba&&o instanceof Ba||s instanceof $a&&o instanceof $a?po(s.elements,o.elements,nr):s instanceof Zu&&o instanceof Zu?nr(s.Pe,o.Pe):s instanceof Xu&&o instanceof Xu}(r.transform,e.transform)}class aS{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _c{}function Bv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Hv(r.key,Rr.none()):new Ya(r.key,r.data,Rr.none());{const t=r.data,s=En.empty();let o=new _t(Nt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new as(r.key,s,new Mn(o.toArray()),Rr.none())}}function lS(r,e,t){r instanceof Ya?function(o,u,h){const f=o.value.clone(),g=Mg(o.fieldTransforms,u,h.transformResults);f.setAll(g),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,t):r instanceof as?function(o,u,h){if(!Ou(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=Mg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll($v(o)),g.setAll(f),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Da(r,e,t,s){return r instanceof Ya?function(u,h,f,g){if(!Ou(u.precondition,h))return f;const _=u.value.clone(),w=Ug(u.fieldTransforms,g,h);return _.setAll(w),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(r,e,t,s):r instanceof as?function(u,h,f,g){if(!Ou(u.precondition,h))return f;const _=Ug(u.fieldTransforms,g,h),w=h.data;return w.setAll($v(u)),w.setAll(_),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(r,e,t,s):function(u,h,f){return Ou(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,t)}function uS(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Uv(s.transform,o||null);u!=null&&(t===null&&(t=En.empty()),t.set(s.field,u))}return t||null}function Lg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,(u,h)=>oS(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ya extends _c{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends _c{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $v(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Mg(r,e,t){const s=new Map;He(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,sS(h,f,t[o]))}return s}function Ug(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,iS(u,h,e))}return s}class Hv extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cS extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&lS(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Da(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Da(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Lv();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=t.has(o.key)?null:f;const g=Bv(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(t,s)=>Lg(t,s))&&po(this.baseMutations,e.baseMutations,(t,s)=>Lg(t,s))}}class af{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){He(e.mutations.length===s.length);let o=function(){return ZI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new af(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ue;function pS(r){switch(r){default:return Se();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function Wv(r){if(r===void 0)return Pr("GRPC error has no .code"),Q.UNKNOWN;switch(r){case ht.OK:return Q.OK;case ht.CANCELLED:return Q.CANCELLED;case ht.UNKNOWN:return Q.UNKNOWN;case ht.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ht.INTERNAL:return Q.INTERNAL;case ht.UNAVAILABLE:return Q.UNAVAILABLE;case ht.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ht.NOT_FOUND:return Q.NOT_FOUND;case ht.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ht.ABORTED:return Q.ABORTED;case ht.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ht.DATA_LOSS:return Q.DATA_LOSS;default:return Se()}}(Ue=ht||(ht={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new Zi([4294967295,4294967295],0);function Fg(r){const e=mS().encode(r),t=new pv;return t.update(e),new Uint8Array(t.digest())}function jg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zi([t,s],0),new Zi([o,u],0)]}class lf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ra(`Invalid padding: ${t}`);if(s<0)throw new Ra(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Zi.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(Zi.fromNumber(s)));return o.compare(gS)===1&&(o=new Zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Fg(e),[s,o]=jg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new lf(u,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=Fg(e),[s,o]=jg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ec(Ae.min(),o,new it(Le),xr(),Oe())}}class Ja{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ja(s,t,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class qv{constructor(e,t){this.targetId=e,this.me=t}}class Kv{constructor(e,t,s=Dt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class zg{constructor(){this.fe=0,this.ge=Bg(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),t=Oe(),s=Oe();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new Ja(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Bg()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class yS{constructor(e){this.Le=e,this.Be=new Map,this.ke=xr(),this.qe=Iu(),this.Qe=Iu(),this.Ke=new it(Le)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const u=o.target;if(xd(u))if(s===0){const h=new ve(u.path);this.We(t,h,Ft.newNoDocument(h,Ae.min()))}else He(s===1);else{const h=this.Ze(t);if(h!==s){const f=this.Xe(e),g=f?this.et(f,e,h):1;if(g!==0){this.He(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,_)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,f;try{h=yi(s).toUint8Array()}catch(g){if(g instanceof Iv)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new lf(h,o,u)}catch(g){return fo(g instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.Te===0?null:f}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.We(t,u,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((u,h)=>{const f=this.Ye(h);if(f){if(u.current&&xd(f.target)){const g=new ve(f.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ft.newNoDocument(g,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=Oe();this.Qe.forEach((u,h)=>{let f=!0;h.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new Ec(e,t,this.Ke,this.ke,s);return this.ke=xr(),this.qe=Iu(),this.Qe=Iu(),this.Ke=new it(Le),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new zg,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new _t(Le),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new _t(Le),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new zg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Iu(){return new it(ve.comparator)}function Bg(){return new it(ve.comparator)}const vS={asc:"ASCENDING",desc:"DESCENDING"},_S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ES={and:"AND",or:"OR"};class wS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dd(r,e){return r.useProto3Json||fc(e)?e:{value:e}}function ec(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function TS(r,e){return ec(r,e.toTimestamp())}function tr(r){return He(!!r),Ae.fromTimestamp(function(t){const s=gi(t);return new vt(s.seconds,s.nanos)}(r))}function uf(r,e){return bd(r,e).canonicalString()}function bd(r,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Qv(r){const e=tt.fromString(r);return He(e_(e)),e}function Od(r,e){return uf(r.databaseId,e.path)}function hd(r,e){const t=Qv(e);if(t.get(1)!==r.databaseId.projectId)throw new me(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ve(Jv(t))}function Yv(r,e){return uf(r.databaseId,e)}function IS(r){const e=Qv(r);return e.length===4?tt.emptyPath():Jv(e)}function Vd(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Jv(r){return He(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function $g(r,e,t){return{name:Od(r,e),fields:t.value.mapValue.fields}}function SS(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,w){return _.useProto3Json?(He(w===void 0||typeof w=="string"),Dt.fromBase64String(w||"")):(He(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Dt.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(_){const w=_.code===void 0?Q.UNKNOWN:Wv(_.code);return new me(w,_.message||"")}(h);t=new Kv(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=hd(r,s.document.name),u=tr(s.document.updateTime),h=s.document.createTime?tr(s.document.createTime):Ae.min(),f=new En({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(o,u,h,f),_=s.targetIds||[],w=s.removedTargetIds||[];t=new Vu(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=hd(r,s.document),u=s.readTime?tr(s.readTime):Ae.min(),h=Ft.newNoDocument(o,u),f=s.removedTargetIds||[];t=new Vu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=hd(r,s.document),u=s.removedTargetIds||[];t=new Vu([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new fS(o,u),f=s.targetId;t=new qv(f,h)}}return t}function AS(r,e){let t;if(e instanceof Ya)t={update:$g(r,e.key,e.value)};else if(e instanceof Hv)t={delete:Od(r,e.key)};else if(e instanceof as)t={update:$g(r,e.key,e.data),updateMask:OS(e.fieldMask)};else{if(!(e instanceof cS))return Se();t={verify:Od(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof Xu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ba)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $a)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Zu)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Se()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:TS(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(r,e.precondition)),t}function RS(r,e){return r&&r.length>0?(He(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?tr(o.updateTime):tr(u);return h.isEqual(Ae.min())&&(h=tr(u)),new aS(h,o.transformResults||[])}(t,e))):[]}function CS(r,e){return{documents:[Yv(r,e.path)]}}function kS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Yv(r,o);const u=function(_){if(_.length!==0)return Zv(rr.create(_,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(_){if(_.length!==0)return _.map(w=>function(V){return{field:io(V.field),direction:NS(V.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Dd(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:t,parent:o}}function PS(r){let e=IS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){He(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=function(R){const V=Xv(R);return V instanceof rr&&Cv(V)?V.getFilters():[V]}(t.where));let h=[];t.orderBy&&(h=function(R){return R.map(V=>function(W){return new Ju(so(W.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(V))}(t.orderBy));let f=null;t.limit&&(f=function(R){let V;return V=typeof R=="object"?R.value:R,fc(V)?null:V}(t.limit));let g=null;t.startAt&&(g=function(R){const V=!!R.before,z=R.values||[];return new Yu(z,V)}(t.startAt));let _=null;return t.endAt&&(_=function(R){const V=!R.before,z=R.values||[];return new Yu(z,V)}(t.endAt)),KI(e,o,h,u,f,"F",g,_)}function xS(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xv(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=so(t.unaryFilter.field);return yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(t.unaryFilter.field);return yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(t.unaryFilter.field);return yt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(t.unaryFilter.field);return yt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(r):r.fieldFilter!==void 0?function(t){return yt.create(so(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return rr.create(t.compositeFilter.filters.map(s=>Xv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(r):Se()}function NS(r){return vS[r]}function DS(r){return _S[r]}function bS(r){return ES[r]}function io(r){return{fieldPath:r.canonicalString()}}function so(r){return Nt.fromServerFormat(r.fieldPath)}function Zv(r){return r instanceof yt?function(t){if(t.op==="=="){if(xg(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NAN"}};if(Pg(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xg(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NAN"}};if(Pg(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(t.field),op:DS(t.op),value:t.value}}}(r):r instanceof rr?function(t){const s=t.getFilters().map(o=>Zv(o));return s.length===1?s[0]:{compositeFilter:{op:bS(t.op),filters:s}}}(r):Se()}function OS(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function e_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),f=Dt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.ht=e}}function LS(r){const e=PS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.ln=new US}addToCollectionParentIndex(e,t){return this.ln.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(mi.min())}updateCollectionGroup(e,t,s){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class US{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new _t(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new _t(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new yo(0)}static Qn(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg([r,e],[t,s]){const o=Le(r,t);return o===0?Le(e,s):o}class FS{constructor(e){this.Gn=e,this.buffer=new _t(Wg),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Wg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jS{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ao(t)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await So(t)}await this.Yn(3e5)})}}class zS{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return q.resolve(dc.oe);const s=new FS(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(Hg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hg):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,u,h,f,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,h=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,f=Date.now(),this.removeTargets(e,s,t))).next(R=>(u=R,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),no()<=be.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(g-f)+`ms
	Removed ${R} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}function BS(r,e){return new zS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.changes=new os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Da(s.mutation,o,Mn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Oe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Oe()){const o=Ji();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Aa();return u.forEach((f,g)=>{h=h.insert(f,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ji();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Oe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let u=xr();const h=Na(),f=function(){return Na()}();return t.forEach((g,_)=>{const w=s.get(_.key);o.has(_.key)&&(w===void 0||w.mutation instanceof as)?u=u.insert(_.key,_):w!==void 0?(h.set(_.key,w.mutation.getFieldMask()),Da(w.mutation,_,w.mutation.getFieldMask(),vt.now())):h.set(_.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((_,w)=>h.set(_,w)),t.forEach((_,w)=>{var R;return f.set(_,new HS(w,(R=h.get(_))!==null&&R!==void 0?R:null))}),f))}recalculateAndSaveOverlays(e,t){const s=Na();let o=new it((h,f)=>h-f),u=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(g=>{const _=t.get(g);if(_===null)return;let w=s.get(g)||Mn.empty();w=f.applyToLocalView(_,w),s.set(g,w);const R=(o.get(f.batchId)||Oe()).add(g);o=o.insert(f.batchId,R)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),_=g.key,w=g.value,R=Lv();w.forEach(V=>{if(!u.has(V)){const z=Bv(t.get(V),s.get(V));z!==null&&R.set(V,z),u=u.add(V)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,R))}return q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):q.resolve(Ji());let f=-1,g=u;return h.next(_=>q.forEach(_,(w,R)=>(f<R.largestBatchId&&(f=R.largestBatchId),u.get(w)?q.resolve():this.remoteDocumentCache.getEntry(e,w).next(V=>{g=g.insert(w,V)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,g,_,Oe())).next(w=>({batchId:f,changes:Vv(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=Aa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Aa();return this.indexManager.getCollectionParents(e,u).next(f=>q.forEach(f,g=>{const _=function(R,V){return new mc(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(w=>{w.forEach((R,V)=>{h=h.insert(R,V)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,_)=>{const w=_.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let f=Aa();return h.forEach((g,_)=>{const w=u.get(g);w!==void 0&&Da(w.mutation,_,Mn.empty(),vt.now()),yc(t,_)&&(f=f.insert(g,_))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:tr(o.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:LS(o.bundledQuery),readTime:tr(o.readTime)}}(t)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.overlays=new it(ve.comparator),this.Er=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ji();return q.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Tt(e,t,u)}),q.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),q.resolve()}getOverlaysForCollection(e,t,s){const o=Ji(),u=t.length+1,h=new ve(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return q.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new it((_,w)=>_-w);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let w=u.get(_.largestBatchId);w===null&&(w=Ji(),u=u.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const f=Ji(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,w)=>f.set(_,w)),!(f.size()>=o)););return q.resolve(f)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new dS(t,s));let u=this.Er.get(t);u===void 0&&(u=Oe(),this.Er.set(t,u)),this.Er.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this.dr=new _t(At.Ar),this.Rr=new _t(At.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new At(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new At(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new ve(new tt([])),s=new At(t,e),o=new At(t,e+1),u=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new tt([])),s=new At(t,e),o=new At(t,e+1);let u=Oe();return this.Rr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new At(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class At{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Le(e.br,t.br)}static Vr(e,t){return Le(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new _t(At.Ar)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new hS(u,t,s,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new At(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return q.resolve(h)}lookupMutationBatch(e,t){return q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),u=o<0?0:o;return q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],h=>{const f=this.Cr(h.br);u.push(f)}),q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _t(Le);return t.forEach(o=>{const u=new At(o,0),h=new At(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],f=>{s=s.add(f.br)})}),q.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new At(new ve(u),0);let f=new _t(Le);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(f=f.add(g.br)),!0)},h),q.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return q.forEach(t.mutations,o=>{const u=new At(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new At(t,0),o=this.vr.firstAfterOrEqual(s);return q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.Nr=e,this.docs=function(){return new it(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return q.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let s=xr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ft.newInvalidDocument(o))}),q.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=xr();const h=t.path,f=new ve(h.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||RI(AI(w),s)<=0||(o.has(w.key)||yc(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return q.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}Lr(e,t){return q.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new JS(this)}getSize(e){return q.resolve(this.size)}}class JS extends $S{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.persistence=e,this.Br=new os(t=>rf(t),sf),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new cf,this.targetCount=0,this.Qr=yo.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Un(t),q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),q.waitFor(u).next(()=>o)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return q.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),q.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return q.resolve(s)}containsKey(e,t){return q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new dc(0),this.Ur=!1,this.Ur=!0,this.Wr=new GS,this.referenceDelegate=e(this),this.Gr=new XS(this),this.indexManager=new MS,this.remoteDocumentCache=function(o){return new YS(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new VS(t),this.jr=new qS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new QS(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new ZS(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(e,t){return q.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class ZS extends kI{constructor(e){super(),this.currentSequenceNumber=e}}class hf{constructor(e){this.persistence=e,this.Zr=new cf,this.Xr=null}static ei(e){return new hf(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),q.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.ti,s=>{const o=ve.fromPath(s);return this.ni(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return q.or([()=>q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class tc{constructor(e,t){this.persistence=e,this.ri=new os(s=>NI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=BS(this,t)}static ei(e,t){return new tc(e,t)}Hr(){}Jr(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return q.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(u=>u?q.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),q.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Du(e.data.value)),t}ir(e,t,s){return q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return q.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Oe(),o=Oe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new df(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return lE()?8:PI(jt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Xi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new eA;return this.ts(e,t,h).next(f=>{if(u.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>u.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(no()<=be.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),q.resolve()):(no()<=be.DEBUG&&ae("QueryEngine","Query:",ro(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(no()<=be.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(t))):q.resolve())}Xi(e,t){if(Og(t))return q.resolve(null);let s=er(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Nd(t,null,"F"),s=er(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Oe(...u);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(t,f);return this.ss(t,_,h,g.readTime)?this.Xi(e,Nd(t,null,"F")):this.os(e,_,t,g)}))})))}es(e,t,s,o){return Og(t)||o.isEqual(Ae.min())?q.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(t,u);return this.ss(t,h,s,o)?q.resolve(null):(no()<=be.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(t)),this.os(e,h,t,SI(o,-1)).next(f=>f))})}rs(e,t){let s=new _t(bv(e));return t.forEach((o,u)=>{yc(e,u)&&(s=s.add(u))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(e,t,s){return no()<=be.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ro(t)),this.Zi.getDocumentsMatchingQuery(e,t,mi.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new it(Le),this.cs=new os(u=>rf(u),sf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WS(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function rA(r,e,t,s){return new nA(r,e,t,s)}async function n_(r,e){const t=Ce(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let g=Oe();for(const _ of o){h.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of u){f.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:h,addedBatchIds:f}))})})}function iA(r,e){const t=Ce(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,g,_,w){const R=_.batch,V=R.keys();let z=q.resolve();return V.forEach(W=>{z=z.next(()=>w.getEntry(g,W)).next(H=>{const $=_.docVersions.get(W);He($!==null),H.version.compareTo($)<0&&(R.applyToRemoteDocument(H,_),H.isValidDocument()&&(H.setReadTime(_.commitVersion),w.addEntry(H)))})}),z.next(()=>f.mutationQueue.removeMutationBatch(g,R))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=Oe();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(g=g.add(f.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function r_(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function sA(r,e){const t=Ce(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((w,R)=>{const V=o.get(R);if(!V)return;f.push(t.Gr.removeMatchingKeys(u,w.removedDocuments,R).next(()=>t.Gr.addMatchingKeys(u,w.addedDocuments,R)));let z=V.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?z=z.withResumeToken(Dt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(w.resumeToken,s)),o=o.insert(R,z),function(H,$,ie){return H.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0}(V,z,w)&&f.push(t.Gr.updateTargetData(u,z))});let g=xr(),_=Oe();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))}),f.push(oA(u,h,e.documentUpdates).next(w=>{g=w.Is,_=w.Es})),!s.isEqual(Ae.min())){const w=t.Gr.getLastRemoteSnapshotVersion(u).next(R=>t.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(w)}return q.waitFor(f).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,_)).next(()=>g)}).then(u=>(t.us=o,u))}function oA(r,e,t){let s=Oe(),o=Oe();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=xr();return t.forEach((f,g)=>{const _=u.get(f);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):ae("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",g.version)}),{Is:h,Es:o}})}function aA(r,e){const t=Ce(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lA(r,e){const t=Ce(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(u=>u?(o=u,q.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new ui(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function Ld(r,e,t){const s=Ce(r),o=s.us.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ao(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function qg(r,e,t){const s=Ce(r);let o=Ae.min(),u=Oe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,w){const R=Ce(g),V=R.cs.get(w);return V!==void 0?q.resolve(R.us.get(V)):R.Gr.getTargetData(_,w)}(s,h,er(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,f.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Oe())).next(f=>(uA(s,YI(e),f),{documents:f,ds:u})))}function uA(r,e,t){let s=r.ls.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.ls.set(e,s)}class Kg{constructor(){this.activeTargetIds=nS()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cA{constructor(){this._o=new Kg,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Kg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function dd(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class pA extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(t,s,o,u,h){const f=dd(),g=this.No(t,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${f}:`,g,o);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,u,h),this.Bo(t,g,_,o).then(w=>(ae("RestConnection",`Received RPC '${t}' ${f}: `,w),w),w=>{throw fo("RestConnection",`RPC '${t}' ${f} failed with error: `,w,"url: ",g,"request:",o),w})}ko(t,s,o,u,h,f){return this.Oo(t,s,o,u,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),o&&o.headers.forEach((u,h)=>t[h]=u)}No(t,s){const o=dA[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const u=dd();return new Promise((h,f)=>{const g=new mv;g.setWithCredentials(!0),g.listenOnce(gv.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Nu.NO_ERROR:const w=g.getResponseJson();ae(Mt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Nu.TIMEOUT:ae(Mt,`RPC '${e}' ${u} timed out`),f(new me(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const R=g.getStatus();if(ae(Mt,`RPC '${e}' ${u} failed with status:`,R,"response text:",g.getResponseText()),R>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const z=V==null?void 0:V.error;if(z&&z.status&&z.message){const W=function($){const ie=$.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ie)>=0?ie:Q.UNKNOWN}(z.status);f(new me(W,z.message))}else f(new me(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new me(Q.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ae(Mt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);ae(Mt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",_,s,15)})}qo(e,t,s){const o=dd(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=_v(),f=vv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=u.join("");ae(Mt,`Creating RPC '${e}' stream ${o}: ${w}`,g);const R=h.createWebChannel(w,g);let V=!1,z=!1;const W=new fA({Eo:$=>{z?ae(Mt,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(V||(ae(Mt,`Opening RPC '${e}' stream ${o} transport.`),R.open(),V=!0),ae(Mt,`RPC '${e}' stream ${o} sending:`,$),R.send($))},Ao:()=>R.close()}),H=($,ie,ne)=>{$.listen(ie,Z=>{try{ne(Z)}catch(oe){setTimeout(()=>{throw oe},0)}})};return H(R,Sa.EventType.OPEN,()=>{z||(ae(Mt,`RPC '${e}' stream ${o} transport opened.`),W.So())}),H(R,Sa.EventType.CLOSE,()=>{z||(z=!0,ae(Mt,`RPC '${e}' stream ${o} transport closed`),W.Do())}),H(R,Sa.EventType.ERROR,$=>{z||(z=!0,fo(Mt,`RPC '${e}' stream ${o} transport errored:`,$),W.Do(new me(Q.UNAVAILABLE,"The operation could not be completed")))}),H(R,Sa.EventType.MESSAGE,$=>{var ie;if(!z){const ne=$.data[0];He(!!ne);const Z=ne,oe=(Z==null?void 0:Z.error)||((ie=Z[0])===null||ie===void 0?void 0:ie.error);if(oe){ae(Mt,`RPC '${e}' stream ${o} received error:`,oe);const De=oe.status;let Ee=function(I){const C=ht[I];if(C!==void 0)return Wv(C)}(De),k=oe.message;Ee===void 0&&(Ee=Q.INTERNAL,k="Unknown error status: "+De+" with message "+oe.message),z=!0,W.Do(new me(Ee,k)),R.close()}else ae(Mt,`RPC '${e}' stream ${o} received:`,ne),W.vo(ne)}}),H(f,yv.STAT_EVENT,$=>{$.stat===Rd.PROXY?ae(Mt,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Rd.NOPROXY&&ae(Mt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{W.bo()},0),W}}function fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r){return new wS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t,s=1e3,o=1.5,u=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t,s,o,u,h,f,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new i_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new me(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mA extends s_{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=SS(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?tr(h.readTime):Ae.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=Vd(this.serializer),t.addTarget=function(u,h){let f;const g=h.target;if(f=xd(g)?{documents:CS(u,g)}:{query:kS(u,g).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Gv(u,h.resumeToken);const _=Dd(u,h.expectedCount);_!==null&&(f.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ae.min())>0){f.readTime=ec(u,h.snapshotVersion.toTimestamp());const _=Dd(u,h.expectedCount);_!==null&&(f.expectedCount=_)}return f}(this.serializer,e);const s=xS(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=Vd(this.serializer),t.removeTarget=e,this.c_(t)}}class gA extends s_{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=RS(e.writeResults,e.commitTime),s=tr(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=Vd(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>AS(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new me(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,bd(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Q.UNKNOWN,u.toString())})}ko(e,t,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,bd(t,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(Q.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class vA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Pr(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{ls(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Ce(g);_.k_.add(4),await Xa(_),_.K_.set("Unknown"),_.k_.delete(4),await Tc(_)}(this))})}),this.K_=new vA(s,o)}}async function Tc(r){if(ls(r))for(const e of r.q_)await e(!0)}async function Xa(r){for(const e of r.q_)await e(!1)}function o_(r,e){const t=Ce(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),gf(t)?mf(t):Ro(t).s_()&&pf(t,e))}function ff(r,e){const t=Ce(r),s=Ro(t);t.B_.delete(e),s.s_()&&a_(t,e),t.B_.size===0&&(s.s_()?s.a_():ls(t)&&t.K_.set("Unknown"))}function pf(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ro(r).V_(e)}function a_(r,e){r.U_.xe(e),Ro(r).m_(e)}function mf(r){r.U_=new yS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.K_.F_()}function gf(r){return ls(r)&&!Ro(r).i_()&&r.B_.size>0}function ls(r){return Ce(r).k_.size===0}function l_(r){r.U_=void 0}async function EA(r){r.K_.set("Online")}async function wA(r){r.B_.forEach((e,t)=>{pf(r,e)})}async function TA(r,e){l_(r),gf(r)?(r.K_.O_(e),mf(r)):r.K_.set("Unknown")}async function IA(r,e,t){if(r.K_.set("Online"),e instanceof Kv&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(r,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nc(r,s)}else if(e instanceof Vu?r.U_.$e(e):e instanceof qv?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Ae.min()))try{const s=await r_(r.localStore);t.compareTo(s)>=0&&await function(u,h){const f=u.U_.it(h);return f.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.B_.get(_);w&&u.B_.set(_,w.withResumeToken(g.resumeToken,h))}}),f.targetMismatches.forEach((g,_)=>{const w=u.B_.get(g);if(!w)return;u.B_.set(g,w.withResumeToken(Dt.EMPTY_BYTE_STRING,w.snapshotVersion)),a_(u,g);const R=new ui(w.target,g,_,w.sequenceNumber);pf(u,R)}),u.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await nc(r,s)}}async function nc(r,e,t){if(!Ao(e))throw e;r.k_.add(1),await Xa(r),r.K_.set("Offline"),t||(t=()=>r_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Tc(r)})}function u_(r,e){return e().catch(t=>nc(r,t,e))}async function Ic(r){const e=Ce(r),t=_i(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;SA(e);)try{const o=await aA(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,AA(e,o)}catch(o){await nc(e,o)}c_(e)&&h_(e)}function SA(r){return ls(r)&&r.L_.length<10}function AA(r,e){r.L_.push(e);const t=_i(r);t.s_()&&t.f_&&t.g_(e.mutations)}function c_(r){return ls(r)&&!_i(r).i_()&&r.L_.length>0}function h_(r){_i(r).start()}async function RA(r){_i(r).w_()}async function CA(r){const e=_i(r);for(const t of r.L_)e.g_(t.mutations)}async function kA(r,e,t){const s=r.L_.shift(),o=af.from(s,e,t);await u_(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ic(r)}async function PA(r,e){e&&_i(r).f_&&await async function(s,o){if(function(h){return pS(h)&&h!==Q.ABORTED}(o.code)){const u=s.L_.shift();_i(s).__(),await u_(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ic(s)}}(r,e),c_(r)&&h_(r)}async function Qg(r,e){const t=Ce(r);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=ls(t);t.k_.add(3),await Xa(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Tc(t)}async function xA(r,e){const t=Ce(r);e?(t.k_.delete(2),await Tc(t)):e||(t.k_.add(2),await Xa(t),t.K_.set("Unknown"))}function Ro(r){return r.W_||(r.W_=function(t,s,o){const u=Ce(t);return u.b_(),new mA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:EA.bind(null,r),mo:wA.bind(null,r),po:TA.bind(null,r),R_:IA.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),gf(r)?mf(r):r.K_.set("Unknown")):(await r.W_.stop(),l_(r))})),r.W_}function _i(r){return r.G_||(r.G_=function(t,s,o){const u=Ce(t);return u.b_(),new gA(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:RA.bind(null,r),po:PA.bind(null,r),p_:CA.bind(null,r),y_:kA.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Ic(r)):(await r.G_.stop(),r.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,f=new yf(e,t,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vf(r,e){if(Pr("AsyncQueue",`${e}: ${r}`),Ao(r))return new me(Q.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=Aa(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.z_=new it(ve.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class vo{constructor(e,t,s,o,u,h,f,g,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new vo(e,t,co.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class DA{constructor(){this.queries=Jg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Ce(t),u=o.queries;o.queries=Jg(),u.forEach((h,f)=>{for(const g of f.J_)g.onError(s)})})(this,new me(Q.ABORTED,"Firestore shutting down"))}}function Jg(){return new os(r=>Dv(r),gc)}async function bA(r,e){const t=Ce(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Y_()&&e.Z_()&&(s=2):(u=new NA,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await t.onListen(o,!0);break;case 1:u.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=vf(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,u),u.J_.push(e),e.ea(t.onlineState),u.H_&&e.ta(u.H_)&&_f(t)}async function OA(r,e){const t=Ce(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?o=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function VA(r,e){const t=Ce(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const f of h.J_)f.ta(o)&&(s=!0);h.H_=o}}s&&_f(t)}function LA(r,e,t){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.J_)u.onError(t);s.queries.delete(e)}function _f(r){r.X_.forEach(e=>{e.next()})}var Md,Xg;(Xg=Md||(Md={})).na="default",Xg.Cache="cache";class MA{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this.key=e}}class f_{constructor(e){this.key=e}}class UA{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Oe(),this.mutatedKeys=Oe(),this.Va=bv(e),this.ma=new co(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new Yg,o=t?t.ma:this.ma;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,R)=>{const V=o.get(w),z=yc(this.query,R)?R:null,W=!!V&&this.mutatedKeys.has(V.key),H=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let $=!1;V&&z?V.data.isEqual(z.data)?W!==H&&(s.track({type:3,doc:z}),$=!0):this.ya(V,z)||(s.track({type:2,doc:z}),$=!0,(g&&this.Va(z,g)>0||_&&this.Va(z,_)<0)&&(f=!0)):!V&&z?(s.track({type:0,doc:z}),$=!0):V&&!z&&(s.track({type:1,doc:V}),$=!0,(g||_)&&(f=!0)),$&&(z?(h=h.add(z),u=H?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:f,mutatedKeys:u}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,R)=>function(z,W){const H=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return H(z)-H(W)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),o=o!=null&&o;const f=t&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,_=g!==this.Aa;return this.Aa=g,h.length!==0||_?{snapshot:new vo(this.query,e.ma,u,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Yg,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Oe(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new f_(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new d_(s))}),t}va(e){this.da=e.ds,this.Ra=Oe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return vo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class FA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class jA{constructor(e){this.key=e,this.Fa=!1}}class zA{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new os(f=>Dv(f),gc),this.Oa=new Map,this.Na=new Set,this.La=new it(ve.comparator),this.Ba=new Map,this.ka=new cf,this.qa={},this.Qa=new Map,this.Ka=yo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function BA(r,e,t=!0){const s=__(r);let o;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Ca()):o=await p_(s,e,t,!0),o}async function $A(r,e){const t=__(r);await p_(t,e,!0,!1)}async function p_(r,e,t,s){const o=await lA(r.localStore,er(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let f;return s&&(f=await HA(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&o_(r.remoteStore,o),f}async function HA(r,e,t,s,o){r.Ua=(R,V,z)=>async function(H,$,ie,ne){let Z=$.view.ga(ie);Z.ss&&(Z=await qg(H.localStore,$.query,!1).then(({documents:k})=>$.view.ga(k,Z)));const oe=ne&&ne.targetChanges.get($.targetId),De=ne&&ne.targetMismatches.get($.targetId)!=null,Ee=$.view.applyChanges(Z,H.isPrimaryClient,oe,De);return ey(H,$.targetId,Ee.ba),Ee.snapshot}(r,R,V,z);const u=await qg(r.localStore,e,!0),h=new UA(e,u.ds),f=h.ga(u.documents),g=Ja.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),_=h.applyChanges(f,r.isPrimaryClient,g);ey(r,t,_.ba);const w=new FA(e,t,h);return r.xa.set(e,w),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),_.snapshot}async function WA(r,e,t){const s=Ce(r),o=s.xa.get(e),u=s.Oa.get(o.targetId);if(u.length>1)return s.Oa.set(o.targetId,u.filter(h=>!gc(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ld(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ff(s.remoteStore,o.targetId),Ud(s,o.targetId)}).catch(So)):(Ud(s,o.targetId),await Ld(s.localStore,o.targetId,!0))}async function qA(r,e){const t=Ce(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ff(t.remoteStore,s.targetId))}async function KA(r,e,t){const s=eR(r);try{const o=await function(h,f){const g=Ce(h),_=vt.now(),w=f.reduce((z,W)=>z.add(W.key),Oe());let R,V;return g.persistence.runTransaction("Locally write mutations","readwrite",z=>{let W=xr(),H=Oe();return g.hs.getEntries(z,w).next($=>{W=$,W.forEach((ie,ne)=>{ne.isValidDocument()||(H=H.add(ie))})}).next(()=>g.localDocuments.getOverlayedDocuments(z,W)).next($=>{R=$;const ie=[];for(const ne of f){const Z=uS(ne,R.get(ne.key).overlayedDocument);Z!=null&&ie.push(new as(ne.key,Z,Sv(Z.value.mapValue),Rr.exists(!0)))}return g.mutationQueue.addMutationBatch(z,_,ie,f)}).next($=>{V=$;const ie=$.applyToLocalDocumentSet(R,H);return g.documentOverlayCache.saveOverlays(z,$.batchId,ie)})}).then(()=>({batchId:V.batchId,changes:Vv(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,g){let _=h.qa[h.currentUser.toKey()];_||(_=new it(Le)),_=_.insert(f,g),h.qa[h.currentUser.toKey()]=_}(s,o.batchId,t),await Za(s,o.changes),await Ic(s.remoteStore)}catch(o){const u=vf(o,"Failed to persist write");t.reject(u)}}async function m_(r,e){const t=Ce(r);try{const s=await sA(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ba.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?He(h.Fa):o.removedDocuments.size>0&&(He(h.Fa),h.Fa=!1))}),await Za(t,s,e)}catch(s){await So(s)}}function Zg(r,e,t){const s=Ce(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((u,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const g=Ce(h);g.onlineState=f;let _=!1;g.queries.forEach((w,R)=>{for(const V of R.J_)V.ea(f)&&(_=!0)}),_&&_f(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function GA(r,e,t){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),u=o&&o.key;if(u){let h=new it(ve.comparator);h=h.insert(u,Ft.newNoDocument(u,Ae.min()));const f=Oe().add(u),g=new Ec(Ae.min(),new Map,new it(Le),h,f);await m_(s,g),s.La=s.La.remove(u),s.Ba.delete(e),Ef(s)}else await Ld(s.localStore,e,!1).then(()=>Ud(s,e,t)).catch(So)}async function QA(r,e){const t=Ce(r),s=e.batch.batchId;try{const o=await iA(t.localStore,e);y_(t,s,null),g_(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Za(t,o)}catch(o){await So(o)}}async function YA(r,e,t){const s=Ce(r);try{const o=await function(h,f){const g=Ce(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,f).next(R=>(He(R!==null),w=R.keys(),g.mutationQueue.removeMutationBatch(_,R))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(s.localStore,e);y_(s,e,t),g_(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Za(s,o)}catch(o){await So(o)}}function g_(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function y_(r,e,t){const s=Ce(r);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function Ud(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||v_(r,s)})}function v_(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(ff(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),Ef(r))}function ey(r,e,t){for(const s of t)s instanceof d_?(r.ka.addReference(s.key,e),JA(r,s)):s instanceof f_?(ae("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||v_(r,s.key)):Se()}function JA(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(ae("SyncEngine","New document in limbo: "+t),r.Na.add(s),Ef(r))}function Ef(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new ve(tt.fromString(e)),s=r.Ka.next();r.Ba.set(s,new jA(t)),r.La=r.La.insert(t,s),o_(r.remoteStore,new ui(er(Nv(t.path)),s,"TargetPurposeLimboResolution",dc.oe))}}async function Za(r,e,t){const s=Ce(r),o=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((f,g)=>{h.push(s.Ua(g,e,t).then(_=>{var w;if((_||t)&&s.isPrimaryClient){const R=_?!_.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(_){o.push(_);const R=df.zi(g.targetId,_);u.push(R)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,_){const w=Ce(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>q.forEach(_,V=>q.forEach(V.Wi,z=>w.persistence.referenceDelegate.addReference(R,V.targetId,z)).next(()=>q.forEach(V.Gi,z=>w.persistence.referenceDelegate.removeReference(R,V.targetId,z)))))}catch(R){if(!Ao(R))throw R;ae("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const V=R.targetId;if(!R.fromCache){const z=w.us.get(V),W=z.snapshotVersion,H=z.withLastLimboFreeSnapshotVersion(W);w.us=w.us.insert(V,H)}}}(s.localStore,u))}async function XA(r,e){const t=Ce(r);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await n_(t.localStore,e);t.currentUser=e,function(u,h){u.Qa.forEach(f=>{f.forEach(g=>{g.reject(new me(Q.CANCELLED,h))})}),u.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Za(t,s.Ts)}}function ZA(r,e){const t=Ce(r),s=t.Ba.get(e);if(s&&s.Fa)return Oe().add(s.key);{let o=Oe();const u=t.Oa.get(e);if(!u)return o;for(const h of u){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function __(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=m_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GA.bind(null,e),e.Ma.R_=VA.bind(null,e.eventManager),e.Ma.Wa=LA.bind(null,e.eventManager),e}function eR(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YA.bind(null,e),e}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return rA(this.persistence,new tA,e.initialUser,this.serializer)}ja(e){return new t_(hf.ei,this.serializer)}za(e){return new cA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class tR extends rc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){He(this.persistence.referenceDelegate instanceof tc);const s=this.persistence.referenceDelegate.garbageCollector;return new jS(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new t_(s=>tc.ei(s,t),this.serializer)}}class Fd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Zg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XA.bind(null,this.syncEngine),await xA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DA}()}createDatastore(e){const t=wc(e.databaseInfo.databaseId),s=function(u){return new pA(u)}(e.databaseInfo);return function(u,h,f,g){return new yA(u,h,f,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,f){return new _A(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Zg(this.syncEngine,t,0),function(){return Gg.p()?new Gg:new hA}())}createSyncEngine(e,t){return function(o,u,h,f,g,_,w){const R=new zA(o,u,h,f,g,_);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ce(o);ae("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Xa(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ut.UNAUTHENTICATED,this.clientId=wv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=vf(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function pd(r,e){r.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await n_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function ty(r,e){r.asyncQueue.verifyOperationInProgress();const t=await iR(r);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Qg(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Qg(e.remoteStore,o)),r._onlineComponents=e}async function iR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await pd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),await pd(r,new rc)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await pd(r,new tR(void 0));return r._offlineComponents}async function E_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await ty(r,r._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await ty(r,new Fd))),r._onlineComponents}function sR(r){return E_(r).then(e=>e.syncEngine)}async function oR(r){const e=await E_(r),t=e.eventManager;return t.onListen=BA.bind(null,e.syncEngine),t.onUnlisten=WA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$A.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qA.bind(null,e.syncEngine),t}function aR(r,e,t={}){const s=new fi;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,f,g,_){const w=new nR({next:V=>{w.eu(),h.enqueueAndForget(()=>OA(u,R)),V.fromCache&&g.source==="server"?_.reject(new me(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),R=new MA(f,w,{includeMetadataChanges:!0,ua:!0});return bA(u,R)}(await oR(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(r,e,t){if(!t)throw new me(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function lR(r,e,t,s){if(e===!0&&s===!0)throw new me(Q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ry(r){if(!ve.isDocumentKey(r))throw new me(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function iy(r){if(ve.isDocumentKey(r))throw new me(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se()}function ic(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(r);throw new me(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sy(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new mI;switch(s.type){case"firstParty":return new _I(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=ny.get(t);s&&(ae("ComponentProvider","Removing Datastore"),ny.delete(t),s.terminate())}(this),Promise.resolve()}}function uR(r,e,t,s={}){var o;const u=(r=ic(r,Sc))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Ut.MOCK_USER;else{f=tE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new me(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ut(_)}r._authCredentials=new gI(new Ev(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ac(this.firestore,e,this._query)}}class Un{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class pi extends Ac{constructor(e,t,s){super(e,t,Nv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new ve(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function oy(r,e,...t){if(r=wn(r),T_("collection","path",e),r instanceof Sc){const s=tt.fromString(e,...t);return iy(s),new pi(r,null,s)}{if(!(r instanceof Un||r instanceof pi))throw new me(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...t));return iy(s),new pi(r.firestore,null,s)}}function cR(r,e,...t){if(r=wn(r),arguments.length===1&&(e=wv.newId()),T_("doc","path",e),r instanceof Sc){const s=tt.fromString(e,...t);return ry(s),new Un(r,null,new ve(s))}{if(!(r instanceof Un||r instanceof pi))throw new me(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...t));return ry(s),new Un(r.firestore,r instanceof pi?r.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new i_(this,"async_queue_retry"),this.fu=()=>{const s=fd();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=fd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=fd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new fi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ao(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw Pr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=yf.createAndSchedule(this,e,t,s,u=>this.Su(u));return this.du.push(o),o}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Tf extends Sc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ay,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ay(e),this._firestoreClient=void 0,await e}}}function hR(r,e){const t=typeof r=="object"?r:Ey(),s=typeof r=="string"?r:"(default)",o=$d(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Z0("firestore");u&&uR(o,...u)}return o}function I_(r){if(r._terminated)throw new me(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dR(r),r._firestoreClient}function dR(r){var e,t,s;const o=r._freezeSettings(),u=function(f,g,_,w){return new OI(f,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w_(w.experimentalLongPollingOptions),w.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new rR(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(Dt.fromBase64String(e))}catch(t){throw new me(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _o(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=/^__.*__$/;class pR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ya(e,this.data,t,this.fieldTransforms)}}function A_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Rf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return sc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(A_(this.Mu)&&fR.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class mR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||wc(e)}$u(e,t,s,o=!1){return new Rf({Mu:e,methodName:t,Ku:s,path:Nt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gR(r){const e=r._freezeSettings(),t=wc(r._databaseId);return new mR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function yR(r,e,t,s,o,u={}){const h=r.$u(u.merge||u.mergeFields?2:0,e,t,o);P_("Data must be an object, but it was:",h,s);const f=C_(s,h);let g,_;if(u.merge)g=new Mn(h.fieldMask),_=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const R of u.mergeFields){const V=vR(e,R,t);if(!h.contains(V))throw new me(Q.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);ER(w,V)||w.push(V)}g=new Mn(w),_=h.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,_=h.fieldTransforms;return new pR(new En(f),g,_)}function R_(r,e){if(k_(r=wn(r)))return P_("Unsupported field value:",e,r),C_(r,e);if(r instanceof S_)return function(s,o){if(!A_(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let g=R_(f,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=vt.fromDate(s);return{timestampValue:ec(o.serializer,u)}}if(s instanceof vt){const u=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ec(o.serializer,u)}}if(s instanceof Sf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _o)return{bytesValue:Gv(o.serializer,s._byteString)};if(s instanceof Un){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:uf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Af)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw f.qu("VectorValues must only contain numeric values.");return of(f.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${wf(s)}`)}(r,e)}function C_(r,e){const t={};return Tv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(r,(s,o)=>{const u=R_(o,e.Ou(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function k_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof vt||r instanceof Sf||r instanceof _o||r instanceof Un||r instanceof S_||r instanceof Af)}function P_(r,e,t){if(!k_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=wf(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function vR(r,e,t){if((e=wn(e))instanceof If)return e._internalPath;if(typeof e=="string")return x_(r,e);throw sc("Field path arguments must be of type string or ",r,!1,void 0,t)}const _R=new RegExp("[~\\*/\\[\\]]");function x_(r,e,t){if(e.search(_R)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new If(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function sc(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new me(Q.INVALID_ARGUMENT,f+r+g)}function ER(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(D_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wR extends N_{data(){return super.data()}}function D_(r,e){return typeof e=="string"?x_(r,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IR{convertValue(e,t="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ss(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>lt(h.doubleValue));return new Af(u)}convertGeoPoint(e){return new Sf(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=pc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Fa(e));default:return null}}convertTimestamp(e){const t=gi(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);He(e_(s));const o=new ja(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(t)||Pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AR extends N_{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(D_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Lu extends AR{data(e={}){return super.data(e)}}class RR{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Lu(this._firestore,this._userDataWriter,s.key,s,new Au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const g=new Lu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Au(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const g=new Lu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Au(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,w=-1;return f.type!==0&&(_=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:CR(f.type),doc:g,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function CR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class kR extends IR{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function PR(r){r=ic(r,Ac);const e=ic(r.firestore,Tf),t=I_(e),s=new kR(e);return TR(r._query),aR(t,r._query).then(o=>new RR(e,s,r,o))}function xR(r,e){const t=ic(r.firestore,Tf),s=cR(r),o=SR(r.converter,e);return NR(t,[yR(gR(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Rr.exists(!1))]).then(()=>s)}function NR(r,e){return function(s,o){const u=new fi;return s.asyncQueue.enqueueAndForget(async()=>KA(await sR(s),o,u)),u.promise}(I_(r),e)}(function(e,t=!0){(function(o){Io=o})(Eo),ho(new es("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new Tf(new yI(s.getProvider("auth-internal")),new wI(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(_.options.projectId,w)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),di(Ig,"4.7.5",e),di(Ig,"4.7.5","esm2017")})();function DR(r){return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"min-h-20 w-full p-1 rounded-xl bg-slate-800 text-white font-mono",children:[x.jsxs("h1",{children:[" Username : ",r.username," "]}),x.jsxs("p",{children:[" Posted on date : ",r.posted_on," "]}),x.jsxs("div",{children:["Comment : ",r.comment]})]})})}const ly=hR(Iy);function bR(r){const[e,t]=de.useState(""),[s,o]=de.useState(null);async function u(){try{const g=oy(ly,`comments/${r.id}/userComments`);await xR(g,{username:r.username,comment:e,posted_on:new Date().toLocaleDateString()}),h()}catch(g){console.error("Error adding document: ",g)}}async function h(){try{const g=await PR(oy(ly,`comments/${r.id}/userComments`)),_=[];g.forEach(w=>{_.push(w.data())}),o(_)}catch(g){console.error("Error fetching comments: ",g)}}de.useEffect(()=>{h()},[r.id]);function f(g){t(g.target.value)}return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"min-h-80 w-full bg-slate-900 font-mono text-white p-2",children:[x.jsx("h2",{className:"text-lg md:text-xl font-semibold mt-8 mb-4 bg-black p-2 rounded-xl",children:"Comments"}),x.jsxs("div",{className:"bg-black p-2 rounded-xl mb-4",children:[x.jsx("textarea",{className:"min-h-20 w-full bg-slate-800 outline-none rounded-xl p-1 hide-scrollbar",placeholder:"What's on your mind",onChange:f}),x.jsx("div",{className:"w-fit h-fit p-1 bg-red-400 rounded-xl cursor-pointer hover:bg-red-900",onClick:u,children:" Add "})]}),x.jsx("div",{className:"flex flex-col flex-wrap gap-2",children:s?s.map((g,_)=>x.jsx(DR,{username:g.username,comment:g.comment,posted_on:g.posted_on},_)):x.jsx("p",{className:"text-white font-mono bg-black p-1 text-center content-center",children:" Write the first comment ! "})})]})})}const OR="https://www.youtube.com/embed/",uy={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjNTI4NzkzYjUzNDU4NmNkMTE4NDI5Y2ZmY2FkOTUwNSIsIm5iZiI6MTczMzg0ODU5MC40ODEsInN1YiI6IjY3NTg2ZTBlMTI4N2Q5YjQ2YmExYTA5MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.o13ubhhcooNhbATGUSvwdKFImeZDkTOoeNEKVDUlhko"}};function VR(r){const[e,t]=de.useState(null),[s,o]=de.useState(""),[u,h]=de.useState(!0),[f,g]=de.useState(null);function _(){r.movieInfoUpdate()}return de.useEffect(()=>{async function w(){try{const W=(await(await fetch(`https://api.themoviedb.org/3/movie/${r.id}/videos?language=en-US`,uy)).json()).results.find(H=>H.type==="Trailer");W?t(W.key):xe.error("No trailer available for this movie.")}catch{xe.error("Cannot load the movie video!")}}async function R(){try{let z=await(await fetch(`https://api.themoviedb.org/3/movie/${r.id}?language=en-US`,uy)).json();g(z)}catch{xe.error("Can not find movie !")}}R(),w()},[r.id]),de.useEffect(()=>{e&&(o(`${OR}${e}`),h(!1))},[e]),x.jsxs(x.Fragment,{children:[x.jsx(Zd,{}),x.jsxs("div",{className:"min-h-screen min-w-screen bg-slate-900 flex flex-col gap-4 p-2 py-8",children:[x.jsxs("button",{className:"cursor-pointer absolute top-0 h-fit w-fit p-1 rounded-xl text-white text-xl bg-gray-800 text-[0.8rem]",onClick:_,children:[" ",x.jsx(oI,{})," "]}),x.jsx("div",{className:"min-h-44 sm:min-h-96 rounded-xl flex justify-center items-center p-2 w-full shadow-xl shadow-black",children:u?x.jsx(qu,{}):x.jsx("iframe",{src:s,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"sm:h-[30rem] sm:w-[60rem] rounded-xl"})}),f?x.jsxs("div",{className:"text-white font-mono p-2 flex flex-col gap-2",children:[x.jsxs("h1",{className:"text-xl",children:[" ",f.title," "]}),x.jsxs("p",{className:"text-[0.8rem]",children:[" ",f.overview," "]}),x.jsxs("p",{className:"text-[0.8rem]",children:[" Rating :  ",f.vote_average," "]}),x.jsxs("p",{className:"text-[0.8rem]",children:[" Language : ",f.spoken_languages[0].name," "]}),x.jsxs("p",{className:"text-[0.8rem]",children:[" Runtime : ",f.runtime," min "]}),x.jsxs("p",{className:"text-[0.8rem]",children:[" Release Date : ",f.release_date," "]}),x.jsxs("div",{className:"flex gap-2 text-[0.8rem]",children:[x.jsx("p",{children:" Genre: "}),f.genres.map((w,R)=>x.jsxs("p",{className:"text-[0.8rem]",children:["  ",w.name," "]},w.id||R))]})]}):x.jsx(qu,{}),x.jsx(bR,{username:r.username,id:r.id})]})]})}function LR(){return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"min-h-48 w-full bg-slate-900 text-white p-2",children:[x.jsx("h1",{className:"text-white bg-black text-xl px-8 p-2 rounded-xl font-mono font-bold shadow-md shadow-black",children:" CONTACT US "}),x.jsx("div",{className:"mt-4 px-8",children:x.jsxs("form",{className:"flex flex-col gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300",htmlFor:"name",children:"Name"}),x.jsx("input",{type:"text",id:"name",name:"name",className:"mt-1 block w-full p-2 bg-gray-800 rounded-md border-gray-600 text-white",placeholder:"Your Name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300",htmlFor:"email",children:"Email"}),x.jsx("input",{type:"email",id:"email",name:"email",className:"mt-1 block w-full p-2 bg-gray-800 rounded-md border-gray-600 text-white",placeholder:"Your Email"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300",htmlFor:"message",children:"Message"}),x.jsx("textarea",{id:"message",name:"message",className:"mt-1 block w-full p-2 bg-gray-800 rounded-md border-gray-600 text-white",rows:"4",placeholder:"Your Message"})]}),x.jsx("div",{className:"bg-red-400 w-fit h-fit px-2 p-1 rounded-xl hover:bg-red-900 cursor-pointer",children:"Send"})]})})]})})}function MR(){return x.jsxs("div",{className:"min-h-screen w-full bg-slate-900 text-white p-4 md:p-8 font-mono",children:[x.jsx("h1",{className:"text-xl font-bold mb-4 bg-black p-2 rounded-xl",children:"About This Website"}),x.jsx("p",{className:"mb-4 text-sm md:text-base",children:"Welcome to our Movie App! This website is designed to provide users with information about the latest and most popular movies. The data is fetched from The Movie Database (TMDB) API, ensuring you get up-to-date and accurate information about your favorite films."}),x.jsx("p",{className:"mb-4 text-sm md:text-base",children:"Our goal is to offer a seamless and engaging user experience. Whether you're looking for movie ratings, summaries, or simply want to explore what's currently playing, top-rated, or upcoming, our app has got you covered."}),x.jsx("p",{className:"mb-4 text-sm md:text-base",children:"Please note that this website is created for learning purposes only and is not intended for any commercial use. All the movie data, images, and videos belong to their respective owners and are used here solely for educational and informational purposes."}),x.jsx("h2",{className:"text-lg md:text-xl font-semibold mt-8 mb-4 bg-black p-2 rounded-xl",children:"Features"}),x.jsxs("ul",{className:"list-disc pl-8 text-sm md:text-base",children:[x.jsx("li",{className:"mb-2",children:"Explore Now Playing, Top Rated, Popular, and Upcoming movies"}),x.jsx("li",{className:"mb-2",children:"Search for your favorite movies using the search bar"}),x.jsx("li",{className:"mb-2",children:"Get detailed information about each movie, including synopsis, ratings, and more"}),x.jsx("li",{className:"mb-2",children:"User-friendly interface with smooth navigation and responsive design"})]}),x.jsx("h2",{className:"text-lg md:text-xl font-semibold mt-8 mb-4 bg-black p-2 rounded-xl",children:"Contact Us"}),x.jsx("p",{className:"text-sm md:text-base mb-10",children:"If you have any questions, suggestions, or feedback, feel free to reach out to us via the Contact Us page."})]})}const to={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjNTI4NzkzYjUzNDU4NmNkMTE4NDI5Y2ZmY2FkOTUwNSIsIm5iZiI6MTczMzg0ODU5MC40ODEsInN1YiI6IjY3NTg2ZTBlMTI4N2Q5YjQ2YmExYTA5MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.o13ubhhcooNhbATGUSvwdKFImeZDkTOoeNEKVDUlhko"}},cy=U1(Iy);function UR(){const[r,e]=de.useState(null),[t,s]=de.useState(null),[o,u]=de.useState(null),[h,f]=de.useState(null),[g,_]=de.useState(null),[w,R]=de.useState(!1),[V,z]=de.useState(!1),[W,H]=de.useState(!1),[$,ie]=de.useState(null),[ne,Z]=de.useState(""),[oe,De]=de.useState(!1),[Ee,k]=de.useState(""),T=de.useRef(null),I=de.useRef(null),C=de.useRef(null),N=de.useRef(null),O=de.useRef(null),A=de.useRef(null);de.useEffect(()=>{async function D(){try{let we=await fetch("https://api.themoviedb.org/3/authentication",to);B()}catch{xe.error("Error in Authentication !")}}async function B(){try{let $e=(await(await fetch("https://api.themoviedb.org/3/configuration",to)).json()).images.base_url;Re($e),te(),pe(),_e()}catch{xe.error("Error in Authentication !")}}async function te(){try{let ke=await(await fetch("https://api.themoviedb.org/3/movie/top_rated?language=en-US&page=1",to)).json();s(ke)}catch{xe.error("Error in fetching data !")}}async function pe(){try{let ke=await(await fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=1",to)).json();u(ke)}catch{xe.error("Error in fetching data !")}}async function _e(){try{let ke=await(await fetch("https://api.themoviedb.org/3/movie/upcoming?language=en-US&page=1",to)).json();f(ke)}catch{xe.error("Error in fetching data !")}}async function Re(we){try{let $e=await(await fetch("https://api.themoviedb.org/3/movie/now_playing?language=en-US&page=1",to)).json();e($e),_(we)}catch{xe.error("Error in fetching data !")}}V&&D()},[V]);function ze(D,B){ST(cy,D,B).then(te=>{xe("User created Successfully !"),k(D),Ye()}).catch(te=>{te.code;const pe=te.message;xe(`Error in creating user ! ${pe}`)})}function Qe(D,B){AT(cy,D,B).then(te=>{Ye(),k(D),xe("Login Successfull !")}).catch(te=>{te.code;const pe=te.message;xe(`Error in login ! ${pe}`)})}function Ye(){V&&xe("Logout Successfully !"),z(!V)}function Pe(){R(!w)}function J(D){H(!W),ie(D)}function ce(D){Z(D),De(!oe)}function re(D){D.current.scrollIntoView({behavior:"smooth"})}return x.jsxs(x.Fragment,{children:[x.jsx(Zd,{}),V?W?x.jsx(VR,{baseUrl:g,movieInfoUpdate:J,username:Ee,id:$}):x.jsxs("div",{className:"min-h-screen w-full bg-slate-900",children:[x.jsx(hI,{session:Ye,searchMovie:ce,handleScrollTo:re,refs:{nowPlayingRef:T,topRatedRef:I,popularRef:C,upcomingRef:N,contactRef:O,aboutRef:A}}),oe?x.jsx(sI,{baseUrl:g,searchMovie:ce,searchName:ne,movieInfoUpdate:J}):null,x.jsx(dI,{data:r,baseUrl:g,movieInfoUpdate:J}),x.jsx("div",{ref:I,children:x.jsx(_u,{name:"Top Rated",data:t,baseUrl:g,movieInfoUpdate:J})}),x.jsx("div",{ref:N,children:x.jsx(_u,{name:"Upcoming",data:h,baseUrl:g,movieInfoUpdate:J})}),x.jsx("div",{ref:C,children:x.jsx(_u,{name:"Popular",data:o,baseUrl:g,movieInfoUpdate:J})}),x.jsx("div",{ref:T,children:x.jsx(_u,{name:"Now Playing",data:r,baseUrl:g,movieInfoUpdate:J})}),x.jsx("div",{ref:O,children:x.jsx(LR,{})}),x.jsx("div",{ref:A,children:x.jsx(MR,{})})]}):w?x.jsx(fI,{setSignUp:Pe,createUser:ze}):x.jsx(pI,{validateUser:Qe,setSignUp:Pe})]})}W0.createRoot(document.getElementById("root")).render(x.jsx(UR,{}));
